{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\uc6b0\ub9ac\ub294","text":"<p>\uc6b0\ub9ac\ub294 \uc5ec\ub984 \ub3d9\uc548 \uc5bc\ub9c8\ub098 \uce58\uc5f4\ud558\uac8c \uc0b4\uc558\ub098</p> <p>\uadf8 \uc5f4\uae30\uac00 \ub0a8\uc544 \ub9f4\ub3c4\ub294 \uac00\uc744\ud5a5\uae30\uac00 \ub418\uae30\ub97c.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EA%B0%80%EC%83%81%20%ED%94%BC%ED%8C%85%20%EA%B8%B0%EB%8A%A5/%EA%B0%80%EC%83%81%20%ED%94%BC%ED%8C%85%EC%9D%B4%EB%9E%80/","title":"\uac00\uc0c1 \ud53c\ud305\uc774\ub780","text":""},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EA%B0%80%EC%83%81%20%ED%94%BC%ED%8C%85%20%EA%B8%B0%EB%8A%A5/%EA%B0%80%EC%83%81%20%ED%94%BC%ED%8C%85%EC%9D%B4%EB%9E%80/#_1","title":"\ud83d\ude03  \uc0c1\ud488 \ud53c\ud305","text":"<p>\ubaa8\ub378\uc774 \uc785\uace0 \uc788\ub294 \uc637\uc744 \uac1d\uccb4\ub85c \ucd94\ucd9c\ud558\uc5ec \uac00\uc0c1\ud53c\ud305\uc744 \ud560 \uc218 \uc788\ub294 \uae30\ub2a5</p> <p>\ud574\ub2f9 \uae30\ub2a5\uc758 \ubaa9\uc801\uc740 \uc628\ub77c\uc778 \uc1fc\ud551\uc744 \ud558\ub294 \uacbd\uc6b0,</p> <p>\uc758\uc0c1\uc744 \uc2e4\uc81c\ub85c \ud53c\ud305\ud574\ubcf4\uc9c0 \ubabb\ud558\ub294 \uac83\uc73c\ub85c \uc778\ud574, \uad6c\ub9e4\uae4c\uc9c0 \uc774\uc5b4\uc9c0\uc9c0 \uc54a\ub294 \uacbd\uc6b0\uac00 \ub9ce\uc74c</p> <p>\uc544.. \ubaa8\ub378\uc774 \uc785\uc73c\ub2c8\uae4c \uc774\ubed0\ubcf4\uc774\ub294\uac70 \uc544\ub2cc\uac00? \ub0b4\uac00 \uc785\uc73c\uba74\u2026.</p> <p>\uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \uc6b0\ub9ac\ub294 AI, \uc5ec\uae30\uc11c \ube44\uc804 \uae30\uc220\uc744 \ud65c\uc6a9\ud558\uc5ec \uac00\uc0c1\uc73c\ub85c \uc758\ub958\ub97c \ucc29\uc6a9\ud574\ubcfc \uc218 \uc788\ub294 \uc2dc\uc2a4\ud15c\uc744 \uac1c\ubc1c\ud558\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p> <p><code>OOTDiffusion</code> \uae30\uc220\uc744 \ud65c\uc6a9\ud558\uc5ec \uc0ac\uc6a9\uc790\uac00 \uc0c1\ud488 \uc774\ubbf8\uc9c0\ub97c \uac00\uc0c1\uc73c\ub85c \uc785\uc5b4\ubcf4\ub294 \uacbd\ud5d8\uc744 \uc81c\uacf5\ud558\ub294 \uc194\ub8e8\uc158\uc744 \uac1c\ubc1c\ud588\uc2b5\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \uc5c5\ubb34</p> <ul> <li>OOTD \ub525\ub7ec\ub2dd \ubaa8\ub378 \uc0ac\uc6a9</li> <li>Next.js\ub97c \ud1b5\ud574 FO \ud654\uba74 \uae30\ud68d \ubc0f \uac1c\ubc1c</li> <li>\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \ubc0f \ud569\uc131 \uc774\ubbf8\uc9c0 \ubc18\ud658\ubc1b\uae30 \uc704\ud55c \ubc31\uc5d4\ub4dc \uac1c\ubc1c</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EA%B0%80%EC%83%81%20%ED%94%BC%ED%8C%85%20%EA%B8%B0%EB%8A%A5/%EA%B0%80%EC%83%81%20%ED%94%BC%ED%8C%85%EC%9D%B4%EB%9E%80/#_2","title":"\uae30\uc220 \uac1c\uc694","text":"<p>\uc758\ub958 \uac1d\uccb4 \ucd94\ucd9c </p> <ul> <li>\uc1fc\ud551\ubab0 \uc6f9\uc0ac\uc774\ud2b8\uc5d0 \ubaa8\ub378\uc774 \uc785\uace0 \uc788\ub294 \uc637\uc744 \uac1d\uccb4\ub85c \ucd94\ucd9c\ud558\ub294 \uc791\uc5c5 </li> <li>AI \ub294 \uc758\ub958\uc640 \ubc30\uacbd\uc744 \uc815\ud655\ud558\uac8c \uad6c\ubd84\ud558\uc5ec \uc758\ub958 \uac1d\uccb4\ub9cc\uc744 \ucd94\ucd9c</li> <li>\ud654\uc9c8 \uac1c\uc120\uc744 \uc704\ud574 \ud544\uc694 \uc2dc \uc774\ubbf8\uc9c0 \uc2a4\ucf00\uc77c\uc5c5\uc744 \uc801\uc6a9</li> </ul> <p></p> <p>\uac00\uc0c1 \ud53c\ud305 </p> <ul> <li>\uc18c\ube44\uc790\uac00 \uc790\uc2e0\uc758 \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc\ud558\uace0, \uc758\ub958 \uac1d\uccb4\ub97c \uc120\ud0dd\ud558\uc5ec \uc785\ud788\ub294 \uacfc\uc815</li> <li>\uc5ec\uae30\uc11c <code>\ud3ec\uc988 \ucd94\uc815(pose estimation)</code>\uacfc <code>\uc774\ubbf8\uc9c0 \ud569\uc131</code> \uae30\uc220\uc774 \uc0ac\uc6a9</li> <li>\ud3ec\uc988 \ucd94\uc815\uc774\ub780 \uc0ac\uc6a9\uc790\uc758 \uc2e0\uccb4 \ud2b9\uc9d5\uacfc \uc790\uc138\ub97c \ud30c\uc545\ud558\uc5ec \uc758\ub958 \uac1d\uccb4\ub97c \uc790\uc5f0\uc2a4\ub7fd\uac8c \uc785\ud790 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc90c</li> </ul> <p>\uc138\ubd80 \uad6c\ud604 \ubc0f \ub3d9\uc791 \ubc29\uc2dd (Next.js &amp; Python FastAPI)</p> <ul> <li>\ud53c\ud305\ud574\ubcf4\uae30 \ubc84\ud2bc \ud074\ub9ad \uc2dc, \ud31d\uc5c5\ucc3d\uc744 \ud1b5\ud574 \uc67c\ucabd\uc5d0 \ucd94\ucd9c\ub41c \uc0c1\ud488 \uc774\ubbf8\uc9c0, \uc624\ub978\ucabd\uc5d0\ub294 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0(\ub0b4 \uc0ac\uc9c4)\ub97c \uc5c5\ub85c\ub4dc\ud558\ub3c4\ub85d \ud654\uba74 \uc124\uacc4</li> <li>\uc0ac\uc6a9\uc790\uac00 \uc790\uc2e0\uc758 \uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc\ud558\uace0, \ud53c\ud305\ud558\uace0 \uc2f6\uc740 \uc758\uc0c1\uc744 \ud074\ub9ad\ud558\uba74 \uc758\uc0c1 \uc774\ubbf8\uc9c0\uc640 \uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0\ub97c \ub118\uaca8\uc8fc\uace0 \ud53c\ud305\ub41c \uc774\ubbf8\uc9c0\ub97c \ubc18\ud658\ubc1b\uc544 \uc0ac\uc6a9\uc790 \uc0ac\uc9c4\uc5d0 \uc801\uc6a9</li> <li>\uac00\uc0c1 \ucc29\uc6a9 \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\uc790 \uc0ac\uc9c4\uc73c\ub85c \uad50\uccb4\ud558\uace0, \ucd08\uae30\ud654 \ubc84\ud2bc\uc744 \ucd94\uac00\ud558\uc5ec \uc0ac\uc6a9\uc790\uac00 \uc27d\uac8c \uc7ac\uc2dc\ub3c4\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uacc4</li> <li>\uc0c1\uc758\uc640 \ud558\uc758\ub97c \ub530\ub85c \uc785\uc5b4\ubcf4\uae30 \uc704\ud574 \uc774\uc804\uc5d0 \ud53c\ud305\ub41c \uc0ac\uc9c4\uc5d0 \ucd94\uac00 \ud53c\ud305\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d \uad6c\ud604</li> </ul> <p></p> <p></p> <p></p> <p>\ud53c\ud305 \uc644\ub8cc</p> <ul> <li>\uc18c\ube44\uc790\ub294 \ubaa8\ub378\uc774 \ucc29\uc6a9\ud558\uace0 \uc788\ub294 \uc758\ub958\ub4e4\uc744 \uc9c1\uc811 \uc120\ud0dd\ud558\uc5ec \uc989\uc2dc \uc790\uc2e0\uc758 \uc0ac\uc9c4\uc5d0 \uc801\uc6a9\ud574\ubcfc \uc218 \uc788\uac8c \ub428</li> <li>\uc2e4\uc2dc\uac04 \ud53c\ub4dc\ubc31\uc744 \uc81c\uacf5\ud558\uc5ec \uc18c\ube44\uc790\uac00 \uc6d0\ud558\ub294 \ucd5c\uc801\uc758 \uc2a4\ud0c0\uc77c\uc744 \ucc3e\uc744 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc90c</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/","title":"\uc774\ubbf8\uc9c0 \uac80\uc0c9\uc774\ub780?","text":"<p>\ud83d\udca1 \uc774\ubbf8\uc9c0 \uac80\uc0c9\uc774\ub780?</p> <p>\uc774\ubbf8\uc9c0\ub97c \ubc14\ud0d5\uc73c\ub85c \uc720\uc0ac\ud55c \uc774\ubbf8\uc9c0\ub098 \uad00\ub828 \uc815\ubcf4\ub97c \ucc3e\uc544\uc8fc\ub294 \uae30\uc220</p> <p>\uc1fc\ud551\ubab0 \uac80\uc0c9\uc5d0\uc11c \uc0ac\uc6a9\ud55c\ub2e4\uba74,</p> <p>\uc0c1\ud488 \uc774\ubbf8\uc9c0 \uc548\uc5d0 \uc874\uc7ac\ud558\ub294 \uac00\ubc29, \uadc0\uac78\uc774, \uc548\uacbd \ub4f1\uacfc \uac19\uc740 \uac1d\uccb4\ub97c \ucd94\ucd9c\ud558\uc5ec \uac80\uc0c9\ud560 \uc218 \uc788\ub294 \uae30\ub2a5</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_2","title":"\uc774\ubbf8\uc9c0 \uac1d\uccb4 \ucd94\ucd9c","text":""},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#ai","title":"AI \ubaa8\ub378\uc740 \uc0ac\uc9c4\uc744 \ubcf4\uace0 \uace0\uc591\uc774\uc778\uc9c0 \uc5b4\ub5bb\uac8c \uc54c \uc218 \uc788\uc744\uae4c?","text":""},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_3","title":"\ud2b9\uc9d5 \ucd94\ucd9c","text":"<ul> <li>\ub2e4\uc591\ud55c \uac1d\uccb4(\uc608: \uace0\uc591\uc774, \uac15\uc544\uc9c0, \uc0c8 \ub4f1)\uc758 \uc774\ubbf8\uc9c0\ub97c \uc218\uc9d1\ud558\uc5ec \ud559\uc2b5</li> <li>\ubaa8\ub378\uc740 \uc774\ubbf8\uc9c0 \ub370\uc774\ud130\ub97c \uc785\ub825\ubc1b\uc544 \uac01 \uc774\ubbf8\uc9c0\uc758 \uc2dc\uac01\uc801 \ud2b9\uc9d5(\uc608: \uc0c9\uc0c1, \ubaa8\uc591, \uc9c8\uac10 \ub4f1)\uc744 \ucd94\ucd9c</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_4","title":"\ub2e4\uc591\ud55c \ud2b9\uc9d5 \uae30\ubc18 \ud30c\uc545","text":"<ul> <li>\ucd94\ucd9c\ub41c \ud2b9\uc9d5\ub4e4\uc744 \ubc14\ud0d5\uc73c\ub85c \ub370\uc774\ud130\ub97c \ubd84\uc11d</li> <li>\ubaa8\ub378\uc740 \uac01 \uac1d\uccb4\uc758 \uc5ec\ub7ec \uc774\ubbf8\uc9c0\ub97c \ube44\uad50\ud558\uc5ec \uacf5\ud1b5\ub41c \ud2b9\uc9d5\uc744 \ud30c\uc545\ud558\uace0, \uc774\ub7ec\ud55c \ud2b9\uc9d5\uc744 \ubc14\ud0d5\uc73c\ub85c \uac1d\uccb4\ub97c \ubd84\ub958 </li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_5","title":"\ubaa8\ub378\uc758 \uc774\ubbf8\uc9c0 \ubd84\ub958","text":"<p>\ubd84\ub958\ud558\uace0 \uc2f6\uc740 \uc0c8\ub85c\uc6b4 \uc774\ubbf8\uc9c0\ub97c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4.</p> <ul> <li>\ud559\uc2b5\ub41c \ud2b9\uc9d5\ub4e4\uc744 \ubc14\ud0d5\uc73c\ub85c \ud310\ub2e8</li> <li>\ubaa8\ub378\uc740 \uc774\uc804\uc5d0 \ud559\uc2b5\ud55c \ud2b9\uc9d5\ub4e4\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc5b4\ub5a4 \uac1d\uccb4\uc778\uc9c0 \uc2dd\ubcc4</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_6","title":"\uace0\uc591\uc774\ub85c \uc778\uc2dd","text":"<ul> <li>\ucd5c\uc885\uc801\uc73c\ub85c \uc785\ub825\ub41c \uc774\ubbf8\uc9c0\ub97c \ubd84\uc11d\ud55c \uacb0\uacfc\ub97c \ubc14\ud0d5\uc73c\ub85c</li> <li>\uc785\ub825 \ubc1b\uc740 \uc774\ubbf8\uc9c0\uac00 \uace0\uc591\uc774\ub77c\ub294 \uacb0\ub860\uc744 \ub0b4\ub9bd\ub2c8\ub2e4.</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_7","title":"\uc1fc\ud551\ubab0\uc5d0 \uc801\ud569\ud55c \uc0c1\ud488 \ubd84\ub958 \ubaa8\ub378\uc744 \uc0dd\uc131\ud558\uba74?","text":"<p>Note</p> <p>\uc1fc\ud551\ubab0 \uc774\ubbf8\uc9c0 \uac80\uc0c9 \ubaa8\ub378\uc744 \ud6a8\uacfc\uc801\uc73c\ub85c \ud559\uc2b5\uc2dc\ud0a4\uae30 \uc704\ud574\uc11c\ub294 \ub2e4\uc591\ud55c \uc81c\ud488(\uc608: \uc758\ub958, \uc2e0\ubc1c, \uac00\ubc29 \ub4f1)\uc758 \uc774\ubbf8\uc9c0\ub97c \uc218\uc9d1\ud558\uace0, \uac01 \uc774\ubbf8\uc9c0\uc758 \uc2dc\uac01\uc801 \ud2b9\uc9d5\uc744 \ucd94\ucd9c\ud558\uc5ec \uc774\ub97c \ud559\uc2b5\uc2dc\ucf1c\uc57c\ud569\ub2c8\ub2e4. </p> <p>\uc774\ud6c4 \uc774 AI \ubaa8\ub378\uc740 \uc0c8\ub85c\uc6b4 \uc774\ubbf8\uc9c0\ub97c \uc785\ub825\ubc1b\uc558\uc744 \ub54c, \ud559\uc2b5\ub41c \ud2b9\uc9d5\uc744 \ubc14\ud0d5\uc73c\ub85c \uc774\ub97c \uc815\ud655\ud788 \uc778\uc2dd\ud558\uace0, \uc720\uc0ac\ud55c \uc81c\ud488\uc744 \uac80\uc0c9\ud558\uc5ec \uc0ac\uc6a9\uc790\uc5d0\uac8c \ucd94\ucc9c\ud560 \uc218 \uc788\uac8c\ub429\ub2c8\ub2e4.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_8","title":"\uc1fc\ud551\ubab0 \uc774\ubbf8\uc9c0 \uac80\uc0c9\uc758 \ub3d9\uc791 \ubc29\uc2dd","text":""},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#1","title":"1. \uc774\ubbf8\uc9c0 \uc785\ub825","text":"<p>\uc0ac\uc6a9\uc790\uac00 \uc1fc\ud551\ubab0 \uac80\uc0c9\ucc3d\uc5d0 \uc0c1\ud488\uc744 \ucd94\ucd9c\ud558\uace0\uc790 \ud558\ub294 \uc774\ubbf8\uc9c0\ub97c \uc5c5\ub85c\ub4dc (\uc608 : \ud328\uc158 \uc544\uc774\ud15c\uc774 \ub2f4\uae34 \uc774\ubbf8\uc9c0)  </p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#2","title":"2. \uc774\ubbf8\uc9c0 \ubd84\uc11d","text":"<ul> <li>\uac1d\uccb4 \uac80\ucd9c: \uc774\ubbf8\uc9c0 \ub0b4\uc758 \uac01 \uac1d\uccb4(\uc608: \uc637, \uc2e0\ubc1c, \uac00\ubc29 \ub4f1)\ub97c \uac10\uc9c0\ud558\uace0 \ubd84\ud560</li> <li>\ud2b9\uc9d5 \ucd94\ucd9c: \uac01 \uac1d\uccb4\uc758 \uc0c9\uc0c1, \ubaa8\uc591, \ud14d\uc2a4\ucc98 \ub4f1 \uc2dc\uac01\uc801 \ud2b9\uc9d5\uc744 \ubd84\uc11d\ud558\uc5ec \ud2b9\uc9d5 \ubca1\ud130\ub97c \uc0dd\uc131</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#3","title":"3. \uc138\ubd80 \uc774\ubbf8\uc9c0 \ucd9c\ub825","text":"<p>\uac10\uc9c0\ub41c \uac01 \uac1d\uccb4\ub97c \ubcc4\ub3c4\uc758 \uc774\ubbf8\uc9c0\ub85c \ubd84\ud560 \uc544\ub798\uc640 \uac19\uc774, \ud558\ub098\uc758 \uc774\ubbf8\uc9c0\uc5d0\uc11c \uc154\uce20, \ubc14\uc9c0, \uc2e0\ubc1c \ub4f1\uc758 \uac1d\uccb4\ub97c \uac01\uac01 \ucd94\ucd9c </p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#4","title":"4. \uc138\ubd80 \uc774\ubbf8\uc9c0 \uac80\uc0c9","text":"<p>\uac01 \uac1d\uccb4 \uc774\ubbf8\uc9c0\uc5d0 \ub300\ud574 \uc720\uc0ac\ud55c \uc81c\ud488\uc744 \uac80\uc0c9\uc5d4\uc9c4\uc5d0\uc11c \uac80\uc0c9</p> <ul> <li>\ud2b9\uc9d5 \ub9e4\uce6d: \ucd94\ucd9c\ub41c \ud2b9\uc9d5 \ubca1\ud130\ub97c \ubc14\ud0d5\uc73c\ub85c \uac80\uc0c9\uc5d4\uc9c4\uc758 \uc81c\ud488 \uc774\ubbf8\uc9c0\uc640 \uc720\uc0ac\uc131\uc744 \ube44\uad50</li> <li>\uacb0\uacfc \uc81c\uacf5: \uac00\uc7a5 \uc720\uc0ac\ud55c \uc81c\ud488 \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc81c\uacf5</li> </ul> <p></p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%87%BC%ED%95%91%EB%AA%B0%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%20%EA%B8%B0%EB%8A%A5/%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_9","title":"\uc1fc\ud551\ubab0 \uc774\ubbf8\uc9c0 \uac80\uc0c9\uc758 \uc7a5\uc810","text":"<ul> <li>\uc0ac\uc6a9\uc790 \ud3b8\uc758\uc131 \ud5a5\uc0c1: \uc0ac\uc6a9\uc790\ub294 \ubcf5\uc7a1\ud55c \ud0a4\uc6cc\ub4dc \uc785\ub825 \uc5c6\uc774 \uc774\ubbf8\uc9c0\ub97c \ud1b5\ud574 \uc6d0\ud558\ub294 \uc81c\ud488\uc744 \uc27d\uac8c \ucc3e\uc744 \uc218 \uc788\uc74c</li> <li>\uc1fc\ud551 \uacbd\ud5d8 \uac1c\uc120: \uc0ac\uc6a9\uc790\ub294 \ud2b9\uc815 \uc2a4\ud0c0\uc77c\uc758 \uc804\uccb4\uc801\uc778 \ucf54\ub514\ub97c \uac80\uc0c9\ud558\uace0 \uad6c\ub9e4\ud560 \uc218 \uc788\uc5b4 \uc1fc\ud551 \uacbd\ud5d8\uc774 \ud5a5\uc0c1</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/","title":"\uac80\uc0c9 \ub85c\uc9c1(opensearch)","text":"<p>Tip</p> <p>\ud83d\udca1 \uc774 \uae30\uc220\uc758 \ud575\uc2ec\uc740 \ud14d\uc2a4\ud2b8\ub85c \uc774\ubbf8\uc9c0\ub97c \uac80\uc0c9\ud560 \uc218 \uc788\ub2e4\ub294 \uac83</p> <p>\uc804\ud1b5\uc801\uc778 \uc774\ubbf8\uc9c0 \uac80\uc0c9\uc740 \uba54\ud0c0\ub370\uc774\ud130\ub098 \ud30c\uc77c \uc774\ub984\uc744 \uae30\ubc18\uc73c\ub85c \ud558\uc9c0\ub9cc,</p> <p>\uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc740 \uc774\ubbf8\uc9c0 \uc790\uccb4\uc758 \ub0b4\uc6a9\uc744 \uc774\ud574\ud558\uace0 \uc774\ub97c \ubc14\ud0d5\uc73c\ub85c \uc720\uc0ac\ud55c \uc774\ubbf8\uc9c0\ub97c \uac80\uc0c9\ud560 \uc218 \uc788\ub294 \uae30\ub2a5\uc744 \ub9d0\ud569\ub2c8\ub2e4.</p> <p>\uc77c\ubc18\uc801\uc73c\ub85c \uc774\ub807\uac8c \uac80\uc0c9\ud574\uc11c \uacb0\uacfc\ub97c \ubc1b\uc73c\ub824\uba74, \ub2e8\uc21c \uc0c1\ud488\uba85 \ubfd0\ub9cc \uc544\ub2c8\ub77c \uc0c1\ud488\uc5d0 \ub300\ud55c \ucd94\uac00 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc5b4\uc57c \ud560 \uac83\uc774\ub2e4.</p> <p><code>\uaca8\uc6b8, \uac80\uc815\uc0c9, \ub370\uc774\ud2b8\ub8e9 \ub4f1\ub4f1</code></p> <p>\ud558\uc9c0\ub9cc \uc774 \uae30\ub2a5\uc758 \ud575\uc2ec\uc740 \uc5b4\ub5a0\ud55c \ucd94\uac00 \uc815\ubcf4\ub97c \uc785\ub825\ud558\uc9c0 \uc54a\uace0\ub3c4 \ub531 \uc774\ubbf8\uc9c0 \ud558\ub098\ub9cc\uc744 \uac00\uc9c0\uace0 \ud14d\uc2a4\ud2b8\ub97c \uac80\uc0c9\ud560 \uc218 \uc788\ub2e4\ub294 \uac83\uc785\ub2c8\ub2e4.</p> <p>\uc774\ubbf8\uc9c0\uc5d0 \ub300\ud55c \uc815\ubcf4(\ucea1\uc158)\uc744 \ucd94\ucd9c\ud560 \uc218 \uc788\ub294 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub370\uc774\ud130\ub97c \ud655\ubcf4\ud569\ub2c8\ub2e4.</p> <p>\uc608\uc2dc \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc5b4</p> <ul> <li>\ubc1d\uc740 \ube68\uac04\uc0c9 \ubbf8\ub2c8 \uc6d0\ud53c\uc2a4</li> <li>\uc5b4\ub450\uc6b4 \ud30c\ub780\uc0c9 \ub871 \uc6d0\ud53c\uc2a4</li> <li>\uc18c\ub9e4\uac00 \uc5c6\ub294 \ub178\ub780\uc0c9 \uc6d0\ud53c\uc2a4</li> <li>\ud770\uc0c9 \ub85c\uc6b0\ud0d1 \uc6b4\ub3d9\ud654</li> <li>\uac08\uc0c9 \ud558\uc774\ud0d1 \uc6b4\ub3d9\ud654</li> <li> <p>\uc5ec\ub984\uc5d0 \uc785\uae30 \uc88b\uc740 \ud1b5\uae30\uc131 \uc88b\uc740 \ud770\uc0c9 \ud2f0\uc154\uce20</p> </li> <li> <p>\uaca9\uc2dd \uc788\ub294 \ud68c\uc0c9 \uc2ac\ub799\uc2a4 \ubc14\uc9c0</p> </li> <li>\ubc1c \ud3b8\ud55c \uc5ec\uc131\uc6a9 \uc6b4\ub3d9\ud654</li> <li>\ubc29\uc218 \uae30\ub2a5\uc774 \uc788\ub290 \uaca8\uc6b8 \ubd80\uce20</li> <li>\uace8\ub4dc \uceec\ub7ec\uc758 \ubbf8\ub2c8\uba40\ud55c \ub514\uc790\uc778 \uadc0\uac78\uc774</li> <li>\ub370\uc77c\ub9ac \ub8e9\uc5d0 \uc5b4\uc6b8\ub9ac\ub294 \uc2e4\ubc84 \ud314\ucc0c</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#0","title":"0. \uae30\uc220 \uac1c\uc694","text":"<ol> <li>\ucea1\uc158 \ucd94\ucd9c</li> <li>\ucea1\uc158 \uc784\ubca0\ub529 &amp; \uac80\uc0c9\uc5b4 \uc784\ubca0\ub529</li> <li>\uad00\ub828 \uc0c1\ud488 \uc81c\uacf5</li> </ol>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#1","title":"1. \uac2d\uc158 \ucd94\ucd9c","text":"<p>\uba3c\uc800, \uc0c1\ud488\uc744 \ub4f1\ub85d\ud560 \ub54c \ub123\ub294 \uc0c1\ud488 \uc774\ubbf8\uc9c0\ub85c\ubd80\ud130 \uc790\ub3d9\uc73c\ub85c \uac2d\uc158\uc744 \uc0dd\uc131</p> <p>\uc774\ub294 \uc0c1\ud488\uc758 \uc8fc\uc694 \ub0b4\uc6a9\uc744 \uc790\uc5f0\uc5b4\ub85c \ud45c\ud604\ud55c \uac83</p> <p>\uc608\ub97c \ub4e4\uc5b4, \uc2e0\ubc1c\uc0ac\uc9c4\uc5d0\uc11c \u201c\ube68\uac04 \uc904\ubb34\ub2ac\uac00 \uc788\ub294 \ub7f0\ub2dd\ud654 \ud55c \ucf24\ub808\u201d \uc640 \uac19\uc740 \ucea1\uc158\uc744 \uc0dd\uc131</p> <p>\uc601\uc5b4 \ucea1\uc158</p> <p>The image shows a young man standing in front of a building with a sign that reads \"Royles\". He is wearing a beige button-down shirt and black trousers. He is holding a black jacket in his left hand and has a pair of glasses on his right wrist. He has short black hair and is looking off to the side with a serious expression on his face. The building behind him has a wooden facade and large windows.</p> <p>\ud55c\uad6d\uc5b4 \ucea1\uc158</p> <p>\uadf8 \uc774\ubbf8\uc9c0\ub294 \"Royles\"\ub77c\uace0 \uc4f0\uc5ec\uc9c4 \ud45c\uc9c0\ud310\uc774 \uc788\ub294 \uac74\ubb3c \uc55e\uc5d0 \uc11c \uc788\ub294 \uc80a\uc740 \ub0a8\uc790\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uadf8\ub294 \ubca0\uc774\uc9c0\uc0c9 \ubc84\ud2bc\ub2e4\uc6b4 \uc154\uce20\uc640 \uac80\uc740\uc0c9 \ubc14\uc9c0\ub97c \uc785\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub294 \uc67c\uc190\uc5d0 \uac80\uc740\uc0c9 \uc7ac\ud0b7\uc744 \ub4e4\uace0 \uc788\uace0 \uc624\ub978\ucabd \uc190\ubaa9\uc5d0 \uc548\uacbd\uc744 \uc4f0\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub294 \uc9e7\uc740 \uac80\uc740 \uba38\ub9ac\ub97c \uac00\uc9c0\uace0 \uc788\uace0 \uc2ec\uac01\ud55c \ud45c\uc815\uc73c\ub85c \uc606\uc744 \ub0b4\ub824\ub2e4\ubcf4\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\uc758 \ub4a4\uc5d0 \uc788\ub294 \uac74\ubb3c\uc740 \ub098\ubb34\ub85c \ub41c \uc815\uba74\uacfc \ud070 \ucc3d\ubb38\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#2","title":"2. \ud544\uc694\ud55c \uc815\ubcf4\ub9cc \ucd94\ucd9c","text":"<p>\uc704\uc5d0\uc11c \ubcf4\uc2e0 \ucea1\uc158 \ub370\uc774\ud130\ub97c \ubaa8\ub450 \uc1fc\ud551\ubab0 \ub370\uc774\ud130\ub85c \ud65c\uc6a9\ub420 \uacbd\uc6b0, \ubd88\ud544\uc694\ud55c \ub370\uc774\ud130\uac00 \ud3ec\ud568\ub418\uc5b4 \uac80\uc0c9 \uc131\ub2a5\uc744 \uc800\ud558\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574, \ub3c4\uba54\uc778\uc5d0 \ub9de\ucd98 \ud575\uc2ec \ud0a4\uc6cc\ub4dc\ub9cc\uc744 \ucd94\ucd9c\ud558\uace0 \uc911\uc694\ub3c4 \uc21c\uc73c\ub85c \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\ub294 \ubc29\uc2dd\uc744 \ucc44\ud0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\ub7ec\ud55c \ubc29\uc2dd\uc740 \uac80\uc0c9 \uc815\ud655\ub3c4\ub97c \ub192\uc774\uace0 \uc2dc\uc2a4\ud15c \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud558\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.</p> <p>\uc774\ubbf8\uc9c0 \uc9c8\uc758 \ubaa8\ub378\uc744 \ud1b5\ud574 \ud544\uc694\ud55c \uc815\ubcf4\ub9cc\uc744 \ucd94\ucd9c\ud558\ub294 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.</p> <ol> <li>\uce74\ud14c\uace0\ub9ac: \uc0c1\ud488\uc758 \uc885\ub958 (\uc608: \uc6d0\ud53c\uc2a4, \uc6b4\ub3d9\ud654, \uc2ac\ub799\uc2a4 \ub4f1)</li> <li>\uc0c9\uc0c1: \uc0c1\ud488\uc758 \uc8fc\uc694 \uc0c9\uc0c1 (\uc608: \ube68\uac04\uc0c9, \ud30c\ub780\uc0c9, \ub178\ub780\uc0c9 \ub4f1)</li> <li>\uc131\ubcc4: \uc0c1\ud488\uc758 \ub300\uc0c1 \uc131\ubcc4 (\uc608: \uc5ec\uc131\uc6a9, \ub0a8\uc131\uc6a9)</li> <li>\uacc4\uc808: \uc0c1\ud488\uc774 \uc801\ud569\ud55c \uacc4\uc808 (\uc608: \uc5ec\ub984\uc637, \uaca8\uc6b8\uc637 \ub4f1)</li> </ol> <p>\uc774\ub7ec\ud55c \uc815\ubcf4\ub97c \uc790\ub3d9\uc73c\ub85c \ucd94\ucd9c\ud560 \uc218 \uc788\ub3c4\ub85d AI \ubaa8\ub378\uc744 \uc124\uc815\ud558\uba74, \ubaa8\ub378\uc740 \uc774\ubbf8\uc9c0 \uc548\uc758 \uc0c1\ud488 \uc815\ubcf4\ub97c \uc815\ud655\ud558\uac8c \ubc18\ud658\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\ucd94\ucd9c\ub41c \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uae30 \uc704\ud574 \uac80\uc0c9\uc5d4\uc9c4 \ud544\ub4dc\ub97c \uad6c\uc131\ud558\uace0, \uc784\ubca0\ub529 \ubca1\ud130\ub97c \uc0dd\uc131\ud558\uc5ec \uc800\uc7a5\ud569\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ubc29\uc2dd\uc73c\ub85c, \uac80\uc0c9 \ucffc\ub9ac\uc5d0 \ub300\ud55c \uc751\ub2f5 \uc2dc \uc784\ubca0\ub529 \ubca1\ud130\ub97c \ud65c\uc6a9\ud558\uc5ec \ub192\uc740 \uc815\ud655\ub3c4\uc758 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uacb0\uacfc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#3","title":"3. \uac80\uc0c9\uc5d4\uc9c4 \ub7ad\ud0b9 \ubaa8\ub378 \uad6c\ud604","text":"<p>OpenSearch\ub97c \ud65c\uc6a9\ud55c \uac80\uc0c9\uc5d4\uc9c4 \ub7ad\ud0b9 \ubaa8\ub378 \uad6c\ud604</p> <p>\uc774\ubbf8\uc9c0\uc5d0\uc11c \ucd94\ucd9c\ud55c \uc815\ubcf4\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \uac80\uc0c9\ud558\uae30 \uc704\ud574 OpenSearch\ub97c \ud65c\uc6a9\ud55c \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uae30\ub2a5\uc744 \uad6c\ud604\ud569\ub2c8\ub2e4. \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc740 \ub2e8\uc21c\ud55c \ud0a4\uc6cc\ub4dc \ub9e4\uce6d\uc744 \ub118\uc5b4, \uac80\uc0c9\uc5b4\uc640 \ubb38\uc11c \uac04\uc758 \uc758\ubbf8\uc801 \uc720\uc0ac\uc131\uc744 \uae30\ubc18\uc73c\ub85c \uacb0\uacfc\ub97c \uc81c\uacf5\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uc774\ub97c \uc704\ud574 \ub7ad\ud0b9 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec \uac80\uc0c9 \uacb0\uacfc\uc758 \uc815\ud655\uc131\uc744 \ub192\uc785\ub2c8\ub2e4.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#31-opensearch","title":"3.1 OpenSearch \uc124\uc815","text":"<p>\uba3c\uc800, OpenSearch \ud074\ub7ec\uc2a4\ud130\ub97c \uad6c\uc131\ud569\ub2c8\ub2e4.</p> <ol> <li>OpenSearch \ud074\ub7ec\uc2a4\ud130 \uad6c\uc131: \ud074\ub7ec\uc2a4\ud130\ub97c \uc124\uc815\ud558\uace0 \ud544\uc694\ud55c \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4.</li> <li>\uc778\ub371\uc2a4 \ub9e4\ud551 \uc124\uc815: \ucd94\ucd9c\ub41c \ucea1\uc158 \uc815\ubcf4\ub97c \uc800\uc7a5\ud560 \uc778\ub371\uc2a4\uc758 \ub9e4\ud551\uc744 \uc124\uc815\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, 'category', 'color', 'gender', 'season' \ub4f1\uc758 \ud544\ub4dc\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4.</li> </ol> <pre><code>PUT /fashion_items\n{\n  \"mappings\": {\n    \"properties\": {\n      \"goodsNm\": { \"type\": \"text\" },\n      \"category\": { \"type\": \"dense_vector\", \"dims\": 768 },\n      \"color\": { \"type\": \"dense_vector\", \"dims\": 768 },\n      \"gender\": { \"type\": \"dense_vector\", \"dims\": 768 },\n      \"season\": { \"type\": \"dense_vector\", \"dims\": 768 },\n      \"embedding\": { \"type\": \"dense_vector\", \"dims\": 768 }\n    }\n  }\n}\n</code></pre>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#32","title":"3.2 \uc784\ubca0\ub529 \ubca1\ud130 \uc0dd\uc131 \ubc0f \uc800\uc7a5","text":"<p>\uc774\ubbf8\uc9c0 \ucea1\uc158\uc744 \ud1b5\ud574 \ucd94\ucd9c\ub41c \uc815\ubcf4\ub97c \uc784\ubca0\ub529 \ubca1\ud130\ub85c \ubcc0\ud658\ud569\ub2c8\ub2e4. \uc774\ub97c \uc704\ud574 \uc0ac\uc804 \ud6c8\ub828\ub41c \ubaa8\ub378(BERT, CLIP \ub4f1)\uc744 \uc0ac\uc6a9\ud558\uc5ec \ucea1\uc158\uc744 \ubca1\ud130\ub85c \ubcc0\ud658\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, CLIP \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc774\ubbf8\uc9c0\uc640 \ud14d\uc2a4\ud2b8 \ubaa8\ub450\uc5d0\uc11c \uc784\ubca0\ub529\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#33","title":"3.3 \ub7ad\ud0b9 \ubaa8\ub378 \uc801\uc6a9","text":"<p>\uac80\uc0c9 \uc694\uccad\uc744 \ucc98\ub9ac\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9\uc790\uc758 \ucffc\ub9ac\ub97c \uc784\ubca0\ub529 \ubca1\ud130\ub85c \ubcc0\ud658\ud55c \ud6c4, OpenSearch\uc758 k-NN \uac80\uc0c9 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc720\uc0ac\ud55c \ud56d\ubaa9\uc744 \ucc3e\uc2b5\ub2c8\ub2e4. \ub7ad\ud0b9 \ubaa8\ub378\uc744 \ud1b5\ud574 \uac80\uc0c9 \uacb0\uacfc\uc758 \uc21c\uc704\ub97c \uc815\ud558\uc5ec, \uac00\uc7a5 \uad00\ub828\uc131\uc774 \ub192\uc740 \uacb0\uacfc\ub97c \uc0c1\uc704\uc5d0 \ub178\ucd9c\uc2dc\ud0b5\ub2c8\ub2e4.</p> <ol> <li>\uc0ac\uc6a9\uc790 \ucffc\ub9ac \uc784\ubca0\ub529: \uc0ac\uc6a9\uc790\uc758 \ud14d\uc2a4\ud2b8 \ucffc\ub9ac\ub97c \uc784\ubca0\ub529 \ubca1\ud130\ub85c \ubcc0\ud658\ud569\ub2c8\ub2e4.</li> <li>k-NN \uac80\uc0c9 \uc218\ud589: OpenSearch\uc758 k-NN \uac80\uc0c9\uc744 \ud1b5\ud574 \uc720\uc0ac\ud55c \ud56d\ubaa9\uc744 \uac80\uc0c9\ud569\ub2c8\ub2e4.</li> <li>\ub7ad\ud0b9 \ubaa8\ub378 \uc801\uc6a9: \uac80\uc0c9 \uacb0\uacfc\uc5d0 \ub7ad\ud0b9 \ubaa8\ub378\uc744 \uc801\uc6a9\ud558\uc5ec \uc21c\uc704\ub97c \ub9e4\uae41\ub2c8\ub2e4.</li> </ol> <pre><code>query = \"\ubc1d\uc740 \ube68\uac04\uc0c9 \ubbf8\ub2c8 \uc6d0\ud53c\uc2a4\"\nquery_embedding = model.get_text_features(query).squeeze().tolist()\n\nsearch_query = {\n  \"query\": {\n    \"bool\": {\n      \"should\": [\n        {\n          \"knn\": {\n            \"category\": {\n              \"vector\": query_embedding,\n              \"k\": 10\n            }\n          }\n        },\n        {\n          \"knn\": {\n            \"color\": {\n              \"vector\": query_embedding,\n              \"k\": 10\n            }\n          }\n        },\n        {\n          \"knn\": {\n            \"gender\": {\n              \"vector\": query_embedding,\n              \"k\": 10\n            }\n          }\n        },\n        {\n          \"knn\": {\n            \"season\": {\n              \"vector\": query_embedding,\n              \"k\": 10\n            }\n          }\n        },\n        {\n          \"knn\": {\n            \"embedding\": {\n              \"vector\": query_embedding,\n              \"k\": 10\n            }\n          }\n        }\n      ]\n    }\n  },\n  \"rescore\": {\n    \"window_size\": 50,\n    \"query_weight\": 0.7,\n    \"rescore_query_weight\": 1.2,\n    \"rescore_query\": {\n      \"rank_feature\": {\n        \"field\": \"popularity\",\n        \"factor\": 1.2\n      }\n    }\n  }\n}\n\nresponse = opensearch.search(index=\"fashion_items\", body=search_query)\n</code></pre>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EA%B2%80%EC%83%89%20%EB%A1%9C%EC%A7%81%28opensearch%29/#34","title":"3.4 \uac80\uc0c9 \uacb0\uacfc \uc81c\uacf5","text":"<p>\uac80\uc0c9 \uacb0\uacfc\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uac00\uc7a5 \uad00\ub828\uc131\uc774 \ub192\uc740 \ud56d\ubaa9\ubd80\ud130 \uc21c\uc11c\ub300\ub85c \uc81c\uacf5\ub429\ub2c8\ub2e4. OpenSearch\uc758 \ub7ad\ud0b9 \ubaa8\ub378\uc744 \ud1b5\ud574 \uc720\uc0ac\uc131\uc744 \uae30\uc900\uc73c\ub85c \uacb0\uacfc\ub97c \uc815\ub82c\ud558\uc5ec \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>\uc774\uc640 \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c OpenSearch\uc640 \uc784\ubca0\ub529 \ubca1\ud130\ub97c \ud65c\uc6a9\ud55c \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc744 \uad6c\ud604\ud558\uba74, \uc0ac\uc6a9\uc790\uc5d0\uac8c \ub354\uc6b1 \uc815\ud655\ud558\uace0 \uc720\uc758\ubbf8\ud55c \uac80\uc0c9 \uacb0\uacfc\ub97c \uc81c\uacf5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790 \uacbd\ud5d8\uc744 \ud06c\uac8c \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\uc73c\uba70, \uc1fc\ud551\ubab0\uc5d0\uc11c \uc6d0\ud558\ub294 \uc0c1\ud488\uc744 \ube60\ub974\uace0 \uc815\ud655\ud558\uac8c \ucc3e\uc744 \uc218 \uc788\uac8c \ub429\ub2c8\ub2e4.</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/","title":"\uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc774\ub780","text":""},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#_1","title":"\ud83d\ude00 \uc774\ubbf8\uc9c0 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9","text":"<p>\uc774\ubbf8\uc9c0 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc740 \uc774\ubbf8\uc9c0\uc758 \uc758\ubbf8\uc640 \ub0b4\uc6a9\uc744 \uae30\ubc18\uc73c\ub85c \uc774\ubbf8\uc9c0\ub97c \uac80\uc0c9\ud558\ub294 \uae30\uc220</p> <p>Note</p> <p>\ud83d\udca1 \uc774 \uae30\uc220\uc758 \ud575\uc2ec\uc740 \ud14d\uc2a4\ud2b8\ub85c \uc774\ubbf8\uc9c0\ub97c \uac80\uc0c9\ud560 \uc218 \uc788\ub2e4\ub294 \uac83</p> <p>\uc804\ud1b5\uc801\uc778 \uc774\ubbf8\uc9c0 \uac80\uc0c9\uc740 \uba54\ud0c0\ub370\uc774\ud130\ub098 \ud30c\uc77c \uc774\ub984\uc744 \uae30\ubc18\uc73c\ub85c \ud558\uc9c0\ub9cc,</p> <p>\uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc740 \uc774\ubbf8\uc9c0 \uc790\uccb4\uc758 \ub0b4\uc6a9\uc744 \uc774\ud574\ud558\uace0 \uc774\ub97c \ubc14\ud0d5\uc73c\ub85c \uc720\uc0ac\ud55c \uc774\ubbf8\uc9c0\ub97c \ucc3e\ub294 \uac83</p> <p>\uc774\ub97c \uc704\ud574 \ub525\ub7ec\ub2dd(CNN)\uc744 \ud65c\uc6a9\ud558\uc5ec \uc774\ubbf8\uc9c0\uc758 \uace0\ucc28\uc6d0\uc801 \ud2b9\uc9d5\uc744 \ucd94\ucd9c\ud558\uace0, \uc758\ubbf8\uc801\uc73c\ub85c \ud574\uc11d</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#1","title":"1. \uc608\uc2dc \uac80\uc0c9\uc5b4","text":"<ul> <li>\ubc1d\uc740 \ube68\uac04\uc0c9 \ubbf8\ub2c8 \uc6d0\ud53c\uc2a4</li> <li>\uc5b4\ub450\uc6b4 \ud30c\ub780\uc0c9 \ub871 \uc6d0\ud53c\uc2a4</li> <li>\uc18c\ub9e4\uac00 \uc5c6\ub294 \ub178\ub780\uc0c9 \uc6d0\ud53c\uc2a4</li> <li>\ud770\uc0c9 \ub85c\uc6b0\ud0d1 \uc6b4\ub3d9\ud654</li> <li> <p>\uac08\uc0c9 \ud558\uc774\ud0d1 \uc6b4\ub3d9\ud654</p> </li> <li> <p>\uc5ec\ub984\uc5d0 \uc785\uae30 \uc88b\uc740 \ud1b5\uae30\uc131 \uc88b\uc740 \ud770\uc0c9 \ud2f0\uc154\uce20</p> </li> <li>\uaca9\uc2dd \uc788\ub294 \ud68c\uc0c9 \uc2ac\ub799\uc2a4 \ubc14\uc9c0</li> <li>\ubc1c \ud3b8\ud55c \uc5ec\uc131\uc6a9 \uc6b4\ub3d9\ud654</li> <li>\ubc29\uc218 \uae30\ub2a5\uc774 \uc788\ub290 \uaca8\uc6b8 \ubd80\uce20</li> <li>\uace8\ub4dc \uceec\ub7ec\uc758 \ubbf8\ub2c8\uba40\ud55c \ub514\uc790\uc778 \uadc0\uac78\uc774</li> <li>\ub370\uc77c\ub9ac \ub8e9\uc5d0 \uc5b4\uc6b8\ub9ac\ub294 \uc2e4\ubc84 \ud314\ucc0c</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#2","title":"2. \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc758 \uc7a5\uc810","text":"<ul> <li>\ub9de\ucda4\ud654 &amp; \ud3b8\ub9ac\uc131 : \uace0\uac1d\uc758 \ud2b9\uc815 \uc0c1\ud669\uc774\ub098 \uc6a9\ub3c4\uc5d0 \ub9de\ub294 \uc81c\ud488\uc744 \uc27d\uace0 \ube60\ub974\uac8c \ucc3e\uc74c</li> </ul>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#3","title":"3. \uae30\uc220 \uac1c\uc694","text":"<ol> <li>\uac2d\uc158 \ucd94\ucd9c</li> <li>\ucea1\uc158 \uc784\ubca0\ub529</li> <li>\uac80\uc0c9\uc5b4 \uc784\ubca0\ub529</li> <li>\uc720\uc0ac\ub3c4 \uacc4\uc0b0</li> <li>\uad00\ub828 \uc0c1\ud488 \uc81c\uacf5</li> </ol>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#1_1","title":"1.\uac2d\uc158 \ucd94\ucd9c","text":"<p>\uba3c\uc800, \uc0c1\ud488\uc744 \ub4f1\ub85d\ud560 \ub54c \ub123\ub294 \uc0c1\ud488 \uc774\ubbf8\uc9c0\ub85c\ubd80\ud130 \uc790\ub3d9\uc73c\ub85c \uac2d\uc158\uc744 \uc0dd\uc131</p> <p>\uc774\ub294 \uc0c1\ud488\uc758 \uc8fc\uc694 \ub0b4\uc6a9\uc744 \uc790\uc5f0\uc5b4\ub85c \ud45c\ud604\ud55c \uac83</p> <p>\uc608\ub97c \ub4e4\uc5b4, \uc2e0\ubc1c\uc0ac\uc9c4\uc5d0\uc11c \u201c\ube68\uac04 \uc904\ubb34\ub2ac\uac00 \uc788\ub294 \ub7f0\ub2dd\ud654 \ud55c \ucf24\ub808\u201d \uc640 \uac19\uc740 \ucea1\uc158\uc744 \uc0dd\uc131  </p> <p></p> <p>\uc601\uc5b4 \ucea1\uc158</p> <p>The image shows a young man standing in front of a building with a sign that reads \"Royles\". He is wearing a beige button-down shirt and black trousers. He is holding a black jacket in his left hand and has a pair of glasses on his right wrist. He has short black hair and is looking off to the side with a serious expression on his face. The building behind him has a wooden facade and large windows.</p> <p>\ud55c\uad6d\uc5b4 \ucea1\uc158</p> <p>\uadf8 \uc774\ubbf8\uc9c0\ub294 \"Royles\"\ub77c\uace0 \uc4f0\uc5ec\uc9c4 \ud45c\uc9c0\ud310\uc774 \uc788\ub294 \uac74\ubb3c \uc55e\uc5d0 \uc11c \uc788\ub294 \uc80a\uc740 \ub0a8\uc790\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4. \uadf8\ub294 \ubca0\uc774\uc9c0\uc0c9 \ubc84\ud2bc\ub2e4\uc6b4 \uc154\uce20\uc640 \uac80\uc740\uc0c9 \ubc14\uc9c0\ub97c \uc785\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub294 \uc67c\uc190\uc5d0 \uac80\uc740\uc0c9 \uc7ac\ud0b7\uc744 \ub4e4\uace0 \uc788\uace0 \uc624\ub978\ucabd \uc190\ubaa9\uc5d0 \uc548\uacbd\uc744 \uc4f0\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub294 \uc9e7\uc740 \uac80\uc740 \uba38\ub9ac\ub97c \uac00\uc9c0\uace0 \uc788\uace0 \uc2ec\uac01\ud55c \ud45c\uc815\uc73c\ub85c \uc606\uc744 \ub0b4\ub824\ub2e4\ubcf4\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\uc758 \ub4a4\uc5d0 \uc788\ub294 \uac74\ubb3c\uc740 \ub098\ubb34\ub85c \ub41c \uc815\uba74\uacfc \ud070 \ucc3d\ubb38\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#2_1","title":"2. \ucea1\uc158 \uc784\ubca0\ub529","text":"<p>\uc0dd\uc131\ub41c \ucea1\uc158\uc744 \uc784\ubca0\ub529\ud569\ub2c8\ub2e4.</p> <p>\uc784\ubca0\ub529\uc740 \ud14d\uc2a4\ud2b8\ub97c \ubca1\ud130 \ud615\ud0dc\ub85c \ubcc0\ud658\ud558\uc5ec, \ucef4\ud4e8\ud130\uac00 \uc774\ud574\ud560 \uc218 \uc788\ub294 \ud615\ud0dc\ub85c \ub9cc\ub4dc\ub294 \uacfc\uc815</p> <p>\uc784\ubca0\ub529 \uacb0\uacfc</p> <p>[-4.6010e-01,  4.2769e-01, -2.9483e+00, -1.1792e+00, -1.1265e-01, 4.0784e-01,  1.0305e+00,  1.1099e+00,  9.1235e-01, -6.3019e-01, 2.0483e-01,  4.7777e-01, -1.4992e-01,  8.0334e-01,  5.4970e-02, 1.7510e-01,  3.3063e-01, -9.7676e-01, -2.5874e-01, -1.5424e-01, -1.0303e+00, -1.0298e-01, -5.2989e-01,  2.4445e-01,  1.1998e+00, \u2026\u2026 9.0055e-01,  1.9786e-01, 3.1558e-02, -2.8156e-01,  6.3640e-01, -4.3221e-01,  4.0642e-01, -5.0806e-01, -7.9445e-01, -1.5009e-01]</p> <p></p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#3_1","title":"3. \uac80\uc0c9\uc5b4 \uc784\ubca0\ub529","text":"<p>\uc0ac\uc6a9\uc790\uac00 \uc785\ub825\ud55c \uac80\uc0c9\uc5b4\ub3c4 \ub3d9\uc77c\ud55c \ubc29\uc2dd\uc73c\ub85c \uc784\ubca0\ub529</p> <p>\uc608\ub97c \ub4e4\uc5b4, \uc0ac\uc6a9\uc790\uac00 <code>\u201c\ubca0\uc774\uc9c0\uc0c9 \ub2e8\ucd94 \uc154\uce20\u201d</code>\ub97c \uac80\uc0c9\ud558\uba74, \uc774\ub97c \ubca1\ud130 \ud615\ud0dc\ub85c \ubcc0\ud658</p> <p>\ubca1\ud130\ub294 \ud06c\uae30\uc640 \ubc29\ud5a5\uc744 \uac00\uc9c4 \uc218\ud559\uc801 \uac1d\uccb4\uc785\ub2c8\ub2e4.</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#4","title":"4. \uc720\uc0ac\ub3c4 \uacc4\uc0b0","text":"<p>\uc774\ubbf8\uc9c0 \ucea1\uc158\uc758 \uc784\ubca0\ub529 \ubca1\ud130\uc640 \uac80\uc0c9\uc5b4 \uc784\ubca0\ub529 \ubca1\ud130 \uac04\uc758 \uc720\uc0ac\ub3c4\ub97c \uacc4\uc0b0</p> <p>\uc774\ub294 \uc0ac\uc6a9\uc790\uac00 \uc785\ub825\ud55c \uac80\uc0c9\uc5b4\uc640 \uc2dc\ub9e8\ud2f1\ud558\uac8c \uc720\uc0ac\ud55c \uc0c1\ud488\uc744 \uc81c\uacf5\ud568\uc73c\ub85c\uc368, \ubcf4\ub2e4 \uc815\ud655\ud55c \uac80\uc0c9 \uacb0\uacfc\uc640 \uc0ac\uc6a9\uc790\uac00 \ub514\ud14c\uc77c\uc801\uc73c\ub85c \uc6d0\ud558\ub294 \uc0c1\ud488\uc744 \uac80\uc0c9\ud560 \uc218 \uc788\uac8c \ub428</p>"},{"location":"A.%ED%8F%AC%ED%8A%B8%ED%8F%B4%EB%A6%AC%EC%98%A4/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89/%EC%8B%9C%EB%A7%A8%ED%8B%B1%20%EA%B2%80%EC%83%89%EC%9D%B4%EB%9E%80/#5","title":"5. \uad00\ub828 \uc0c1\ud488 \uc774\ubbf8\uc9c0 \ubc18\ud658","text":"<p>\uc720\uc0ac\ub3c4\uac00 \ub192\uc740 \uc0c1\ud488 \uc774\ubbf8\uc9c0\ub4e4\uc744 \uac80\uc0c9 \uacb0\uacfc\ub85c \ubc18\ud658</p>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/","title":"RxDB \ub780 \ubb34\uc5c7\uc778\uac00? (opensearch \uc5f0\ub3d9)","text":""},{"location":"B.PoC/Rxdb%20%28local%20db%29/#rxdb-frontend","title":"RxDB\uac00 Frontend\uc5d0 \uc801\ud569\ud55c \uc774\uc720","text":"<p>RxDB(Reactive Database)\ub294 NoSQL \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c, UI \uc911\uc2ec\uc758 \uc2e4\uc2dc\uac04 \uc0c1\ud0dc \ubcc0\uacbd \uac10\uc9c0\uac00 \uc911\uc694\ud55c Frontend \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \ucd5c\uc801\ud654\ub41c \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc785\ub2c8\ub2e4.</p>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#sql-frontend","title":"\uae30\uc874 SQL\uc774 Frontend\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uc774\uc720","text":""},{"location":"B.PoC/Rxdb%20%28local%20db%29/#1","title":"1. \ucd08\uae30 \ube4c\ub4dc \ud06c\uae30\uc640 \uc2dc\uc791 \uc2dc\uac04","text":"<ul> <li>SQL \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub294 \ucd08\uae30 \ube4c\ub4dc \ud06c\uae30\uac00 \ud06c\uba70, \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2dc\uc791 \uc2dc\uac04\uc774 \uae38\uc5b4\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> <li>Frontend \ud658\uacbd\uc5d0\uc11c\ub294 \ube60\ub978 \ub85c\ub4dc\uc640 \ucd08\uae30\ud654\uac00 \uc911\uc694\ud55c\ub370, SQL\uc740 \uc774\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#2","title":"2. \ub370\uc774\ud130 \ubaa8\ub378\uc758 \ubcf5\uc7a1\uc131","text":"<ul> <li>SQL\uc740 \uc2a4\ud0a4\ub9c8 \uae30\ubc18\uc758 \ub370\uc774\ud130 \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\uc5ec \ubcc0\uacbd \uc2dc \uc720\uc5f0\uc131\uc774 \ub5a8\uc5b4\uc9d1\ub2c8\ub2e4.</li> <li>\ud14c\uc774\ube14 \uac04\uc758 \uad00\uacc4\ub97c \uc124\uc815\ud558\uace0 \uad00\ub9ac\ud574\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 UI\uc640\uc758 \ub370\uc774\ud130 \ub9e4\ud551\uc774 \ubcf5\uc7a1\ud574\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#rxdb","title":"RxDB\ub780?","text":"<p>RxDB\ub294 Reactive\ud55c NoSQL \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c, \ub370\uc774\ud130\uc758 \ud604\uc7ac \uc0c1\ud0dc\ub97c \uc9c8\uc758\ud560 \uc218 \uc788\uc744 \ubfd0\ub9cc \uc544\ub2c8\ub77c \uc0c1\ud0dc \ubcc0\ud654\uc5d0 \ub300\ud574 \uc2e4\uc2dc\uac04\uc73c\ub85c \uac10\uc9c0(subscribe)\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud1b5\ud574 \uc2e4\uc2dc\uac04 UI \uc5c5\ub370\uc774\ud2b8\uac00 \ud544\uc694\ud55c Frontend \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \uc801\ud569\ud55c \uc120\ud0dd\uc774 \ub429\ub2c8\ub2e4.</p>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#rxdb-frontend_1","title":"RxDB\uac00 Frontend\uc5d0 \uc801\ud569\ud55c \uc774\uc720","text":""},{"location":"B.PoC/Rxdb%20%28local%20db%29/#1-javascript","title":"1. JavaScript \uae30\ubc18\uc73c\ub85c \ucd5c\uc801\ud654","text":"<ul> <li>RxDB\ub294 JavaScript\ub85c \uad6c\ud604\ub418\uc5b4 JavaScript \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud658\uacbd\uc5d0\uc11c \ucd5c\uc801\ud654\ub41c \uc131\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#2-json-nosql","title":"2. JSON \uae30\ubc18 NoSQL \uc811\uadfc \ubc29\uc2dd","text":"<ul> <li>RxDB\ub294 \ub370\uc774\ud130\ub97c JSON \ubb38\uc11c \ud615\ud0dc\ub85c \uad00\ub9ac\ud569\ub2c8\ub2e4.</li> <li>JavaScript\uac00 JSON \uac1d\uccb4\uc640 \uae30\ubcf8\uc801\uc73c\ub85c \ud638\ud658\ub418\ubbc0\ub85c, \ub370\uc774\ud130 \ucc98\ub9ac\uc640 \uc9c1\uad00\uc801\uc778 \ub9e4\ud551\uc774 \uc6a9\uc774\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#3-reactive-programming","title":"3. Reactive Programming \uc9c0\uc6d0","text":"<ul> <li>\ub370\uc774\ud130 \ubcc0\uacbd\uc744 RxJS\ub97c \ud1b5\ud574 \uc2e4\uc2dc\uac04\uc73c\ub85c \uad6c\ub3c5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> <li>\uc0c1\ud0dc \ubcc0\ud654\uc5d0 \uc989\uac01\uc801\uc73c\ub85c \ubc18\uc751\ud558\ub294 UI \uc911\uc2ec \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \ud070 \uac15\uc810\uc744 \uac00\uc9d1\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#4","title":"4. \uc790\uc5f0\uc2a4\ub7fd\uace0 \uc9c1\uad00\uc801\uc778 \ub370\uc774\ud130 \ubaa8\ub378","text":"<ul> <li>NoSQL \ubb38\uc11c \uae30\ubc18\uc758 \ub370\uc774\ud130 \ubaa8\ub378\uc740 UI \uc911\uc2ec \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \uc9c1\uad00\uc801\uc774\uba70, \ucd94\uac00\uc801\uc778 \ub370\uc774\ud130 \ub9e4\ud551 \uc791\uc5c5\uc774 \uc904\uc5b4\ub4ed\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#5-","title":"5. \uc624\ud504\ub77c\uc778-\uc6b0\uc120 \uc804\ub7b5","text":"<ul> <li>RxDB\ub294 \ub85c\uceec \ub370\uc774\ud130 \uc800\uc7a5\uc18c\ub97c \ud65c\uc6a9\ud558\uc5ec \uc624\ud504\ub77c\uc778 \ud658\uacbd\uc5d0\uc11c\ub3c4 \ub370\uc774\ud130 \uc800\uc7a5 \ubc0f \uc791\uc5c5\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</li> <li>\uc628\ub77c\uc778 \uc0c1\ud0dc\ub85c \uc804\ud658\ub418\uba74 \uc11c\ubc84\uc640 \uc790\ub3d9 \ub3d9\uae30\ud654\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#rxdb_1","title":"RxDB \ud65c\uc6a9 \uc608\uc2dc","text":""},{"location":"B.PoC/Rxdb%20%28local%20db%29/#1-todo-application","title":"1. \ud560 \uc77c \uad00\ub9ac \uc560\ud50c\ub9ac\ucf00\uc774\uc158 (Todo Application)","text":"<ul> <li>RxDB\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0ac\uc6a9\uc790\uc758 \ud560 \uc77c \ubaa9\ub85d\uc744 \uad00\ub9ac\ud569\ub2c8\ub2e4.</li> <li>\uc2e4\uc2dc\uac04 \ub370\uc774\ud130 \ubc18\uc601\uc744 \ud1b5\ud574 \ucd94\uac00, \uc218\uc815, \uc0ad\uc81c\ub41c \uc791\uc5c5\uc774 \uc989\uc2dc UI\uc5d0 \ud45c\uc2dc\ub429\ub2c8\ub2e4.</li> <li>\uc0ac\uc6a9\uc790 \uacbd\ud5d8(UX)\uc744 \ud06c\uac8c \ud5a5\uc0c1\uc2dc\ud0b5\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#2_1","title":"2. \ucc44\ud305 \uc560\ud50c\ub9ac\ucf00\uc774\uc158","text":"<ul> <li>\uc2e4\uc2dc\uac04 \uba54\uc2dc\uc9c0 \uc804\uc1a1\uacfc \uae30\ub85d \uad00\ub9ac\ub97c \uc704\ud574 \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</li> <li>\uc0c8\ub85c\uc6b4 \uba54\uc2dc\uc9c0\ub97c \uc800\uc7a5\ud558\uace0 \uc989\uc2dc \uc0ac\uc6a9\uc790\uc5d0\uac8c \ud45c\uc2dc\ud569\ub2c8\ub2e4.</li> <li>\uc624\ud504\ub77c\uc778 \uc800\uc7a5\uc18c\ub97c \ud1b5\ud574 \uc778\ud130\ub137 \uc5f0\uacb0\uc774 \uc5c6\uc744 \ub54c\ub3c4 \ub300\ud654 \ub0b4\uc6a9\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#3","title":"3. \uac8c\uc2dc\ud310 \uc560\ud50c\ub9ac\ucf00\uc774\uc158","text":"<ul> <li>\uc0ac\uc6a9\uc790\uac00 \uac8c\uc2dc\uae00\uc744 \uc791\uc131, \uc218\uc815, \uc0ad\uc81c\ud560 \uc218 \uc788\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \ud65c\uc6a9\ub429\ub2c8\ub2e4.</li> <li>\uac8c\uc2dc\uae00 \ubcc0\uacbd \uc0ac\ud56d\uc744 \uc2e4\uc2dc\uac04\uc73c\ub85c \ub3d9\uae30\ud654\ud558\uace0 \ub2e4\ub978 \uc0ac\uc6a9\uc790\uc5d0\uac8c \ubc18\uc601\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#4_1","title":"4. \ud611\uc5c5 \ub3c4\uad6c","text":"<ul> <li>\uc5ec\ub7ec \uc0ac\uc6a9\uc790\uac00 \ub3d9\uc2dc\uc5d0 \uc791\uc5c5\ud558\ub294 \ud658\uacbd\uc5d0\uc11c RxDB\ub294 \uc2e4\uc2dc\uac04 \ub370\uc774\ud130 \ubcf5\uc81c\ub97c \ud1b5\ud574 \uc6d0\ud65c\ud55c \ub370\uc774\ud130 \uacf5\uc720\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</li> <li>\uc2e4\uc2dc\uac04 \ub3d9\uae30\ud654 \uae30\ub2a5\uc744 \ud65c\uc6a9\ud574 \uc791\uc5c5 \ucda9\ub3cc\uc744 \ucd5c\uc18c\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#5","title":"5. \ubaa8\ubc14\uc77c \uc560\ud50c\ub9ac\ucf00\uc774\uc158","text":"<ul> <li>\uc624\ud504\ub77c\uc778 \uc9c0\uc6d0\uacfc \ub124\ud2b8\uc6cc\ud06c \uc0c1\ud0dc\uc5d0 \ub530\ub978 \uc6d0\ud65c\ud55c \ub3d9\uae30\ud654\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</li> <li>\ub370\uc774\ud130\ub97c \ub85c\uceec\uc5d0 \uc800\uc7a5\ud558\uc5ec \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \uc5c6\uc774\ub3c4 \uc548\uc815\uc801\uc778 \uc0ac\uc6a9\uc790 \uacbd\ud5d8\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#6","title":"6. \ub370\uc774\ud130 \uc9d1\uc57d\uc801 \uc560\ud50c\ub9ac\ucf00\uc774\uc158","text":"<ul> <li>\ub300\uc6a9\ub7c9 \ub370\uc774\ud130\ub97c \ucc98\ub9ac\ud558\uace0 \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</li> <li>\uac15\ub825\ud55c \ucffc\ub9ac \uae30\ub2a5\uacfc \uc720\uc5f0\ud55c \uc800\uc7a5 \uc635\uc158\uc744 \ud1b5\ud574 \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#7-electron","title":"7. Electron \uae30\ubc18 \ub370\uc2a4\ud06c\ud1b1 \uc560\ud50c\ub9ac\ucf00\uc774\uc158","text":"<ul> <li>Electron\uacfc \ud568\uaed8 \uc0ac\uc6a9\ud558\uc5ec \ub370\uc2a4\ud06c\ud1b1 \ud658\uacbd\uc5d0\uc11c\ub3c4 \ubc18\uc751\ud615 \ub370\uc774\ud130 \uad00\ub9ac\ub97c \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> <li>\uc608: \uc0ac\uc6a9\uc790 \uc815\uc758 \uc601\uc6c5 \ubaa9\ub85d \uad00\ub9ac \uc560\ud50c\ub9ac\ucf00\uc774\uc158.</li> </ul>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#_1","title":"\uc2e4\uc2b5","text":"<p>opensearch\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uac00\uc838\uc640\uc11c RxDB\uc5d0 \uc800\uc7a5\ud558\uace0  \uc624\ud504\ub77c\uc778\uc5d0\uc11c\ub3c4 \uc798 \uc791\ub3d9\ud558\ub294\uc9c0 \ud14c\uc2a4\ud2b8</p> <p></p> <p>\ub370\uc774\ud130\ub294 \uc798 \ub4e4\uc5b4\uac04 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.</p> <p>\uac04\ub2e8\ud55c \uac80\uc0c9 \uae30\ub2a5\uc744 \ucd94\uac00\ud588\ub2e4. (LIKE \uac80\uc0c9)  \uc624\ud504\ub77c\uc778\uc5d0\uc11c\ub3c4 \uc798 \ub3d9\uc791\ud55c\ub2e4.</p> <p></p>"},{"location":"B.PoC/Rxdb%20%28local%20db%29/#_2","title":"\uacb0\ub860","text":"<p>RxDB\ub294 JavaScript \uae30\ubc18\uc758 Reactive NoSQL \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c, \uc2e4\uc2dc\uac04 UI \uc5c5\ub370\uc774\ud2b8, \uc624\ud504\ub77c\uc778 \uc9c0\uc6d0, \uc9c1\uad00\uc801\uc778 \ub370\uc774\ud130 \ubaa8\ub378\uc744 \uc81c\uacf5\ud558\uc5ec Frontend \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \ucd5c\uc801\ud654\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ud2b9\ud788 \ucc44\ud305, \ud611\uc5c5, \ubaa8\ubc14\uc77c, \ub370\uc774\ud130 \uc9d1\uc57d\uc801 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \uac19\uc740 \uc2e4\uc2dc\uac04 \ubc18\uc751\uc131\uc774 \uc911\uc694\ud55c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ud070 \uc7a5\uc810\uc744 \uac00\uc9d1\ub2c8\ub2e4.</p>"},{"location":"B.PoC/intel%20NPU%20model%20use/","title":"Intel NPU \uac00\uc18d\uc744 \ud65c\uc6a9\ud55c TinyLlama \ucc57\ubd07 \uad6c\ud604","text":""},{"location":"B.PoC/intel%20NPU%20model%20use/#intel-npu-acceleration-library","title":"Intel NPU Acceleration Library \uc18c\uac1c","text":"<p>Intel\u00ae NPU Acceleration Library\ub294 Intel Neural Processing Unit (NPU)\uc758 \uc131\ub2a5\uc744 \ud65c\uc6a9\ud558\uc5ec \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ud6a8\uc728\uc131\uc744 \ud5a5\uc0c1\uc2dc\ud0a4\ub294 Python \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4. \ud638\ud658\ub418\ub294 \ud558\ub4dc\uc6e8\uc5b4\uc5d0\uc11c \uace0\uc18d \uc5f0\uc0b0\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>"},{"location":"B.PoC/intel%20NPU%20model%20use/#_1","title":"\uc124\uce58 \ubc29\ubc95","text":"<p>\ud544\uc694\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58\ub97c \uc704\ud574 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4:</p> <pre><code>pip install intel-npu-acceleration-library\npip install transformers==4.42.4\n</code></pre> <p>\uc8fc\uc758</p> <p>transformers \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \ubc84\uc804\uc744 \uc815\ud655\ud788 \ub9de\ucd94\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. \ubc84\uc804 \ubd88\uc77c\uce58 \uc2dc \uc2e4\ud589\uc774 \ub418\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"B.PoC/intel%20NPU%20model%20use/#_2","title":"\uad6c\ud604 \ucf54\ub4dc","text":"<p>\ub2e4\uc74c\uc740 Intel NPU \uac00\uc18d\uc744 \ud65c\uc6a9\ud558\uc5ec TinyLlama-1.1B-Chat \ubaa8\ub378\uc744 \uc2e4\ud589\ud558\ub294 \ub300\ud654\ud615 \ucc57\ubd07\uc758 \uad6c\ud604 \ucf54\ub4dc\uc785\ub2c8\ub2e4:</p> <pre><code>import datetime\nimport torch\nimport intel_npu_acceleration_library\nfrom intel_npu_acceleration_library.compiler import CompilerConfig\nfrom transformers import pipeline, TextStreamer, set_seed\n\n# \ubaa8\ub378 \ubc0f \uc124\uc815\nMODEL_ID = \"TinyLlama/TinyLlama-1.1B-Chat-v1.0\"\n\ndef load_model():\n    \"\"\"\ubaa8\ub378 \ub85c\ub4dc \ubc0f NPU \ucd5c\uc801\ud654\"\"\"\n    print(\"Loading the model...\")\n    pipe = pipeline(\n        \"text-generation\", model=MODEL_ID, torch_dtype=torch.bfloat16, device_map=\"auto\"\n    )\n\n    print(\"Compiling the model for NPU...\")\n    config = CompilerConfig(dtype=torch.int8)\n\n    try:\n        pipe.model = intel_npu_acceleration_library.compile(pipe.model, config)\n    except Exception as e:\n        print(f\"NPU Compilation Failed: {e}\")\n        exit(1)\n\n    return pipe\n\ndef chat():\n    \"\"\"NPU \uae30\ubc18 \ucc57\ubd07 \uc2e4\ud589\"\"\"\n    pipe = load_model()\n    streamer = TextStreamer(pipe.tokenizer, skip_special_tokens=True, skip_prompt=True)\n    set_seed(42)\n\n    messages = [{\"role\": \"system\", \"content\": \"You are a friendly chatbot. You can ask me anything.\"}]\n\n    print(\"NPU Chatbot is ready! Type 'exit' to quit.\")\n    while True:\n        query = input(\"User: \")\n        if query.lower() == \"exit\":\n            break\n\n        messages.append({\"role\": \"user\", \"content\": query})\n        prompt = pipe.tokenizer.apply_chat_template(messages, tokenize=False, add_generation_prompt=True)\n\n        start_time = datetime.datetime.now()\n        print(\"Assistant: \", end=\"\", flush=True)\n\n        out = pipe(prompt, max_new_tokens=512, do_sample=True, temperature=0.7, \n                  top_k=50, top_p=0.95, streamer=streamer)\n\n        end_time = datetime.datetime.now()\n        print(f\"\\nResponse Time: {end_time - start_time}\")\n\n        reply = out[0][\"generated_text\"].split(\"&lt;|assistant|&gt;\")[-1].strip()\n        messages.append({\"role\": \"assistant\", \"content\": reply})\n\nif __name__ == \"__main__\":\n    chat()\n</code></pre>"},{"location":"B.PoC/intel%20NPU%20model%20use/#_3","title":"\ucf54\ub4dc \uc124\uba85","text":""},{"location":"B.PoC/intel%20NPU%20model%20use/#_4","title":"\uc8fc\uc694 \uae30\ub2a5","text":"<ol> <li> <p>\ubaa8\ub378 \ub85c\ub4dc \ubc0f NPU \ucd5c\uc801\ud654</p> <ul> <li>TinyLlama-1.1B-Chat \ubaa8\ub378\uc744 \ub85c\ub4dc</li> <li>Intel NPU\ub97c \uc704\ud55c \ubaa8\ub378 \ucef4\ud30c\uc77c</li> <li>bfloat16 \ub370\uc774\ud130 \ud0c0\uc785 \uc0ac\uc6a9\uc73c\ub85c \uba54\ubaa8\ub9ac \ud6a8\uc728\uc131 \ud5a5\uc0c1</li> </ul> </li> <li> <p>\ub300\ud654\ud615 \uc778\ud130\ud398\uc774\uc2a4</p> <ul> <li>\uc2dc\uc2a4\ud15c \ud504\ub86c\ud504\ud2b8 \uc124\uc815\uc73c\ub85c \ucc57\ubd07\uc758 \uc131\uaca9 \uc815\uc758</li> <li>\uc2a4\ud2b8\ub9ac\ubc0d \ubc29\uc2dd\uc758 \ud14d\uc2a4\ud2b8 \uc0dd\uc131\uc73c\ub85c \uc2e4\uc2dc\uac04 \uc751\ub2f5</li> <li>\uc751\ub2f5 \uc2dc\uac04 \uce21\uc815 \uae30\ub2a5</li> </ul> </li> <li> <p>\uc0dd\uc131 \ud30c\ub77c\ubbf8\ud130</p> <ul> <li>max_new_tokens: 512</li> <li>temperature: 0.7</li> <li>top_k: 50</li> <li>top_p: 0.95</li> </ul> </li> </ol>"},{"location":"B.PoC/intel%20NPU%20model%20use/#_5","title":"\ub9c8\ubb34\ub9ac","text":"<p>\uc774 \uad6c\ud604\uc744 \ud1b5\ud574 Intel NPU\uc758 \uc131\ub2a5\uc744 \ud65c\uc6a9\ud558\uc5ec \ud6a8\uc728\uc801\uc778 AI \ucc57\ubd07\uc744 \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud2b9\ud788 \uc628\ub514\ubc14\uc774\uc2a4 \ud658\uacbd\uc5d0\uc11c NPU \uac00\uc18d\uc744 \ud65c\uc6a9\ud568\uc73c\ub85c\uc368 \ub354 \ube60\ub978 \uc751\ub2f5 \uc18d\ub3c4\ub97c \uae30\ub300\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. </p> <p></p>"},{"location":"B.PoC/tauri/","title":"Tauri - \ud06c\ub85c\uc2a4 \ud50c\ub7ab\ud3fc \uc571 \uac1c\ubc1c \ud504\ub808\uc784\uc6cc\ud06c","text":""},{"location":"B.PoC/tauri/#_1","title":"\uac1c\uc694","text":"<p>Tauri\ub294 \ub370\uc2a4\ud06c\ud1b1 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uad6c\ucd95\ud558\uae30 \uc704\ud55c \ud604\ub300\uc801\uc778 \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4. </p> <ul> <li>Backend: Rust </li> <li>Frontend: webview\ub97c \ud1b5\ud55c HTML, CSS, JS (React.js, Next.js \ub4f1) \uc9c0\uc6d0</li> </ul> <p> </p>"},{"location":"B.PoC/tauri/#_2","title":"\uc8fc\uc694 \uc7a5\uc810","text":"<ul> <li>\ub9e4\uc6b0 \uc791\uc740 \ubc14\uc774\ub108\ub9ac \ud06c\uae30 (Electron \ub300\ube44 1/10 ~ 1/20 \uc218\uc900)</li> <li>\ub192\uc740 \uc131\ub2a5\uacfc \ub0ae\uc740 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9</li> <li>Rust\uc758 \uc548\uc804\uc131\uacfc \uc131\ub2a5 \uc774\uc810</li> <li>\uac15\ub825\ud55c \ubcf4\uc548 \uae30\ub2a5 \ub0b4\uc7a5</li> <li>\ud06c\ub85c\uc2a4 \ud50c\ub7ab\ud3fc \uc9c0\uc6d0 (Windows, macOS, Linux)</li> </ul>"},{"location":"B.PoC/tauri/#_3","title":"\uac1c\ubc1c\uc790 \uad00\uc810\uc5d0\uc11c\uc758 \uc7a5\uc810","text":"<ul> <li>npm \uc0dd\ud0dc\uacc4 \ud65c\uc6a9 \uac00\ub2a5</li> <li>\uc6f9 \uac1c\ubc1c \uacbd\ud5d8\uc744 \ub370\uc2a4\ud06c\ud1b1 \uc571 \uac1c\ubc1c\uc5d0 \ud65c\uc6a9</li> <li>\uc2dc\uc2a4\ud15c API\uc5d0 \ub300\ud55c \uc548\uc804\ud55c \uc811\uadfc \uc81c\uacf5</li> <li>\ucee4\uc2a4\ud140 \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c \uac00\ub2a5</li> </ul>"},{"location":"B.PoC/tauri/#_4","title":"\uace0\ub824\uc0ac\ud56d","text":"<ul> <li>Rust \ud559\uc2b5 \uace1\uc120\uc774 \uc788\uc744 \uc218 \uc788\uc74c</li> <li>Electron\uc5d0 \ube44\ud574 \uc0dd\ud0dc\uacc4\uac00 \uc0c1\ub300\uc801\uc73c\ub85c \uc791\uc74c</li> <li>OS \ub124\uc774\ud2f0\ube0c \uae30\ub2a5 \uc0ac\uc6a9 \uc2dc \ucd94\uac00 Rust \uac1c\ubc1c \ud544\uc694</li> </ul>"},{"location":"B.PoC/tauri/#_5","title":"\uc124\uce58 \ubc0f \uc124\uc815 \uac00\uc774\ub4dc","text":""},{"location":"B.PoC/tauri/#1-rust","title":"1. Rust \uc124\uce58","text":"<pre><code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n</code></pre>"},{"location":"B.PoC/tauri/#2-nextjs","title":"2. Next.js \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131","text":"<pre><code>npx create-next-app@latest --use-npm\n</code></pre>"},{"location":"B.PoC/tauri/#3-tsconfigjson-jsconfigjson","title":"3. tsconfig.json \ub610\ub294 jsconfig.json \uc124\uc815","text":"<pre><code>{\n  \"exclude\": [\n    \"node_modules\",\n    \"src-tauri\"\n  ]\n}\n</code></pre>"},{"location":"B.PoC/tauri/#4-nextconfigjs","title":"4. next.config.js \uc124\uc815","text":"<pre><code>/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  output: 'export',\n}\n\nmodule.exports = nextConfig\n</code></pre>"},{"location":"B.PoC/tauri/#5-tauri","title":"5. Tauri \uad00\ub828 \ud328\ud0a4\uc9c0 \uc124\uce58","text":"<pre><code>npm install --save-dev @tauri-apps/cli@\"&gt;1.0.0\"\nnpm install @tauri-apps/api@1\n</code></pre>"},{"location":"B.PoC/tauri/#6-packagejson","title":"6. package.json \uc2a4\ud06c\ub9bd\ud2b8 \ucd94\uac00","text":"<pre><code>{\n  \"scripts\": {\n    \"tauri\": \"tauri\"\n  }\n}\n</code></pre>"},{"location":"B.PoC/tauri/#7-tauri","title":"7. Tauri \ucd08\uae30\ud654","text":"<pre><code>npm run tauri init\n</code></pre>"},{"location":"B.PoC/tauri/#8-mainrs","title":"8. main.rs \uc124\uc815","text":"<p><pre><code>#![cfg_attr(not(debug_assertions), windows_subsystem = \"windows\")]\n\nfn main() {\n    tauri::Builder::default()\n        .run(tauri::generate_context!())\n        .expect(\"error while running tauri application\");\n}\n</code></pre>  build\ud558\uba74 \uc124\uce58 \ud504\ub85c\uadf8\ub7a8\ub3c4 \uc790\ub3d9\uc73c\ub85c \uc0dd\uc131\ub41c\ub2e4. </p> <p> </p> <p>\uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc2e4\ud589\ud558\uba74 \uc774\ub807\uac8c\ub72c\ub2e4.  </p>"},{"location":"B.PoC/tauri/#_6","title":"\ud5a5\ud6c4 \ubc1c\uc804 \ubc29\ud5a5","text":"<ul> <li>\uc0ac\uc6a9\uc790 \ucef4\ud4e8\ud130\uc758 \ub0b4\uc7a5 GPU\ub098 NPU\ub97c \ud65c\uc6a9\ud55c On-device AI \uae30\ub2a5 \uad6c\ud604</li> <li>LLM \uae30\ubc18 \uc5d0\uc774\uc804\ud2b8 \ud1b5\ud569</li> <li>\ub0b4\uc7a5 NPU\ub97c \ud65c\uc6a9\ud55c \ubaa8\ub378 \ud559\uc2b5 \ubc0f LLM \uad6c\ub3d9</li> </ul>"},{"location":"B.PoC/tauri/#_7","title":"\ucd94\uac00 \uc815\ubcf4","text":"<ul> <li>tray icon \uc124\uc815 \ub4f1 \uc0c1\uc138 \uae30\ub2a5\uc740 \uacf5\uc2dd \ud648\ud398\uc774\uc9c0 \ubb38\uc11c \ucc38\uc870</li> <li>\ube4c\ub4dc \uc2dc \uc124\uce58 \ud504\ub85c\uadf8\ub7a8 \uc790\ub3d9 \uc0dd\uc131</li> <li>UI\ub294 \uae30\uc874 \uc6f9 \uac1c\ubc1c \ubc29\uc2dd\uc73c\ub85c \uad6c\ud604 \uac00\ub2a5</li> </ul>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EA%B8%B0%EC%B4%88/1.%20Class%EC%9D%98%20enter%EA%B3%BC%20exit/","title":"1. Class\uc758 enter\uacfc exit","text":"<pre><code>class MyClass:\n    def __enter__(self):\n        print(\"\ucee8\ud14d\uc2a4\ud2b8\uc5d0 \uc9c4\uc785\ud588\uc2b5\ub2c8\ub2e4.\")\n        return self  # \uac1d\uccb4 \uc790\uc2e0\uc744 \ubc18\ud658\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print(\"\ucee8\ud14d\uc2a4\ud2b8\ub97c \ubc97\uc5b4\ub0ac\uc2b5\ub2c8\ub2e4.\")\n\n    def do_something(self):\n        print(\"\uc791\uc5c5\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.\")\n\n# with \uad6c\ubb38\uc5d0\uc11c \uac1d\uccb4\ub97c \uc0ac\uc6a9\nwith MyClass() as obj:\n    obj.do_something()\n\n\n\n\ucee8\ud14d\uc2a4\ud2b8\uc5d0 \uc9c4\uc785\ud588\uc2b5\ub2c8\ub2e4.\n\uc791\uc5c5\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.\n\ucee8\ud14d\uc2a4\ud2b8\ub97c \ubc97\uc5b4\ub0ac\uc2b5\ub2c8\ub2e4.\n</code></pre>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EA%B8%B0%EC%B4%88/2.%20multiprocessing/","title":"2. multiprocessing","text":"<p>\ud504\ub85c\uc138\uc2a4\uc640 \uc2a4\ub808\ub4dc \uae30\ubc18\uc758 \ubcd1\ub82c\ud654\ub97c \uc704\ud55c \uc800\uc218\uc900 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud55c\ub2e4.</p> <p>\uba3c\uc800 \ud504\ub85c\uc138\uc2a4\ub098 \uc2a4\ub808\ud504 \ud480\uc744 \ud65c\uc6a9\ud558\ub294 \ubaac\ud14c \uce74\ub97c\ub85c \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574 \uc6d0\uc8fc\uc728\uc744 \ucd94\uc815\ud560 \uac83\uc774\ub2e4. \uc774 \ubb38\uc81c\ub294 \ub2e8\uc21c\ud558\uba70 \ubcf5\uc7a1\ub3c4\ub3c4 \uc798 \uc54c\ub824\uc838 \uc788\uc73c\ubbc0\ub85c \ubcd1\ub82c\ud654\uac00 \uc27d\ub2e4. \ub610\ud55c numpy\ub97c \uc0ac\uc6a9\ud560 \ub54c \uc608\uae30\uce58 \ubabb\ud55c \uacb0\uacfc\ub97c \ubcfc \uc218 \uc788\ub2e4.</p> <p>\uadf8 \ub2e4\uc74c\uc5d0\ub294 Pool \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574\uc11c \uc18c\uc218\ub97c \ucc3e\ub294\ub2e4. \uc18c\uc218\ub97c \ucc3e\ub294 \uacfc\uc815\uc758 \uc608\uce21 \ubd88\uac00\ub2a5\ud55c \ubcf5\uc7a1\uc131\uc744 \uc0b4\ud3b4\ubcf4\uace0, \uc5b4\ub5bb\uac8c\ud574\uc57c \ubd80\ud558\ub97c \ud6a8\uc728\uc801\uc73c\ub85c(\ub610\ub294 \ube44\ud6a8\uc728\uc801\uc73c\ub85c!) \ubd84\uc0b0\uc2dc\ucf1c\uc11c \uacc4\uc0b0 \uc790\uc6d0\uc744 \uac00\uc7a5 \uc798 \ud65c\uc6a9\ud560 \uc218 \uc788\ub294\uc9c0 \uc0b4\ud3b4\ubcf8\ub2e4. \ud050\ub97c \ub2e4\ub8e8\uba74\uc11c \uc18c\uc218 \uac80\uc0c9\uc744 \ub9c8\uce60 \uac83\uc774\ub2e4. \uadf8 \uacfc\uc815\uc5d0\uc11c Pool \ub300\uc2e0 Process \uac1d\uccb4\ub97c \uc0ac\uc6a9\ud558\uace0, \uc791\uc5c5 \ubaa9\ub85d\uacfc \ud3ec\uc774\uc98c \ud544\uc744 \ud65c\uc6a9\ud574\uc11c \uac01 \uc791\uc5c5\uc790\uc758 \uc0dd\uba85\uc8fc\uae30\ub97c \uc870\uc815\ud574\ubcf4\uc790.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EA%B8%B0%EC%B4%88/2.%20multiprocessing/#_1","title":"\ubaac\ud14c \uce74\ub97c\ub85c \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574 \uc6d0\uc8fc\uc728 \ucd94\uc815\ud558\uae30","text":"<p>\ubc18\uc9c0\ub984\uc774 1\uc778 \ub2e8\uc704\uc6d0\uc73c\ub85c \ud45c\ud604\ub418\ub294 \u201c\ub2e4\ud2b8 \ud310\u201d\uc5d0 \uac00\uc0c1\uc758 \ub2e4\ud2b8\ub97c \uc218\ucc9c \ubc88 \ub358\uc838\uc11c \uc6d0\uc8fc\uc728\uc744 \ucd94\uc815\ud560 \uc218 \uc788\ub2e4. \uc6d0\uc8fc\uc640 \uadf8 \ub0b4\ubd80\uc5d0 \ub5a8\uc5b4\uc9c4 \ub2e4\ud2b8\uc758 \uac1c\uc218 \uc0ac\uc774\uc758 \uad00\uacc4\ub97c \uc0ac\uc6a9\ud574\uc11c \uc6d0\uc8fc\uc728\uc744 \ucd94\uc0b0\ud55c\ub2e4.</p> <p>\uc774\ub294 \uc774\uc0c1\uc801\uc73c\ub85c \ud504\ub85c\uc138\uc2a4\uc5d0 \uc804\uccb4 \ubd80\ud558\ub97c \uade0\ub4f1\ud558\uac8c \ub098\ub20c \uc218 \uc788\ub294 \uccab \ubc88\uc9f8 \ubb38\uc81c\uc774\ub2e4. \uac01 \ud504\ub85c\uc138\uc2a4\ub294 \ubcc4\ub3c4\uc758 cpu\uc5d0\uc11c \uc791\ub3d9\ud55c\ub2e4. \ubd80\ud558\uac00 \uac19\uc73c\ub2c8 \ubaa8\ub4e0 \ud504\ub85c\uc138\uc2a4\ub294 \uac19\uc740 \uc2dc\uac04\uc5d0 \ub05d\ub0a0 \uac83\uc774\ub2e4. \ub530\ub77c\uc11c \uc774 \ubb38\uc81c\uc5d0 \uc0c8\ub85c\uc6b4 CPU\ub098 \ud558\uc774\ud37c\uc2a4\ub808\ub4dc\ub97c \ucd94\uac00\ud558\uba74 \uc18d\ub3c4\uac00 \ube68\ub77c\uc9c4\ub2e4.</p> <p>\uc2a4\ub808\ub4dc\ub97c \ud558\ub098\ub9cc \uc0ac\uc6a9\ud558\uba74 56\ucd08 \uac78\ub9ac\uace0, \uc2a4\ub808\ub4dc\uac00 \ub458 \uc774\uc0c1\uc774\uc5b4\ub3c4 \uc18d\ub3c4\uac00 \ube68\ub77c\uc9c0\uc9c0 \uc54a\ub294\ub2e4. \ud504\ub85c\uc138\uc2a4\ub97c \ub458 \uc774\uc0c1 \uc0ac\uc6a9\ud558\uba74 \uc2e4\ud589 \uc2dc\uac04\uc744 \ub354 \uc9e7\uac8c \ub9cc\ub4e4 \uc218 \uc788\ub2e4.</p> <p>2\uac1c\ub098 4\uac1c\uc758 \ucf54\uc5b4\ub97c \ud65c\uc6a9\ud560 \ub54c \uc120\ud615\uc801\uc778 \uc18d\ub3c4 \ud5a5\uc0c1\uc744 \uc5bb\uc5c8\uc9c0\ub9cc, \ub178\ud2b8\ubd81\uc5d0 \ubb3c\ub9ac\uc801 \ucf54\uc5b4\uac00 4\uac1c\ubc16\uc5d0 \uc5c6\uc73c\ubbc0\ub85c \ud504\ub85c\uc138\uc2a4\ub97c 8\uac1c \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 \ucd94\uac00\ub85c \uc5bb\ub294 \uc18d\ub3c4 \ud5a5\uc0c1\uc740 \uac70\uc758 \uc5c6\ub2e4.</p> <p>\uc2a4\ub808\ub4dc\ub97c \uc0ac\uc6a9\ud558\uba74 \uac01 \uba85\ub839\uc740 GIL \ub54c\ubb38\uc5d0 \uc81c\uc57d\uc774 \uac78\ub9b0\ub2e4. \ub530\ub77c\uc11c \uac01 \uc2a4\ub808\ub4dc\ub97c \ubcc4\ub3c4\uc758 CPU\uc5d0 \uc2e4\ud589\ud560 \uc218 \uc788\uc74c\uc5d0\ub3c4 \ubd88\uad6c\ud558\uace0, \ub2e4\ub978 \uc2a4\ub808\ub4dc\uac00 \uc2e4\ud589 \uc911\uc774\uc9c0 \uc54a\uc744 \ub54c\ub9cc \uc2e4\ud589\ud55c\ub2e4.</p> <p>\ud504\ub85c\uc138\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub294 \ubc84\ubc88\uc740 \uc774\ub7f0 \uc81c\uc57d\uc774 \uc5c6\ub2e4. \uac01 \ud504\ub85c\uc138\uc2a4\uac00 \ub2e8\uc77c \uc2a4\ub808\ub4dc\ub97c \uc2f1\ud589\ud558\ub294 \ubcc4\ub3c4\uc758 \ud30c\uc774\uc36c \uc778\ud130\ud504\ub9ac\ud130\uc774\ub2c8 \uacf5\uc720 \uac1d\uccb4\ub85c \uc778\ud55c GIL \uacbd\uc7c1\uc774 \uc5c6\ub2e4.</p> <p><pre><code>from random import uniform\nfrom multiprocessing import Pool\nimport time\nimport matplotlib.pyplot as plt\n\ndef estimate_circle(nbr_estimates):\n    nbr_trials_in_quarter_unit_circle = 0\n    for step in range(int(nbr_estimates)):\n        x = uniform(0, 1)\n        y = uniform(0, 1)\n        is_in_unit_circle = x * x + y * y &lt; 1.0\n        nbr_trials_in_quarter_unit_circle += is_in_unit_circle\n\n    return nbr_trials_in_quarter_unit_circle\n\ndef run_simulation(nbr_parallel_blocks, nbr_samples_in_total=1e8):\n    pool = Pool(processes=nbr_parallel_blocks)\n    nbr_samples_per_worker = nbr_samples_in_total / nbr_parallel_blocks\n    nbr_trials_in_quarter_unit_circle = pool.map(estimate_circle, [nbr_samples_per_worker] * nbr_parallel_blocks)\n\n    pool.close()\n    pool.join()\n\n    # \ubcd1\ub82c\ub85c \uc2e4\ud589\ub41c \uacb0\uacfc\ub97c \uc885\ud569\ud574\uc11c \ucd1d \uc6d0 \uc548\uc5d0 \uc788\ub294 \uc810\ub4e4\uc758 \uac1c\uc218 \uacc4\uc0b0\n    total_nbr_trials_in_quarter_unit_circle = sum(nbr_trials_in_quarter_unit_circle)\n\n    # \uc6d0\uc8fc\uc728 \ucd94\uc815 (1/4 \uc6d0\uc5d0 \ud574\ub2f9\ud558\ubbc0\ub85c 4\ubc30 \uacf1)\n    estimated_pi = 4 * total_nbr_trials_in_quarter_unit_circle / nbr_samples_in_total\n    return estimated_pi\n\nif __name__ == \"__main__\":\n    nbr_samples_in_total = 1e8  # \ucd1d \uc2dc\ubbac\ub808\uc774\uc158 \uc0d8\ud50c \uc218\n\n    process_counts = range(1, 11)  # 1\ubd80\ud130 10\uae4c\uc9c0\uc758 \ud504\ub85c\uc138\uc2a4 \uc218\n    computation_times = []  # \uac01 \ud504\ub85c\uc138\uc2a4 \uc218\uc5d0 \ub530\ub978 \uacc4\uc0b0 \uc2dc\uac04 \uc800\uc7a5\n\n    for nbr_parallel_blocks in process_counts:\n        start_time = time.time()  # \uc2dc\uc791 \uc2dc\uac04 \uae30\ub85d\n        estimated_pi = run_simulation(nbr_parallel_blocks, nbr_samples_in_total)\n        end_time = time.time()    # \uc885\ub8cc \uc2dc\uac04 \uae30\ub85d\n\n        total_time = end_time - start_time\n        computation_times.append(total_time)  # \uacc4\uc0b0 \uc2dc\uac04 \uc800\uc7a5\n\n        print(f\"Processes: {nbr_parallel_blocks}, Estimated Pi: {estimated_pi}, Time: {total_time:.2f} seconds\")\n\n    # \uacc4\uc0b0 \uc2dc\uac04 \uadf8\ub798\ud504 \ucd9c\ub825\n    plt.figure(figsize=(10, 6))\n    plt.plot(process_counts, computation_times, marker='o', linestyle='-', color='b')\n    plt.title(\"Computation Time vs Number of Processes\")\n    plt.xlabel(\"Number of Processes\")\n    plt.ylabel(\"Computation Time (seconds)\")\n    plt.grid(True)\n    plt.show()\n</code></pre> </p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EA%B8%B0%EC%B4%88/2.%20multiprocessing/#multiprocessing-joblib","title":"multiprocessing \uc744 Joblib \uc73c\ub85c \ubc14\uafb8\uae30","text":"<p>Joblib\uc740 multiprocessing\uc744 \uac1c\uc120\ud55c \ubaa8\ub4c8\ub85c \uacbd\ub7c9 \ud30c\uc774\ud504\ub77c\uc774\ub2dd\uc744 \ud65c\uc131\ud654\ud558\uba74\uc11c \ubcd1\ub82c \uacc4\uc0b0\uc744 \uc27d\uac8c \ud558\uace0, \uacb0\uacfc\ub97c \uc27d\uac8c \ub514\uc2a4\ud06c \uae30\ubc18\uc758 \uce90\uc2dc\ub85c \uc0ac\uc6a9\ud560 \uc788\ub2e4.</p> <p>\ub2e4\uc74c\uacfc \uac19\uc740 \uacbd\uc6b0 Joblib\uc744 \uc0ac\uc6a9\ud558\uba74 \uc27d\uac8c \uc131\ub2a5\uc744 \ub192\uc77c \uc218 \uc788\ub2e4.</p> <ul> <li>\ub2f9\ud669\uc2a4\ub7ec\uc6b8 \uc815\ub3c4\ub85c \ubcd1\ub82c\uc801\uc778 \ub8e8\ud504\ub97c \ucc98\ub9ac\ud558\ub294 \ub370 \uc21c\uc218 \ud30c\uc774\uc36c\uc744 \uc0ac\uc6a9 \uc911\uc774\ub2e4.(\ub118\ud30c\uc774 \uc5ec\ubd80\ub294 \uc0c1\uad00 x)</li> <li>\ucd9c\ub825\uc744 \ub514\uc2a4\ud06c\uc5d0 \uc800\uc7a5\ud574 \uc138\uc158\uacfc \uc138\uc158 \uc0ac\uc774\uc5d0 \uacb0\uacfc\ub97c \uce90\uc2dc\ud560 \uc218 \uc788\ub294\ub370\ub3c4, \ubd80\uc791\uc6a9\uc5c6\uc774 \ube44\uc6a9\uc774 \ub9ce\uc774 \ub4dc\ub294 \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4.</li> <li>\ud504\ub85c\uc138\uc2a4 \uc0ac\uc774\uc5d0 \ub118\ud30c\uc774\ub97c \uacf5\uc720\ud560 \uc218 \uc788\uc9c0\ub9cc \uc5b4\ub5bb\uac8c \ud558\ub294\uc9c0\ub97c \ubaa8\ub978\ub2e4.</li> </ul> <p><pre><code>from random import uniform\nfrom joblib import Parallel, delayed\nimport time\nimport matplotlib.pyplot as plt\n\ndef estimate_circle(nbr_estimates):\n    nbr_trials_in_quarter_unit_circle = 0\n    for step in range(int(nbr_estimates)):\n        x = uniform(0, 1)\n        y = uniform(0, 1)\n        is_in_unit_circle = x * x + y * y &lt; 1.0\n        nbr_trials_in_quarter_unit_circle += is_in_unit_circle\n\n    return nbr_trials_in_quarter_unit_circle\n\ndef run_simulation(nbr_parallel_blocks, nbr_samples_in_total=1e8):\n    nbr_samples_per_worker = nbr_samples_in_total / nbr_parallel_blocks\n    # Parallel\uacfc delayed\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc791\uc5c5 \ubcd1\ub82c\ud654\n    nbr_trials_in_quarter_unit_circle = Parallel(n_jobs=nbr_parallel_blocks)(\n        delayed(estimate_circle)(nbr_samples_per_worker) for _ in range(nbr_parallel_blocks)\n    )\n\n    # \ubcd1\ub82c\ub85c \uc2e4\ud589\ub41c \uacb0\uacfc\ub97c \uc885\ud569\ud574\uc11c \ucd1d \uc6d0 \uc548\uc5d0 \uc788\ub294 \uc810\ub4e4\uc758 \uac1c\uc218 \uacc4\uc0b0\n    total_nbr_trials_in_quarter_unit_circle = sum(nbr_trials_in_quarter_unit_circle)\n\n    # \uc6d0\uc8fc\uc728 \ucd94\uc815 (1/4 \uc6d0\uc5d0 \ud574\ub2f9\ud558\ubbc0\ub85c 4\ubc30 \uacf1)\n    estimated_pi = 4 * total_nbr_trials_in_quarter_unit_circle / nbr_samples_in_total\n    return estimated_pi\n\nif __name__ == \"__main__\":\n    nbr_samples_in_total = 1e8  # \ucd1d \uc2dc\ubbac\ub808\uc774\uc158 \uc0d8\ud50c \uc218\n\n    process_counts = range(1, 11)  # 1\ubd80\ud130 10\uae4c\uc9c0\uc758 \ud504\ub85c\uc138\uc2a4 \uc218\n    computation_times = []  # \uac01 \ud504\ub85c\uc138\uc2a4 \uc218\uc5d0 \ub530\ub978 \uacc4\uc0b0 \uc2dc\uac04 \uc800\uc7a5\n\n    for nbr_parallel_blocks in process_counts:\n        start_time = time.time()  # \uc2dc\uc791 \uc2dc\uac04 \uae30\ub85d\n        estimated_pi = run_simulation(nbr_parallel_blocks, nbr_samples_in_total)\n        end_time = time.time()    # \uc885\ub8cc \uc2dc\uac04 \uae30\ub85d\n\n        total_time = end_time - start_time\n        computation_times.append(total_time)  # \uacc4\uc0b0 \uc2dc\uac04 \uc800\uc7a5\n\n        print(f\"Processes: {nbr_parallel_blocks}, Estimated Pi: {estimated_pi}, Time: {total_time:.2f} seconds\")\n\n    # \uacc4\uc0b0 \uc2dc\uac04 \uadf8\ub798\ud504 \ucd9c\ub825\n    plt.figure(figsize=(10, 6))\n    plt.plot(process_counts, computation_times, marker='o', linestyle='-', color='b')\n    plt.title(\"Computation Time vs Number of Processes (joblib)\")\n    plt.xlabel(\"Number of Processes\")\n    plt.ylabel(\"Computation Time (seconds)\")\n    plt.grid(True)\n    plt.show()\n</code></pre> </p> <p>\ud568\uc218 \ud638\ucd9c \uacb0\uacfc\ub97c \ub611\ub611\ud558\uac8c \uce90\uc2dc\ud558\uae30</p> <p>Joblib\uc758 Memory \uce90\uc2dc\ub294 \uc720\uc6a9\ud55c \uae30\ub2a5\uc774\ub2e4. Memory \ub294 \ud568\uc218 \uacb0\uacfc\ub97c \uc785\ub825 \uc778\uc790\uc5d0 \ub530\ub77c \ub514\uc2a4\ud06c \uce90\uc2dc\ub85c \uc800\uc7a5\ud558\ub294 \ub370\ucee4\ub808\uc774\ud130\ub2e4. \uc774 \uce90\uc2dc\ub294 \ud30c\uc774\uc36c \uc138\uc158 \uac04\uc5d0 \uc601\uc18d\uc801\uc73c\ub85c \uc720\uc9c0\ub418\ubbc0\ub85c, \ucef4\ud4e8\ud130\ub97c \uaed0\ub2e4\uac00 \ub2e4\uc74c\ub0a0 \ucf1c\uc11c \uac19\uc740 \ucf54\ub4dc\ub97c \ub2e4\uc2dc \uc2e4\ud589\ud574\ub3c4 \uce90\uc2dc\uc5d0 \uc800\uc7a5\ud55c \uacb0\uacfc\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EA%B8%B0%EC%B4%88/2.%20multiprocessing/#_2","title":"\uc18c\uc218 \ucc3e\uae30","text":"<p>\ub2e4\uc74c\uc73c\ub85c, \uc544\uc8fc \ud070 \ubc94\uc704\uc758 \uc218\uc5d0\uc11c \uc18c\uc218\ub97c \uac80\uc0ac\ud558\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcf4\uc790. \uc804\uccb4 \ubc94\uc704\uc5d0\uc11c \uc5b4\ub290 \uc704\uce58\uc5d0 \uc788\ub290\ub0d0\uc5d0 \ub530\ub77c \ubd80\ud558\uac00 \ub2ec\ub77c\uc9c0\uace0 \uc5ec\ub7ec \uc218\uc758 \uc18c\uc218 \uc5ec\ubd80\ub97c \uac80\uc0ac\ud558\ub294 \uc791\uc5c5\uc758 \ubcf5\uc7a1\ub3c4\ub97c \uc608\uce21\ud560 \uc218 \uc5c6\ub2e4\ub294 \uc810\uc5d0\uc11c \uc6d0\uc8fc\uc728 \ubb38\uc81c\uc640\ub294 \uc131\uaca9\uc774 \ub2e4\ub974\ub2e4.</p> <p>\uc18c\uc218\uc131\uc744 \ud310\ubcc4\ud558\ub294 \uc21c\ucc28\uc801\uc778 \ud568\uc218\ub97c \uc791\uc131\ud558\uace0 \uac00\ub2a5\ud55c \uc778\uc218\uc758 \uc9d1\ud569\uc744 \uac01\uac01\uc758 \ud504\ub85c\uc138\uc2a4\uc5d0 \ub118\uaca8 \uac80\uc0ac\ud560 \uc218 \uc788\ub2e4. \uc774 \ubb38\uc81c\ub294 \ub2f9\ud669\uc2a4\ub7ec\uc6b8 \uc815\ub3c4\ub85c \ubcd1\ub82c\uc801\uc774\ub2e4. \uc774\ub294 \uacf5\uc720\ud574\uc57c\ud560 \uc0c1\ud0dc\uac00 \uc804\ud600 \uc5c6\ub2e4\ub294 \uc758\ubbf8\uc774\ub2e4.</p> <p>multiprocessing \ubaa8\ub4c8\uc744 \uc0ac\uc6a9\ud558\uba74 \ubd80\ud558\ub97c \uc27d\uac8c \uc81c\uc5b4\ud560 \uc218 \uc788\ub2e4. \ub530\ub77c\uc11c \uacc4\uc0b0\uc5d0 \ud544\uc694\ud55c \uc790\uc6d0\uc744 \ud65c\uc6a9(\ub610\ub294 \uc624\uc6a9!)\ud558\ub824\uba74 \uc791\uc5c5 \ud050\ub97c \uc5b4\ub5bb\uac8c \ud29c\ub2dd\ud560 \uc218 \uc788\ub294\uc9c0\ub97c \uac80\ud1a0\ud558\uace0, \uc790\uc6d0\uc744 \uc870\uae08 \ub354  \ud6a8\uc728\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uc26c\uc6b4 \ubc29\ubc95\uc744 \ud0d0\uad6c\ud574 \ubcf4\ub824 \ud55c\ub2e4.</p> <p>\uc989 \ubbf8\ub9ac \uc815\ud574\uc9c4 \uc790\uc6d0 \uc9d1\ud569\uc5d0 \ubcf5\uc7a1\ub3c4\uac00 \ub2ec\ub77c\uc9c0\ub294 \uc5ec\ub7ec \uc791\uc5c5\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \ubc30\ubd84\ud574\uc11c \ubd80\ud558\ub97c \uade0\ub4f1\ud654\ud560 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcfc \uac83\uc774\ub2e4.</p> <p><pre><code>import math\nimport time\nimport matplotlib.pyplot as plt\n\ndef check_prime(n):\n    if n &lt; 2:  # 1\uc740 \uc18c\uc218\uac00 \uc544\ub2c8\ubbc0\ub85c False \ucc98\ub9ac\n        return False\n    if n % 2 == 0:\n        return n == 2  # 2\ub294 \uc720\uc77c\ud55c \uc9dd\uc218 \uc18c\uc218\uc774\ubbc0\ub85c \uc608\uc678 \ucc98\ub9ac\n    for i in range(3, int(math.sqrt(n) + 1), 2):\n        if n % i == 0:\n            return False\n    return True\n\n# \ubc94\uc704\ub97c \uc9c0\uc815\ud558\uace0 \uac01 \ubc94\uc704\uc5d0\uc11c \uac78\ub9ac\ub294 \uc2dc\uac04\uc744 \uae30\ub85d\nstart_range = 10000\nend_range = 1000000\nstep = 10000\n\nnumbers = range(start_range, end_range + 1, step)\ntimes = []\n\n# \uac01 \uc22b\uc790 \ubc94\uc704 \ub0b4\uc758 \ubaa8\ub4e0 \uc218\uc5d0 \ub300\ud574 \uc18c\uc218 \ud310\ubcc4\ud558\ub294 \ub370 \uac78\ub9b0 \uc2dc\uac04 \uce21\uc815\nfor number in numbers:\n    start_time = time.time()\n\n    # 1\ubd80\ud130 \ud574\ub2f9 \uc22b\uc790 \ubc94\uc704\uae4c\uc9c0\uc758 \ubaa8\ub4e0 \uc18c\uc218 \ud310\ubcc4\n    primes = [n for n in range(1, number + 1) if check_prime(n)]\n\n    end_time = time.time()\n\n    elapsed_time = end_time - start_time\n    times.append(elapsed_time)\n\n# \uac78\ub9b0 \uc2dc\uac04\uc5d0 \ub530\ub978 \uadf8\ub798\ud504 \uadf8\ub9ac\uae30\nplt.plot(numbers, times, label='Prime Check Time')\nplt.xlabel('Number')\nplt.ylabel('Time (seconds)')\nplt.title('Time to Check All Primes from 1 to n')\nplt.grid(True)\nplt.legend()\nplt.show()\n</code></pre> </p> <p>\uc218\ub294 \ub300\ubd80\ubd84 \uc18c\uc218\uac00 \uc544\ub2cc \ud569\uc131\uc218\ub2e4. \uc774\ub7f0 \uc218\ub97c \uadf8\ub9bc\uc5d0 \uc810\uc73c\ub85c \ud45c\uc2dc\ud588\ub2e4. \uadf8\uc911 \uc77c\ubd80\ub294 \uac80\uc0ac \ube44\uc6a9\uc774 \uc801\uac8c \ub4e4\uc9c0\ub9cc \ub098\uba38\uc9c0\ub294 \uc5ec\ub7ec \uac00\uc9c0 \uc778\uc218\ub97c \uac80\uc0ac\ud574\uc57c\ub9cc \ud55c\ub2e4.</p> <p>\uc791\uc5c5\uc744 \ud504\ub85c\uc138\uc2a4 \ud480\uc5d0 \ubd84\uc0b0\ud558\uba74 \uc5bc\ub9c8\ub098 \ub9ce\uc740 \uc791\uc5c5\uc774 \uac01 \uc791\uc5c5\uc790\uc5d0 \ub118\uc5b4\uac14\ub294\uc9c0\ub97c \uc815\ud655\ud788 \uc54c \uc218 \uc5c6\ub2e4. \ubaa8\ub4e0 \uc791\uc5c5\uc744 \uade0\ub4f1\ud558\uac8c \ubc30\ubd84\ud574\uc11c \ud55c \ubc88\uc5d0 \ub118\uaca8 \ucc98\ub9ac\ud558\uac70\ub098, \uc791\uc5c5\uc744 \uc218\ub9ce\uc740 \ub2e8\uc704\ub85c \uad6c\ubd84\ud574\uc11c \ube48 \ucf54\uc5b4\uc5d0 \uc804\ub2ec\ud560 \uc218 \uc788\uc744 \uac83\uc774\ub2e4.</p> <p>\uc774\ub97c <code>chunksize</code> \ub9e4\uac1c\ubcc0\uc218\ub97c \uc0ac\uc6a9\ud574 \uc81c\uc5b4\ud55c\ub2e4. \uc791\uc5c5 \ub2e8\uc704\ub97c \ud06c\uac8c \ub9cc\ub4e4\uba74 \ud1b5\uc2e0 \ubd80\uac00\ube44\uc6a9\uc774 \uc904\uace0, \uc791\uc5c5 \ub2e8\uc704\ub97c \uc791\uac8c \ub9cc\ub4e4\uba74 \uc790\uc6d0 \ud560\ub2f9\uc744 \ub354 \uc138\ubc00\ud558\uac8c \uc81c\uc5b4\ud560 \uc218 \uc788\ub2e4.</p> <p>\uc18c\uc218 \uac80\uc0c9 \ud504\ub85c\uadf8\ub7a8\uc758 \uc791\uc5c5 \ub2e8\uc704\ub294 check_prime\uc73c\ub85c \uac80\uc0ac\ud560 \uc218 n\uac1c\ub2e4. chunksize\uc744 10\uc73c\ub85c \uc124\uc815\ud558\uba74 \uac01 \ud504\ub85c\uc138\uc2a4 \uc815\uc218 10\uac1c\ub85c \uc774\ub904\uc9c4 \ubaa9\ub85d\uc744 \ud55c \ubc88\uc5d0 \ud558\ub098\uc529 \ucc98\ub9ac\ud55c\ub2e4.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EA%B8%B0%EC%B4%88/3.%20%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%9D%98%20MVC%20%ED%8C%A8%ED%84%B4/","title":"3. \ud30c\uc774\uc36c\uc758 MVC \ud328\ud134","text":"<p>\uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc138 \uac00\uc9c0 \uc8fc\uc694 \uad6c\uc131 \uc694\uc18c\ub85c \ub098\ub204\uc5b4 \uad00\ub9ac\ud558\ub294 \ub514\uc790\uc778 \ud328\ud134</p> <p>\uc774 \ud328\ud134\uc740 \uc720\uc9c0 \ubcf4\uc218\uc131\uacfc \ud655\uc7a5\uc131\uc744 \ub192\uc774\uace0, \ucf54\ub4dc\uc758 \uc5ed\ud560\uc744 \uba85\ud655\ud558\uac8c \ubd84\ub9ac\ud558\uc5ec \uac1c\ubc1c\uc744 \ub354\uc6b1 \uccb4\uacc4\uc801\uc73c\ub85c \ud560 \uc218 \uc788\uac8c \ud569\ub2c8\ub2e4.</p> <pre><code>project_root/\n\u251c\u2500\u2500 main.py\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 main_controller.py\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 data_model.py\n\u2502   \u251c\u2500\u2500 views/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 main_view.py\n\u2502   \u2502   \u2514\u2500\u2500 ribbon_bar.py\n\u2502   \u2514\u2500\u2500 resources/\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u2514\u2500\u2500 icons/\n\u2502           \u2514\u2500\u2500 example_icon.png\n\u251c\u2500\u2500 config/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 settings.py\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 test_models.py\n\u2502   \u251c\u2500\u2500 test_views.py\n\u2502   \u2514\u2500\u2500 test_controllers.py\n\u2514\u2500\u2500 requirements.txt\n</code></pre> <p><code>main.py</code>: \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc2dc\uc791\uc810.</p> <p><code>app/</code>: \uc8fc\uc694 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucf54\ub4dc\uac00 \uc704\uce58.</p> <ul> <li><code>controllers/</code>: \ucee8\ud2b8\ub864\ub7ec \ud30c\uc77c\ub4e4\uc774 \uc704\uce58\ud558\uba70, \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uacfc \ubdf0 \uac04\uc758 \uc0c1\ud638\uc791\uc6a9\uc744 \ub2f4\ub2f9.</li> <li><code>models/</code>: \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubaa8\ub378\uc774\ub098 \ube44\uc988\ub2c8\uc2a4 \ub370\uc774\ud130\ub97c \ucc98\ub9ac\ud558\ub294 \ub85c\uc9c1\uc774 \uc704\uce58.</li> <li><code>views/</code>: \uc0ac\uc6a9\uc790\uc5d0\uac8c \ub370\uc774\ud130\ub97c \ub80c\ub354\ub9c1\ud558\ub294 \uc5ed\ud560\uc744 \ud558\ub294 \ud30c\uc77c\ub4e4.</li> <li><code>resources/</code>: \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ub9ac\uc18c\uc2a4\ub4e4 (\uc608: \uc774\ubbf8\uc9c0, \uc544\uc774\ucf58 \ub4f1).</li> </ul> <p><code>config/</code>: \uc124\uc815 \ud30c\uc77c\ub4e4\uc774 \uc704\uce58\ud558\uba70, \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ud658\uacbd \uc124\uc815\uc744 \uc815\uc758.</p> <p><code>tests/</code>: \ud14c\uc2a4\ud2b8 \ucf54\ub4dc\uac00 \uc704\uce58\ud558\uba70, \uac01 \ubd80\ubd84\uc5d0 \ub300\ud55c \uc720\ub2db \ud14c\uc2a4\ud2b8 \ud30c\uc77c\ub4e4\uc774 \ud3ec\ud568.</p> <p><code>requirements.txt</code>: \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \ud544\uc694\ud55c Python \ud328\ud0a4\uc9c0 \ubaa9\ub85d.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/1.%20%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%20%EC%86%8C%EA%B0%9C/","title":"1. \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d \uc18c\uac1c","text":"<p>I/O\ub294 \ud504\ub85c\uadf8\ub7a8\uc758 \ud750\ub984\uc5d0 \ud070 \uc9d0\uc774 \ub420 \uc218 \uc788\ub2e4. \ucee4\ub110\uc5d0 \uc5f0\uc0b0\uc744 \uc218\ud589\ud558\ub3c4\ub85d \uc694\uccad\ud55c \ub2e4\uc74c, \uadf8 \uc791\uc5c5\uc774 \ub05d\ub0b1 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub824\uc57c \ud55c\ub2e4. \uc774\ub294 \uc2e4\uc81c \uc77d\uae30 \uc5f0\uc0b0\uc744 \ud558\ub294 \uc8fc\uccb4\uac00 \uc5ec\ub7ec\ubd84\uc758 \ud504\ub85c\uadf8\ub7a8\uc774 \uc544\ub2c8\ub77c \ucee4\ub110\uc774\uae30 \ub54c\ubb38\uc774\ub2e4.</p> <p>\uc6b0\ub9ac\uac00 I/O \uc5f0\uc0b0 \ub300\ubd80\ubd84\uc774 CPU\ubcf4\ub2e4 \uc218\uc2ed \ubc30 \uc774\uc0c1 \ub290\ub9b0 \uc7a5\uce58\uc5d0\uc11c \uc774\ub904\uc5b4\uc9c4\ub2e4. \ub530\ub77c\uc11c \ucee4\ub110\uacfc\uc758 \ud1b5\uc2e0\uc774 \ube68\ub77c\ub3c4, \ucee4\ub110 \uc7a5\uce58\uc5d0\uc11c \uacb0\uacfc\ub97c \uac00\uc838\uc640\uc11c \uc6b0\ub9ac\uc5d0\uac8c \uc804\ub2ec\ud558\uae30\uae4c\uc9c0\ub294 \uc0c1\ub2f9\ud55c \uc2dc\uac04\uc774 \uac78\ub9b0\ub2e4.</p> <p>\ube44\ub3d9\uae30 I/O\ub97c \uc0ac\uc6a9\ud558\uba74 I/O \uc5f0\uc0b0\uc774 \uc644\ub8cc\ub418\uae30\ub97c \uae30\ub2e4\ub9ac\ub294 \ub3d9\uc548 \ub2e4\ub978 \uc5f0\uc0b0\uc744 \uc218\ud589\ud558\uc5ec \uc774\ub7f0 \uc720\ud734 \uc2dc\uac04\uc744 \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <p><code>\ub3d9\uc2dc\uc131 \ud504\ub85c\uadf8\ub7a8</code> \uc740 \ub2e8\uc77c \uc2a4\ub808\ub4dc\uc5d0\uc11c \uc2e4\ud589\ud558\uae30\uc5d0, \uc804\ud1b5\uc801\uc778 \ub2e4\uc911 \uc2a4\ub808\ub4dc \ud504\ub85c\uadf8\ub7a8\ubcf4\ub2e4 \uc791\uc131\uacfc \uad00\ub9ac\uac00 \uc27d\ub2e4. \ub3d9\uc2dc\uc131 \ud568\uc218\ub294 \ubaa8\ub450 \uac19\uc740 \uba54\ubaa8\ub9ac \uacf5\uac04\uc744 \uacf5\uc720\ud558\ubbc0\ub85c \uc774\ub7f0 \ud568\uc218 \uac04\uc5d0 \ub370\uc774\ud130\ub97c \uacf5\uc720\ud558\ubbc0\ub85c \uc774\ub7f0 \ud568\uc218 \uac04\uc5d0 \ub370\uc774\ud130\ub97c \uacf5\uc720\ud560 \ub54c\ub294 \uc77c\ubc18\uc801\uc778(\ubcc0\uc218\ub97c \ud1b5\ud55c) \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud574\ub3c4 \uc608\uc0c1\ub300\ub85c \uc791\ub3d9\ud55c\ub2e4. \ud558\uc9c0\ub9cc \uc5b8\uc81c \uc5b4\ub290 \uc904\uc758 \ucf54\ub4dc\uac00 \uba54\ubaa8\ub9ac \uacf5\uac04\uc744 \uc0ac\uc6a9\ud560\uc9c0 \uc54c \uc218 \uc5c6\uc73c\ubbc0\ub85c \uacbd\uc7c1 \uc0c1\ud0dc(race condition)\ub97c \uc870\uc2ec\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/1.%20%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%20%EC%86%8C%EA%B0%9C/#_1","title":"\ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d \uc18c\uac1c","text":"<p>\uc77c\ubc18\uc801\uc73c\ub85c \ud504\ub85c\uadf8\ub7a8\uc774 I/O \ub300\uae30\uc5d0 \ub4e4\uc5b4\uac00\uba74, \uc2e4\ud589\uc774 \uba48\ucd94\uace0 \ucee4\ub110\uc774 I/O \uc694\uccad\uacfc \uad00\ub828\ud55c \uc800\uc218\uc900 \uc5f0\uc0b0\uc744 \ucc98\ub9ac\ud558\uba70(<code>\ucee8\ud14d\uc2a4\ud2b8 \uc2a4\uc704\uce6d</code>)</p> <p>I/O \uc5f0\uc0b0\uc774 \ub05d\ub0a0 \ub54c\uae4c\uc9c0 \ud504\ub85c\uadf8\ub7a8\uc740 \uc7ac\uac1c\ub418\uc9c0 \uc54a\ub294\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2e4\ud589\uc744 \ud558\ub77d\ubc1b\uc73c\uba74 \ub9c8\ub354\ubcf4\ub4dc\uc5d0\uc11c \ud504\ub85c\uadf8\ub7a8\uc744 \ub2e4\uc2dc \ucd08\uae30\ud654\ud558\uace0 \uc7ac\uac1c\ub97c \uc704\ud55c \uc900\ube44 \uc791\uc5c5\uc744 \uc218\ud589\ud574\uc57c \ud55c\ub2e4.</p> <p>\ubc18\uba74\uc5d0 \ub3d9\uc2dc\uc131 \ud504\ub85c\uadf8\ub7a8\uc740 \ubcf4\ud1b5 \uc2e4\ud589\ud560 \ub300\uc0c1\uacfc \uc2dc\uc810\uc744 \uad00\ub9ac\ud558\ub294 \uc774\ubca4\ud2b8 \ub8e8\ud504\ub97c \uc0ac\uc6a9\ud55c\ub2e4. \uadfc\ubcf8\uc801\uc73c\ub85c \uc774\ubca4\ud2b8 \ub8e8\ud504\ub294 \uc2e4\ud589\ud560 \ud568\uc218\uc758 \ubaa9\ub85d\uc5d0 \uc9c0\ub098\uc9c0 \uc54a\ub294\ub2e4. \ubaa9\ub85d \ub9e8 \uc55e\uc758 \ud568\uc218\uac00 \uc2e4\ud589\ub418\uace0, \uadf8 \ub2e4\uc74c\uc5d0 \ub450 \ubc88\uc9f8 \ud568\uc218\uac00 \uc2e4\ud589\ub418\ub294 \uc2dd\uc774\ub2e4.</p> <pre><code>from queue import Queue\n\n# \uc804\uc5ed \ubcc0\uc218\ub85c \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc120\uc5b8\neventloop = None\n\n# Queue \ud074\ub798\uc2a4\ub97c \uc0c1\uc18d\ubc1b\uc544 EventLoop \ud074\ub798\uc2a4 \uad6c\ud604\nclass EventLoop(Queue):\n    # \uc774\ubca4\ud2b8 \ub8e8\ud504\ub97c \uc2dc\uc791\ud558\ub294 \uba54\uc11c\ub4dc\n    def start(self):\n        while True:\n            # \ud050\uc5d0\uc11c \ud568\uc218\ub97c \ud558\ub098 \uaebc\ub0b4 \uc2e4\ud589\n            function = self.get()\n            function()\n\n# \"Hello\"\ub97c \ucd9c\ub825\ud558\uace0 \ub2e4\uc74c \uc774\ubca4\ud2b8\ub85c \"do_world\" \ud568\uc218\ub97c \ud050\uc5d0 \ucd94\uac00\ndef do_hello():\n    global eventloop\n    print(\"Hello\")\n    eventloop.put(do_world)\n\n# \"world\"\ub97c \ucd9c\ub825\ud558\uace0 \ub2e4\uc74c \uc774\ubca4\ud2b8\ub85c \"do_hello\" \ud568\uc218\ub97c \ud050\uc5d0 \ucd94\uac00\ndef do_world():\n    global eventloop\n    print(\"world\")\n    eventloop.put(do_hello)\n\n# \uba54\uc778 \uc2e4\ud589 \ubd80\ubd84\nif __name__ == \"__main__\":\n    # \uc774\ubca4\ud2b8 \ub8e8\ud504 \uac1d\uccb4 \uc0dd\uc131\n    eventloop = EventLoop()\n\n    # \uccab \ubc88\uc9f8 \uc774\ubca4\ud2b8\ub85c do_hello \ud568\uc218 \ud050\uc5d0 \ucd94\uac00\n    eventloop.put(do_hello)\n\n    # \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc2dc\uc791\n    eventloop.start()\n</code></pre> <p>\uc774\ubca4\ud2b8 \ub8e8\ud504\ub97c \ube44\ub3d9\uae30 I/O \uc5f0\uc0b0\uacfc \uacb0\ud569\ud558\uba74 I/O \uc791\uc5c5\uc744 \uc218\ud589\ud560 \ub54c \uc5c4\uccad\ub09c \uc131\ub2a5 \ud615\uc0c1\uc744 \uc5bb\uc744 \uc218 \uc788\ub2e4.</p> <p>\uc704 \ucf54\ub4dc\ub294 <code>eventloop.put(do_world)</code> \ud638\ucd9c\uc740 <code>do_world</code> \ud568\uc218\uc5d0 \ub300\ud55c \ube44\ub3d9\uae30 \ud638\ucd9c\uc744 \ub300\ub7b5\uc801\uc73c\ub85c \ubcf4\uc5ec\uc900\ub2e4. \uc774 \uc5f0\uc0b0\uc740 <code>nonblocking</code> \uc774\ub77c\uace0 \ubd80\ub978\ub2e4.</p> <p>\uc989, \uc989\uc2dc \ubc18\ud658\ub418\uc9c0\ub9cc \ub098\uc911\uc5d0 <code>do_world</code> \ud568\uc218\ub97c \ud638\ucd9c\ud568\uc744 \ubcf4\uc7a5 \ud55c\ub2e4\ub294 \ub9d0\uc774\ub2e4. \ube44\uc2b7\ud558\uac8c \ube44\ub3d9\uae30 \ud568\uc218 \uc548\uc5d0 \ub124\ud2b8\uc6cc\ud06c \uc4f0\uae30 \uc5f0\uc0b0\uc774 \uc788\uc73c\uba74 \uc2e4\uc81c \uc4f0\uae30\uac00 \ub05d\ub098\uc9c0 \uc54a\uc558\uc5b4\ub3c4 \ud568\uc218\ub294 \uc989\uc2dc \ubc18\ud658\ub41c\ub2e4. \ubb38\uc790\uc5f4 \uc4f0\uae30\uac00 \ub05d\ub098\uba74 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud574\uc11c \ud504\ub85c\uadf8\ub7a8\uc774 \uc774\ub97c \uc54c \uc218 \uc788\ub2e4.</p> <p>\uc774\ubca4\ud2b8 \ub8e8\ud504\uc640 \ube44\ub3d9\uae30 I/O \ub77c\ub294 \ub450 \uac1c\ub150\uc744 \ud55c\ub370 \ubaa8\uc73c\uba74, \uc694\uccad\ud55c I/O \uc5f0\uc0b0\uc774 \ub05d\ub098\uae30\ub97c \uae30\ub2e4\ub9ac\ub294 \ub3d9\uc548 \ub2e4\ub978 \ud568\uc218\ub97c \uc2e4\ud589\ud558\ub294 \ud504\ub85c\uadf8\ub7a8\uc744 \ub9cc\ub4e4 \uc218 \uc788\ub2e4.</p> <p>Note</p> <p>\ud568\uc218\uc5d0\uc11c \ud568\uc218\ub85c \uc804\ud658\ud558\ub294 \uc791\uc5c5\ub3c4 \ube44\uc6a9\uc774 \ub4e0\ub2e4. \ucee4\ub110\uc774 \uc2e4\ud589\ud560 \ud568\uc218\ub97c \uba54\ubaa8\ub9ac\uc5d0 \uc900\ube44\ud574\uc57c \ud558\uace0, \uce90\uc2dc \uc0c1\ud0dc\ub3c4 \uc6d0\ub798 \uc608\uce21\uacfc \ub2ec\ub77c\uc9c8 \uac83\uc774\ub2e4. \ub530\ub77c\uc11c \ud504\ub85c\uadf8\ub7a8\uc5d0 I/O \ub300\uae30\uac00 \ub9ce\uc744 \ub54c \ub3d9\uc2dc\uc131\uc5d0\uc11c \uc5bb\ub294 \uc774\uc775\uc774 \uac00\uc7a5 \ucee4\uc9c4\ub2e4. \ucee8\ud14d\uc2a4\ud2b8 \uc2a4\uc704\uce6d\uc5d0 \ube44\uc6a9\uc774 \ub4e4\uc9c0\ub9cc, I/O \ub300\uae30 \uc2dc\uac04\uc744 \ud65c\uc6a9\ud574\uc11c \uc5bb\ub294 \uc774\uc775\uc774 \ud6e8\uc52c \ud06c\uae30 \ub54c\ubb38\uc774\ub2e4.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/2.%20%EC%BD%9C%EB%B0%B1%EA%B3%BC%20%ED%93%A8%EC%B2%98/","title":"2. \ucf5c\ubc31\uacfc \ud4e8\ucc98","text":"<p>\uc774\ubca4\ud2b8 \ub8e8\ud504\ub97c \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uadf8\ub798\ubc0d\uc5d0\ub294 <code>\ucf5c\ubc31</code>\uacfc <code>\ud4e8\ucc98</code>\ub77c\ub294 \ub450 \uac00\uc9c0\uc758 \ud615\ud0dc\uac00 \uc788\ub2e4.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/2.%20%EC%BD%9C%EB%B0%B1%EA%B3%BC%20%ED%93%A8%EC%B2%98/#_1","title":"\ucf5c\ubc31","text":"<p>\ucf5c\ubc31 \ud328\ub7ec\ub2e4\uc784\uc5d0\uc11c\ub294 \uac01 \ud568\uc218\ub97c \ud638\ucd9c\ud560 \ub54c \ucf5c\ubc31\uc774\ub77c\ub294 \uc778\uc790\ub97c \ub118\uae34\ub2e4. \ud568\uc218\uac00 \uac12\uc744 \ubc18\ud658\ud558\ub294 \ub300\uc2e0, \uadf8 \uac12\uc744 \uc778\uc790\ub85c \uc2e4\uc5b4 \ucf5c\ubc31 \ud568\uc218\ub97c \ud638\ucd9c\ud55c\ub2e4. \uc774 \uad6c\uc870\uc5d0\uc11c\ub294 \ud638\ucd9c\ud55c \ud568\uc218\uc758 \uacb0\uacfc\ub97c \ubc1b\ub294 \ud568\uc218\uac00 \ub354\ud574\uc9c0\uace0, \ub2e4\uc2dc \uadf8 \ud568\uc218\uc758 \uacb0\uacfc\ub97c \ubc1b\ub294 \ub610 \ub2e4\ub978 \ud568\uc218\uac00 \ub354\ud574\uc9c0\uba74\uc11c \ud568\uc218\uc758 \uc0ac\uc2ac\uc774 \ub9cc\ub4e4\uc5b4\uc9c4\ub2e4. \u2192 \uc774\ub7f0 \uc2dd\uc73c\ub85c \ucf5c\ubc31 \uae4a\uc774\uac00 \uae4a\uc5b4\uc9c0\ub294 \uc0c1\ud669\uc744 \u201c\ucf5c\ubc31 \uc9c0\uc625\u201d\uc774\ub77c\uace0 \ubd80\ub978\ub2e4.</p> <pre><code>from functools import partial\nfrom some_database_library import save_results_to_db\n\ndef save_value(value, callback):\n    print(f\"Saving {value} to database\")\n    # \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \uac12\uc744 \uc800\uc7a5\ud558\uace0 \uc644\ub8cc\ub418\uba74 \ucf5c\ubc31 \ud638\ucd9c\n    save_results_to_db(value, callback)\n\ndef print_response(db_response):\n    print(f\"Response from database: {db_response}\")\n\nif __name__ == \"__main__\":\n    # print_response()\uac00 \uc544\ub2cc \ud568\uc218 \uac1d\uccb4\ub97c \ub118\uaca8\uc57c \ud568\n    eventloop.put(partial(save_value, \"Hello World\", print_response))\n</code></pre> <p><code>save_result_to_db</code> \ub294 \ube44\ub3d9\uae30 \ud568\uc218\ub2e4. \uc774 \ud568\uc218\uac00 \uc989\uc2dc \ubc18\ud658\ub418\uba74\uc11c \ud568\uc218\uac00 \uc885\ub8cc\ub418\uace0 \ub2e4\ub978 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4.</p> <ol> <li> <p>save_value</p> <ol> <li>\uc774 \ud568\uc218\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \u201cHello World\u201d \uac12\uc744 \uc800\uc7a5\ud558\ub294 \ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \uc218\ud589\ud569\ub2c8\ub2e4. <code>save_results_to_db(value, callback)</code> \uc740 \ube44\ub3d9\uae30 \ud568\uc218\ub85c, \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \uc800\uc7a5\uc774 \uc644\ub8cc\ub418\uba74 \ucf5c\ubc31 \ud568\uc218\uc778 <code>callback</code> \uc744 \ud638\ucd9c\ud55c\ub2e4.</li> </ol> </li> <li> <p>print_response</p> <ol> <li>\uc774 \ud568\uc218\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \uc800\uc7a5\ub41c \ud6c4, \uadf8 \uacb0\uacfc\ub97c \ubc1b\uc544 \ucc98\ub9ac\ud558\ub294 \ucf5c\ubc31 \ud568\uc218\uc785\ub2c8\ub2e4. \uacb0\uacfc\uac00 \ub4e4\uc5b4\uc624\uba74 \ub370\uc774\ud130\ubca0\uc774\uc2a4\ub85c\ubd80\ud130 \uc751\ub2f5\uc744 \ucd9c\ub825\ud55c\ub2e4.</li> </ol> </li> <li> <p>\uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc791\uc5c5 \ucd94\uac00</p> <ol> <li><code>partial(save_value, \u201cHello World\u201d, print_response)</code> \ub294 save_value \ud568\uc218\uc5d0 \u201cHello World\u201d\ub77c\ub294 \uac12\uacfc <code>print_response</code> \ucf5c\ubc31\uc744 \ud568\uaed8 \uc804\ub2ec\ud558\uc5ec \uc0c8\ub85c\uc6b4 \ud568\uc218\ub85c \ub9cc\ub4e4\uace0, \uc774\ub97c \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4.</li> <li>\uc774\ubca4\ud2b8 \ub8e8\ud504\uac00 \uc2e4\ud589\ub418\uba74\uc11c <code>save_value</code> \ud568\uc218\uac00 \uc2e4\ud589\ub418\uace0, \uc774 \ud568\uc218\ub294 \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ub370\uc774\ud130\ubca0\uc774\uc2a4 \u201cHello World\u201d \ub97c \uc800\uc7a5\ud558\uace0 \uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uba74 \ucf5c\ubc31\uc73c\ub85c <code>print_response</code> \uac00 \ud638\ucd9c\ub41c\ub2e4.</li> </ol> </li> </ol> <p>\ub3d9\uc791 \ud750\ub984</p> <ol> <li>\uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc791\uc5c5 \ucd94\uac00</li> <li>\uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0\uc11c \uc791\uc5c5 \uc2e4\ud589</li> <li>\ucf5c\ubc31 \ud568\uc218 \uc2e4\ud589</li> </ol>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/2.%20%EC%BD%9C%EB%B0%B1%EA%B3%BC%20%ED%93%A8%EC%B2%98/#_2","title":"\ud4e8\ucc98","text":"<p>save_results_to_db \ud568\uc218\uac00 <code>Future</code> \ud0c0\uc785\uc758 \uac12\uc744 \ubc18\ud658\ud55c\ub2e4\uace0 \ud560 \ub54c, \uc774\ub294 \ud574\ub2f9 \ud568\uc218\uac00 \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ub3d9\uc791\ud558\uba70, \ud568\uc218 \ud638\ucd9c \ud6c4 \uc989\uc2dc \uacb0\uacfc\ub97c \ubc18\ud658\ud558\uc9c0 \uc54a\uace0, \uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uc5c8\uc744 \ub54c \uadf8 \uacb0\uacfc\ub97c \ub098\uc911\uc5d0 \uc81c\uacf5\ud560 \uac83\uc744 \uc57d\uc18d\ud558\ub294 \uac1d\uccb4(Future) \ub97c \ubc18\ud658\ud55c\ub2e4\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4.</p> <p>Future \ud0c0\uc785\uc758 \uc774\ud574</p> <p>\ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \uc644\ub8cc \uc0c1\ud0dc\uc640 \uacb0\uacfc\ub97c \ub098\uc911\uc5d0 \ubc1b\uc744 \uc218 \uc788\ub3c4\ub85d \ud558\ub294 \uac1d\uccb4\uc785\ub2c8\ub2e4. \uc8fc\ub85c \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\uc5d0\uc11c \uc0ac\uc6a9\ub418\uba70, I/O \uc791\uc5c5\uc774\ub098 \ub124\ud2b8\uc6cc\ud06c \uc694\uccad\uacfc \uac19\uc774 \uc2dc\uac04\uc774 \uac78\ub9ac\ub294 \uc791\uc5c5\uc5d0\uc11c \uc790\uc8fc \uc0ac\uc6a9\ub41c\ub2e4.</p> <ol> <li>\ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \uc2dc\uc791\ud560 \ub54c, \uc791\uc5c5\uc740 \uc989\uc2dc \uacb0\uacfc\ub97c \ubc18\ud658\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c Future \uac1d\uccb4\uac00 \ubc18\ud658\ub41c\ub2e4.</li> <li>\uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uba74, Future \uac1d\uccb4\ub294 \uacb0\uacfc \uac12\uc744 \uac00\uc9c0\uac8c \ub418\uace0, \uc774 \uac12\uc744 \ud655\uc778\ud558\uac70\ub098 \ucc98\ub9ac\ud560 \uc218 \uc788\ub2e4. \uc774\ub97c \ud1b5\ud574 \uc6b0\ub9ac\ub294 \ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \uacb0\uacfc\ub97c \ucd94\uc801\ud560 \uc218 \uc788\ub2e4.</li> <li>Future \uac1d\uccb4\ub294 \ucf5c\ubc31 \ud568\uc218\ub97c \ub4f1\ub85d\ud560 \uc218 \uc788\uc73c\uba70, \ube44\ub3d9\uae30 \uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uc5c8\uc744 \ub54c \ud574\ub2f9 \ucf5c\ubc31 \ud568\uc218\uac00 \uc2e4\ud589\ub41c\ub2e4.</li> </ol>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/3.%20%EB%B9%84%EB%8F%99%EA%B8%B0%20%EC%9E%91%EC%97%85%EC%9D%98%20%EA%B3%BC%EB%B6%80%ED%95%98/","title":"3. \ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \uacfc\ubd80\ud558","text":"<p>\ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\uc5d0\uc11c I/O \uc791\uc5c5\uc744 \ucc98\ub9ac\ud560 \ub54c \ud55c \ubc88\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc791\uc5c5\uc744 \uc2e4\ud589\ud558\uba74, \uc624\ud788\ub824 \uc131\ub2a5\uc774 \uc800\ud558 \ub420 \uc218 \uc788\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc5d0\uc11c \ub3d9\uc2dc\uc5d0 \ub108\ubb34 \ub9ce\uc740 \ud30c\uc77c\uc744 \uc5f4\uac70\ub098 \ub124\ud2b8\uc6cc\ud06c \uc0c1\uc5d0\uc11c \ud55c \ubc88\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc5f0\uacb0\uc744 \ub9fa\uc73c\uba74 \uc11c\ubc84\uc5d0 \uacfc\ub3c4\ud55c \ubd80\ud558\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4.  \ub610\ub294 \ube44\ub3d9\uae30 \uc791\uc5c5\uc758 \uc218\uac00 \uc9c0\ub098\uce58\uac8c \ub9ce\uc544\uc9c0\uba74, \uc6b4\uc601\uccb4\uc81c\uac00 \uc790\uc8fc \ucee8\ud14d\uc2a4\ud2b8 \uc2a4\uc704\uce6d\uc744 \ud558\uac8c \ub418\uc5b4 \uc131\ub2a5\uc774 \uc800\ud558\ub420 \uc218 \uc788\ub2e4.</p> <p>\uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud55c \ubc29\ubc95 \uc911 \ud558\ub098\uac00 <code>chunking</code> \ub610\ub294 <code>batching</code> \uae30\ubc95\uc73c\ub85c, \uc791\uc5c5\uc744 \uc77c\uc815\ud55c \ud06c\uae30(chunks)\ub85c \ub098\ub204\uc5b4 \ucc98\ub9ac\ud558\ub294 \uac83\uc774\ub2e4. \uc989, \ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \ud55c\uaebc\ubc88\uc5d0 \ubaa8\ub450 \uc2e4\ud589\ud558\ub294 \ub300\uc2e0 \uc791\uc5c5\uc758 \ubb36\uc74c(batch)\uc73c\ub85c \ub098\ub204\uc5b4 \uc21c\ucc28\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uc5ec \ubd80\ud558\ub97c \uc870\uc808\ud558\ub294 \ubc29\ubc95\uc774\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4, 1000\uac1c\uc758 \ud30c\uc77c\uc744 \ucc98\ub9ac\ud574\uc57c \ud560 \ub54c, \ud55c \ubc88\uc5d0 100\uac1c\uc758 \ud30c\uc77c\ub9cc \uc5f4\uace0, \uadf8 \ud30c\uc77c\ub4e4\uc774 \ucc98\ub9ac\ub418\uba74 \uadf8 \ub2e4\uc74c 100\uac1c\ub97c \ucc98\ub9ac\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4.</p> <p>Chunk Size \ubc29\uc2dd\uc758 \ub3d9\uc791 \ubc29\uc2dd</p> <ol> <li>\uc791\uc5c5 \ub098\ub204\uae30</li> <li>\uc21c\ucc28 \ucc98\ub9ac</li> <li>\ube44\ub3d9\uae30\uc801\uc73c\ub85c \uc2e4\ud589</li> </ol> <pre><code>import asyncio\n\n# \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ud30c\uc77c\uc744 \ucc98\ub9ac\ud558\ub294 \ud568\uc218 (\uc608: \uc77d\uae30, \uc4f0\uae30)\nasync def process_file(file):\n    print(f\"Processing {file}\")\n    await asyncio.sleep(1)  # \ud30c\uc77c \ucc98\ub9ac\uc5d0 1\ucd08 \uac78\ub9b0\ub2e4\uace0 \uac00\uc815\n\n# \uc791\uc5c5\uc744 \uc77c\uc815\ud55c \ud06c\uae30(chunk_size)\ub85c \ub098\ub204\uc5b4 \ucc98\ub9ac\ud558\ub294 \ud568\uc218\nasync def process_files_in_chunks(files, chunk_size):\n    for i in range(0, len(files), chunk_size):\n        # \ud30c\uc77c\ub4e4\uc744 chunk\ub85c \ub098\ub204\uc5b4\uc11c \ucc98\ub9ac\n        chunk = files[i:i + chunk_size]\n        await asyncio.gather(*[process_file(file) for file in chunk])\n        print(f\"Processed chunk: {chunk}\")\n\n# \uba54\uc778 \ud568\uc218\nasync def main():\n    # \uc608\uc2dc \ud30c\uc77c \ub9ac\uc2a4\ud2b8\n    files = [f\"file_{i}\" for i in range(20)]\n\n    # \ud55c \ubc88\uc5d0 5\uac1c \ud30c\uc77c\uc529 \ucc98\ub9ac\n    await process_files_in_chunks(files, 5)\n\n# asyncio \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc2e4\ud589\nasyncio.run(main())\n</code></pre> <ol> <li><code>process_file</code> \ud568\uc218<ol> <li>\ud30c\uc77c\uc744 \ucc98\ub9ac\ud558\ub294 \ube44\ub3d9\uae30 \ud568\uc218\uc774\ub2e4.</li> </ol> </li> <li><code>process_files_in_chunks</code><ol> <li>\uc804\uccb4 \ud30c\uc77c \ub9ac\uc2a4\ud2b8\ub97c chunk \ub85c \ub098\ub204\uc5b4 \ucc98\ub9ac\ud558\ub294 \ud568\uc218</li> <li>\ud55c \ubc88\uc5d0 chunk_size \ub9cc\ud07c\uc758 \ud30c\uc77c\uc744 \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uace0, \uadf8 \ub2e4\uc74c chunk\ub85c \ub118\uc5b4\uac04\ub2e4.</li> <li>\uc608\ub97c \ub4e4\uc5b4, 20\uac1c\uc758 \ud30c\uc77c\uc744 \ud55c \ubc88\uc5d0 5\uac1c\uc529 \ubb36\uc5b4\uc11c \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uace0, \uac01 chunk\uac00 \uc644\ub8cc\ub418\uba74 \ub2e4\uc74c 5\uac1c\uc758 \ud30c\uc77c\uc744 \ucc98\ub9ac\ud55c\ub2e4.</li> </ol> </li> <li><code>asyncio.gather()</code><ol> <li>gather\ub294 \uc5ec\ub7ec \ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud560 \ub54c \uc0ac\uc6a9</li> </ol> </li> </ol>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/4.%20%EC%88%9C%EC%B0%A8%EC%B2%98%EB%A6%AC%20%26%20%EC%9D%BC%EA%B4%84%EC%B2%98%EB%A6%AC%20%26%20%EC%A7%84%EC%A0%95%ED%95%9C%20%EB%B9%84%EB%8F%99%EA%B8%B0/","title":"4. \uc21c\ucc28\ucc98\ub9ac & \uc77c\uad04\ucc98\ub9ac & \uc9c4\uc815\ud55c \ube44\ub3d9\uae30","text":""},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/4.%20%EC%88%9C%EC%B0%A8%EC%B2%98%EB%A6%AC%20%26%20%EC%9D%BC%EA%B4%84%EC%B2%98%EB%A6%AC%20%26%20%EC%A7%84%EC%A0%95%ED%95%9C%20%EB%B9%84%EB%8F%99%EA%B8%B0/#_1","title":"\uc21c\ucc28 \ucc98\ub9ac","text":"<p>\uc21c\ucc28 \ucc98\ub9ac\ub294 \uac00\uc7a5 \uc804\ud1b5\uc801\uc778 \ubc29\uc2dd\uc73c\ub85c, \uc791\uc5c5\uc744 \ud558\ub098\uc529 \uc21c\uc11c\ub300\ub85c \ucc98\ub9ac. \uc989, \ud558\ub098\uc758 \uc791\uc5c5\uc774 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \ub2e4\uc74c \uc791\uc5c5\uc744 \uc2dc\uc791\ud558\uc9c0 \uc54a\uace0 \uae30\ub2e4\ub9ac\ub294 \ubc29\uc2dd</p> <ul> <li>\ub2e8\uc21c\ud558\uace0 \uc9c1\uad00\uc801: \ucf54\ub4dc \ud750\ub984\uc774 \uba85\ud655\ud558\uba70, \ub514\ubc84\uae45\uacfc \uc774\ud574\uac00 \uc26c\uc6c0.</li> <li>\ub0ae\uc740 \uc131\ub2a5: \uac01 \uc791\uc5c5\uc774 \ub05d\ub0a0 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9ac\ubbc0\ub85c, \uc2dc\uac04\uc774 \uc624\ub798 \uac78\ub9ac\ub294 \uc791\uc5c5\uc774 \uc788\ub2e4\uba74 \ud504\ub85c\uadf8\ub7a8 \uc804\uccb4\uac00 \ub290\ub824\uc9c8 \uc218 \uc788\uc74c. \uc608\ub97c \ub4e4\uc5b4, \ub124\ud2b8\uc6cc\ud06c \uc694\uccad\uc774\ub098 \ud30c\uc77c I/O \uc791\uc5c5\uc774 \uc788\uc744 \ub54c, \ud574\ub2f9 \uc791\uc5c5\uc774 \ub05d\ub0a0 \ub54c\uae4c\uc9c0 \ub2e4\uc74c \uc791\uc5c5\uc774 \uc2dc\uc791\ub418\uc9c0 \uc54a\uc74c.</li> <li>\uc790\uc6d0 \ud65c\uc6a9 \ube44\ud6a8\uc728\uc801: CPU\ub098 \uba54\ubaa8\ub9ac \uac19\uc740 \uc790\uc6d0\uc774 \ucda9\ubd84\ud788 \uc0ac\uc6a9\ub418\uc9c0 \uc54a\uc74c.</li> </ul> <pre><code>def fetch_data_from_server():\n    print(\"Fetching data from server...\")\n    # \ub124\ud2b8\uc6cc\ud06c \uc694\uccad \uc2dc\ubbac\ub808\uc774\uc158 (\ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0\uc774 \uc788\uc74c)\n    time.sleep(2)\n    print(\"Data received\")\n\ndef process_data():\n    print(\"Processing data...\")\n    # \ub370\uc774\ud130 \ucc98\ub9ac\n    time.sleep(1)\n    print(\"Data processed\")\n\ndef main():\n    fetch_data_from_server()\n    process_data()\n\nmain()\n</code></pre>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/4.%20%EC%88%9C%EC%B0%A8%EC%B2%98%EB%A6%AC%20%26%20%EC%9D%BC%EA%B4%84%EC%B2%98%EB%A6%AC%20%26%20%EC%A7%84%EC%A0%95%ED%95%9C%20%EB%B9%84%EB%8F%99%EA%B8%B0/#pipelining","title":"\uc77c\uad04 \ucc98\ub9ac(\ud30c\uc774\ud504\ub77c\uc774\ub2dd, pipelining)","text":"<p>\uc5ec\ub7ec \uc791\uc5c5\uc744 \ubc30\uce58\ub85c \ubaa8\uc544\uc11c \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4. \uc989, \uc5ec\ub7ec \uac1c\uc758 \uc791\uc5c5\uc744 \ud55c\uaebc\ubc88\uc5d0 \ucc98\ub9ac\ud558\uc9c0\ub9cc, \uc5ec\uc804\ud788 \uc21c\ucc28\uc801\uc73c\ub85c \uc2e4\ud589\ub41c\ub2e4.</p> <p>\ud30c\uc774\ud504\ub77c\uc774\ub2dd\uc740 \uc791\uc5c5\uc744 \uc5ec\ub7ec \ub2e8\uacc4\ub85c \ub098\ub204\uc5b4 \ub3d9\uc2dc\uc5d0 \uc9c4\ud589\ud560 \uc218 \uc788\ub294 \ud2b9\uc9d5\uc774 \uc788\ub2e4.</p> <ul> <li>\ud6a8\uc728\uc131 \uc99d\uac00: \uc5ec\ub7ec \uc791\uc5c5\uc744 \ubb36\uc5b4\uc11c \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\uc5b4, \uc21c\ucc28 \ucc98\ub9ac\ubcf4\ub2e4\ub294 \ube60\ub985\ub2c8\ub2e4.</li> <li>\ube44\ub3d9\uae30\uc640 \uc21c\ucc28 \ucc98\ub9ac\uc758 \uc911\uac04 \uc9c0\uc810: \ube44\ub3d9\uae30\uc801\uc73c\ub85c \ucc98\ub9ac\ub418\uc9c0\ub294 \uc54a\uc9c0\ub9cc, \uac01 \uc791\uc5c5\uc744 \uc77c\uad04 \ucc98\ub9ac\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc18d\ub3c4\ub97c \ub192\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> <li>CPU \uc790\uc6d0 \ud65c\uc6a9 \uc99d\uac00: \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \uc791\uc5c5\uc774 \ub9ce\uc744 \uacbd\uc6b0 CPU \uc790\uc6d0\uc744 \ub354 \ud6a8\uc728\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> <pre><code>import asyncio\n\nasync def fetch_data_from_server(server):\n    print(f\"Fetching data from {server}...\")\n    await asyncio.sleep(2)  # \ub124\ud2b8\uc6cc\ud06c \uc694\uccad \uc9c0\uc5f0 \uc2dc\ubbac\ub808\uc774\uc158\n    print(f\"Data received from {server}\")\n    return f\"Data from {server}\"\n\nasync def main():\n    servers = ['Server 1', 'Server 2', 'Server 3']\n\n    # \uc77c\uad04 \ucc98\ub9ac: \uac01 \uc11c\ubc84\uc5d0 \ub300\ud55c \ub370\uc774\ud130\ub97c \ub3d9\uc2dc\uc5d0 \uc694\uccad\n    tasks = [fetch_data_from_server(server) for server in servers]\n\n    # \uacb0\uacfc\ub97c \ud55c\uaebc\ubc88\uc5d0 \ucc98\ub9ac\n    results = await asyncio.gather(*tasks)\n    print(\"All data fetched:\", results)\n\nasyncio.run(main())\n</code></pre> <ol> <li>\uc21c\ucc28 \ucc98\ub9ac<ul> <li>\uc791\uc5c5\uc744 \ud558\ub098\uc529 \ucc98\ub9ac\ud558\uba70, \uac01 \uc791\uc5c5\uc774 \ub05d\ub0a0 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub838\ub2e4\uac00 \ub2e4\uc74c \uc791\uc5c5\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4. \uc774\ub294 \ub9e4\uc6b0 \ub2e8\uc21c\ud558\uc9c0\ub9cc, \ucc98\ub9ac \uc2dc\uac04\uc774 \uae38\uc5b4\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> </li> <li>\uc77c\uad04 \ucc98\ub9ac(\ubc30\uce58 \ucc98\ub9ac)<ul> <li>\uc5ec\ub7ec \uc791\uc5c5\uc744 \ud55c\uaebc\ubc88\uc5d0 \ubaa8\uc544\uc11c \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uc774 \ubc29\uc2dd\uc740 \uc21c\ucc28 \ucc98\ub9ac\ubcf4\ub2e4 \ub354 \ube60\ub974\uac8c \uc791\uc5c5\uc744 \uc644\ub8cc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> </li> </ol> <p>\ubb38\uc81c \uc124\uba85</p> <p>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ucc98\ub9ac\ub97c \uc608\ub85c \ub4e4\uc5c8\uc744 \ub54c, \uc11c\ubc84\uc758 \ucc98\ub9ac \uc18d\ub3c4\ub294 \ud55c \ubc88\uc5d0 \uc5bc\ub9c8\ub098 \ub9ce\uc740 \uc694\uccad\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294\uc9c0\uc5d0 \uc601\ud5a5\uc744 \ubc1b\uc2b5\ub2c8\ub2e4. \uc11c\ubc84\uac00 \ucd08\ub2f9 100\uac1c\uc758 \uc694\uccad\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\ub2e4\uace0 \uac00\uc815\ud574 \ubd05\uc2dc\ub2e4.</p> <ol> <li> <p>\uc21c\ucc28 \ucc98\ub9ac\uc640 \uc77c\uad04 \ucc98\ub9ac\uc758 \ucc28\uc774\uc810</p> <ul> <li>\uc21c\ucc28 \ucc98\ub9ac\ub294 \ud55c \ubc88\uc5d0 \ud558\ub098\uc758 \uc694\uccad\uc744 \ubcf4\ub0b4\uace0, \ud574\ub2f9 \uc694\uccad\uc774 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9b0 \ud6c4\uc5d0 \ub2e4\uc74c \uc694\uccad\uc744 \ucc98\ub9ac\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uc774\ub294 \uac01\uac01\uc758 \uc694\uccad\uc774 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \ub300\uae30 \uc2dc\uac04\uc774 \ubc1c\uc0dd\ud558\ubbc0\ub85c \uc804\uccb4 \ucc98\ub9ac \uc2dc\uac04\uc774 \uae38\uc5b4\uc9d1\ub2c8\ub2e4. </li> <li>\ubc18\uba74 \uc77c\uad04 \ucc98\ub9ac\ub294 \uc5ec\ub7ec \uc694\uccad\uc744 \ub3d9\uc2dc\uc5d0 \uc11c\ubc84\uc5d0 \ubcf4\ub0b4\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ud55c \ubc88\uc5d0 100\uac1c\uc758 \uc694\uccad\uc744 \ub3d9\uc2dc\uc5d0 \uc11c\ubc84\ub85c \ubcf4\ub0b4\uba74, \uc11c\ubc84\ub294 \uc774\ub97c \ubcd1\ub82c\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774 \ubc29\uc2dd\uc740 \uc5ec\ub7ec \uc694\uccad\uc744 \ud55c\uaebc\ubc88\uc5d0 \ucc98\ub9ac\ud568\uc73c\ub85c\uc368 \uc21c\ucc28 \ucc98\ub9ac\ubcf4\ub2e4 \ud6e8\uc52c \ube60\ub974\uac8c \uacb0\uacfc\ub97c \uc5bb\uc744 \uc218 \uc788\ub294 \uc7a5\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4.  </li> </ul> </li> <li> <p>\uc77c\uad04 \ucc98\ub9ac\uc5d0\uc11c \ucc98\ub9ac \uc2dc\uac04\uc774 \ubc1c\uc0dd\ud558\ub294 \uc774\uc720</p> <ul> <li>\uc77c\uad04 \ucc98\ub9ac \ubc29\uc2dd\uc5d0\uc11c\ub3c4 \uc77c\uc815\ud55c \ucc98\ub9ac \uc2dc\uac04\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ud55c \ubc88\uc5d0 100\uac1c\uc758 \uc694\uccad\uc744 \ubcf4\ub0b8\ub2e4\uace0 \ud574\ub3c4, \uc11c\ubc84\uac00 \uc774\ub97c \ucc98\ub9ac\ud558\ub294 \ub370 100\ubc00\ub9ac\ucd08\uac00 \uac78\ub9b4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc11c\ubc84\uac00 \uc694\uccad\uc744 \ucc98\ub9ac\ud558\ub294 \ub370 \uc18c\uc694\ub418\ub294 \uc2dc\uac04\uc785\ub2c8\ub2e4. </li> <li>\ud558\uc9c0\ub9cc \uc911\uc694\ud55c \uc810\uc740, \uc21c\ucc28 \ucc98\ub9ac\uc5d0\uc11c\ub294 100\uac1c\uc758 \uc694\uccad \uac01\uac01\uc774 100\ubc00\ub9ac\ucd08\uc529 \uac78\ub9ac\uc9c0\ub9cc, \uc77c\uad04 \ucc98\ub9ac\ub97c \ud558\uba74 100\uac1c\uc758 \uc694\uccad\uc744 \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud558\ubbc0\ub85c \uc804\uccb4 \uc694\uccad\uc744 \ucc98\ub9ac\ud558\ub294 \ub370 \uac78\ub9ac\ub294 \uc2dc\uac04\uc740 100\ubc00\ub9ac\ucd08\ub85c \ub3d9\uc77c\ud569\ub2c8\ub2e4. \uc774\ub807\uac8c \uc77c\uad04 \ucc98\ub9ac\ub294 \uc21c\ucc28 \ucc98\ub9ac\ubcf4\ub2e4 \ucc98\ub9ac \ud6a8\uc728\uc774 \ud6e8\uc52c \ub192\uc2b5\ub2c8\ub2e4.</li> </ul> </li> <li> <p>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uacfc\ubd80\ud558 \ubb38\uc81c</p> <ul> <li>\uc11c\ubc84\uac00 \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \uc694\uccad \uc218\ub97c \ucd08\uacfc\ud558\uba74 \uacfc\ubd80\ud558\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \uc11c\ubc84\uac00 \ud55c \ubc88\uc5d0 100\uac1c\uc758 \uc694\uccad\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294\ub370, \ud55c \ubc88\uc5d0 1000\uac1c\uc758 \uc694\uccad\uc744 \ubcf4\ub0b4\uba74 \uc11c\ubc84\uac00 \ucc98\ub9ac \ub2a5\ub825\uc744 \ucd08\uacfc\ud558\uc5ec \uc131\ub2a5\uc774 \uc800\ud558\ub429\ub2c8\ub2e4. </li> <li>\ub610\ud55c, \ub108\ubb34 \ub9ce\uc740 \uc694\uccad\uc744 \uc900\ube44\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ucd94\uac00\uc801\uc778 \uc2dc\uac04\uacfc \uc790\uc6d0\uc774 \uc18c\ubaa8\ub418\uae30 \ub54c\ubb38\uc5d0, \uc77c\uad04 \ucc98\ub9ac\uc758 \uc774\uc810\uc744 \ucda9\ubd84\ud788 \uc0b4\ub9ac\uc9c0 \ubabb\ud558\uace0 \uc624\ud788\ub824 \uc131\ub2a5\uc774 \ub5a8\uc5b4\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc989, \uc801\uc808\ud55c \uc591\uc758 \uc694\uccad\uc744 \ubcf4\ub0b4\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4.</li> </ul> </li> <li> <p>\uc11c\ubc84 \ucc98\ub9ac \uc18d\ub3c4\uac00 \ub290\ub9b4 \ub54c\uc758 \ubb38\uc81c\uc810</p> <ul> <li>\uc11c\ubc84\uc758 \ucc98\ub9ac \uc18d\ub3c4\uac00 \ub9e4\uc6b0 \ub290\ub824\uc11c \ud55c \ubc88\uc5d0 \ud558\ub098\uc758 \uc694\uccad\ub9cc \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \uc0c1\ud669\uc774\ub77c\uba74, \uc77c\uad04 \ucc98\ub9ac\uc758 \uc7a5\uc810\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \uc544\ubb34\ub9ac \ub9ce\uc740 \uc694\uccad\uc744 \ud55c\uaebc\ubc88\uc5d0 \ubcf4\ub0b4\ub354\ub77c\ub3c4, \uc11c\ubc84\uac00 \uc774\ub97c \uc21c\ucc28\uc801\uc73c\ub85c \ucc98\ub9ac\ud574\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 \uc804\uccb4 \ucc98\ub9ac \uc2dc\uac04\uc740 \uc21c\ucc28 \ucc98\ub9ac\uc640 \ub3d9\uc77c\ud558\uac8c \ub429\ub2c8\ub2e4.</li> </ul> </li> </ol> <p>\ub530\ub77c\uc11c \uc11c\ubc84\uac00 \ucc98\ub9ac \uc18d\ub3c4\uac00 \ub290\ub9b4 \uacbd\uc6b0, \uc77c\uad04 \ucc98\ub9ac\ub294 \uc131\ub2a5 \ud5a5\uc0c1\uc5d0 \ud070 \ud6a8\uacfc\ub97c \ubc1c\ud718\ud558\uc9c0 \ubabb\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"C.%ED%8C%8C%EC%9D%B4%EC%8D%AC/%EB%B9%84%EB%8F%99%EA%B8%B0%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/4.%20%EC%88%9C%EC%B0%A8%EC%B2%98%EB%A6%AC%20%26%20%EC%9D%BC%EA%B4%84%EC%B2%98%EB%A6%AC%20%26%20%EC%A7%84%EC%A0%95%ED%95%9C%20%EB%B9%84%EB%8F%99%EA%B8%B0/#_2","title":"\uc644\uc804\ud55c \ube44\ub3d9\uae30 \ucc98\ub9ac","text":"<p>\uc774 \ubc29\uc2dd\uc5d0\uc11c\ub294 \uac01 \uc791\uc5c5\uc774 \uc11c\ub85c\ub97c \uae30\ub2e4\ub9ac\uc9c0 \uc54a\uc73c\uba70, \uc791\uc5c5\uc774 \ub05d\ub098\ub294 \ub300\ub85c \ubc14\ub85c \ub2e4\uc74c \uc791\uc5c5\uc744 \uc2e4\ud589\ud55c\ub2e4. \uc791\uc5c5 \uc911\uc5d0 I/O\uac00 \ubc1c\uc0dd\ud558\ub354\ub77c\ub3c4 CPU\ub294 \ub2e4\ub978 \uc791\uc5c5\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c, \ub3d9\uc2dc\uc5d0 \uc5ec\ub7ec \uc791\uc5c5\uc774 \uc2e4\ud589\ub418\ub294 \uac83\ucc98\ub7fc \ubcf4\uc778\ub2e4.</p> <ul> <li>\ucd5c\uace0\uc758 \uc131\ub2a5: CPU\uac00 \ub180\uc9c0 \uc54a\uace0 I/O \ub300\uae30 \uc2dc\uac04 \ub3d9\uc548 \ub2e4\ub978 \uc791\uc5c5\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc2dc\uc2a4\ud15c \uc790\uc6d0\uc744 \ucd5c\ub300\ud55c\uc73c\ub85c \ud65c\uc6a9\ud569\ub2c8\ub2e4.</li> <li>\ubcf5\uc7a1\uc131 \uc99d\uac00: \uc644\uc804\ud55c \ube44\ub3d9\uae30 \ucc98\ub9ac\uc5d0\uc11c\ub294 \ub3d9\uc2dc\uc131 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc791\uc5c5\ub4e4\uc774 \ub3d9\uc2dc\uc5d0 \uc2e4\ud589\ub418\uae30 \ub54c\ubb38\uc5d0 \ucf54\ub4dc\uc758 \ub3d9\uae30\ud654\uc640 \uc608\uc678 \ucc98\ub9ac\uc5d0 \uc8fc\uc758\ub97c \uae30\uc6b8\uc5ec\uc57c \ud569\ub2c8\ub2e4.</li> <li>\uc790\uc6d0 \ucd5c\uc801\ud654: \ub124\ud2b8\uc6cc\ud06c\ub098 \ud30c\uc77c I/O\ucc98\ub7fc \uc2dc\uac04\uc774 \uc624\ub798 \uac78\ub9ac\ub294 \uc791\uc5c5\uc5d0\uc11c\ub3c4 \uc131\ub2a5 \uc800\ud558 \uc5c6\uc774 \ub2e4\ub978 \uc791\uc5c5\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> <pre><code>import asyncio\nimport aiohttp\n\n# \uacb0\uacfc\ub97c \uc800\uc7a5\ud558\ub294 \ud568\uc218\ndef save_result_aiohttp(client_session):\n    sem = asyncio.Semaphore(100)\n\n    async def saver(result):\n        nonlocal sem, client_session\n        url = \"http://127.0.0.1:8080/add\"\n        async with sem:\n            async with client_session.post(url, data=result) as response:\n                return await response.json()\n\n    return saver\n\n# \ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294 \ud568\uc218\nasync def calculate_task_aiohttp(num_iter, task, task_difficulty):\n    tasks = []\n    async with aiohttp.ClientSession() as client_session:\n        saver = save_result_aiohttp(client_session)\n        for i in range(num_iter):\n            result = do_task(i, task_difficulty)  # \uc791\uc5c5 \ucc98\ub9ac \ud568\uc218 \ud638\ucd9c\n            task = asyncio.create_task(saver(result))  (1)\n            tasks.append(task)\n            await asyncio.sleep(0)  (2)\n        await asyncio.wait(tasks)  (3)\n</code></pre> <p>(1) \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc800\uc7a5\uc744 \uc989\uc2dc <code>await</code> \ud558\ub294 \ub300\uc2e0, <code>asyncio.create_task</code> \ub97c \uc0ac\uc6a9\ud574 \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc800\uc7a5 \uc694\uccad\uc744 \ub123\uace0 \ud568\uc218\uac00 \ub05d\ub098\uae30 \uc804\uc5d0 \uc791\uc5c5\uc774 \uc644\ub8cc\ub410\ub294\uc9c0 \ud655\uc778\ud55c\ub2e4.</p> <p>(2) \uc774 \ud568\uc218\uc5d0\uc11c \uac00\uc7a5 \uc911\uc694\ud55c \ubd80\ubd84\uc774\ub2e4. \uc774\ubca4\ud2b8 \ub8e8\ud504\uac00 \uc2e4\ud589\uc744 \uae30\ub2e4\ub9ac\ub294 \uc791\uc5c5\uc744 \ucc98\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \uc8fc \ud568\uc218\ub97c \uc77c\uc2dc \uc911\ub2e8\ud55c\ub2e4. \uc774 \ubd80\ubd84\uc774 \uc5c6\uc73c\uba74 \ud050\uc5d0 \ub4e4\uc5b4\uac04 \uc791\uc5c5\uc740 \ud504\ub85c\uadf8\ub7a8\uc774 \ub05d\ub0a0 \ub54c\uae4c\uc9c0 \uc2e4\ud589\ub418\uc9c0 \uc54a\ub294\ub2e4.</p> <p>(3) \uc644\ub8cc\ub418\uc9c0 \uc54a\uc740 \uc791\uc5c5\uc744 \uae30\ub2e4\ub9b0\ub2e4. \ub9cc\uc57d for \ub8e8\ud504 \uc548\uc5d0\uc11c <code>asyncio.sleep</code> \uc744 \ud558\uc9c0 \uc54a\uc558\ub2e4\uba74 \uc5ec\uae30\uc11c \ubaa8\ub4e0 \uc800\uc7a5\uc774 \uc5b4\ub8e8\uc5b4\uc84c\uc744 \uac83\uc774\ub2e4.</p> <p>\uc774 \ucf54\ub4dc\uc758 \uc131\ub2a5 \ud2b9\uc131\uc744 \uc0b4\ud3b4\ubcf4\uae30 \uc804\uc5d0 \uba3c\uc800 <code>asyncio.sleep(0)</code>  \ubb38\uc758 \uc911\uc694\uc131\ubd80\ud130 \ubcf4\uc790. 0\ucd08 \ub3d9\uc548 \uc7a0\ub4e0\ub2e4\ub294 \ud45c\ud604\uc774 \uc774\uc0c1\ud574 \ubcf4\uc77c \uc218\ub3c4 \uc788\uc9c0\ub9cc \uc2e4\uc81c \uc774 \ubb38\uc7a5\uc740 \ud568\uc218\uac00 \uc2e4\ud589\uc744 \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \ub118\uaca8\uc11c \ub2e4\ub978 \uc791\uc5c5\uc744 \uc2e4\ud589\ud558\ub77c\uace0 \uc591\ubcf4\ud558\ub294 \ubb38\uc7a5\uc774\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c \ube44\ub3d9\uae30\uc801\uc778 \ucf54\ub4dc\uc5d0\uc11c\ub294 await \ubb38\uc774 \uc2e4\ud589\ub420 \ub54c\ub9c8\ub2e4 \uc774\ub7f0 \uc591\ubcf4\uac00 \uc77c\uc5b4\ub09c\ub2e4. CPU \uc704\uc8fc\uc758 \ucf54\ub4dc\uc5d0\uc11c\ub294 \ubcf4\ud1b5 await\ub97c \ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uac15\uc81c\ub85c \ud55c \ubc88\uc529 \uc591\ubcf4\ud574\uc8fc\ub294 \uc77c\uc774 \uc544\uc8fc \uc911\uc694\ud558\ub2e4.</p> <p>\uc774\ub7f0 \uc77c\uc744 \ud558\uc9c0 \uc54a\uc73c\uba74 CPU \uc704\uc8fc\uc758 \uc791\uc5c5\uc774 \ub05d\ub098\uae30 \uc804\uae4c\uc9c0 \uc544\ubb34 \uc791\uc5c5\ub3c4 \uc2e4\ud589\ud558\uc9c0 \uc54a\uc744 \uac83\uc774\ub2e4. \uc774\ub7f0 \uc81c\uc5b4\uc758 \uc7a5\uc810\uc740 \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc2e4\ud589\uc744 \ub118\uae38 \ucd5c\uc801\uc758 \uc2dc\uc810\uc744 \uc6b0\ub9ac\uac00 \uc815\ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc774\ub2e4.</p> <p>\uc2e4\ud589\uc744 \ub118\uae30\uba74 \ud504\ub85c\uadf8\ub7a8\uc758 \uc2e4\ud589 \uc0c1\ud0dc\uac00 \ubc14\ub00c\ubbc0\ub85c \uacc4\uc0b0 \uc911\uac04\uc5d0 \uc774\ub7f0 \uc77c\uc744 \ud558\uba74 CPU \uce90\uc2dc\uac00 \ubc14\ub014 \uc218\ub3c4 \uc788\ub2e4. \uac8c\ub2e4\uac00 \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0 \uc2e4\ud589\uc744 \ub118\uae30\ub294 \uc77c\ub3c4 \ubd80\uac00\ube44\uc6a9\uc73c\ubbc0\ub85c \ub108\ubb34 \uc790\uc8fc \ud558\uba74 \uc548\ub41c\ub2e4. \ud558\uc9c0\ub9cc CPU \uc791\uc5c5\uc744 \ucc98\ub9ac\ud558\ub294 \uc911\uc5d0\ub294 \uc5b4\ub5a4 I/O \uc791\uc5c5\ub3c4 \ud560 \uc218 \uc5c6\ub2e4. \ub530\ub77c\uc11c \uc804\uccb4 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 API\ub85c \uc774\ub904\uc838 \uc788\ub2e4\uba74, CPU \uc704\uc8fc \uc791\uc5c5\uc744 \uc2e4\ud589\ud558\ub294 \ub3d9\uc548\uc740 \uc544\ubb34 \uc694\uccad\ub3c4 \ucc98\ub9ac\ud560 \uc218 \uc5c6\ub2e4.</p> <p>\uc77c\ubc18\uc801\uc73c\ub85c\ub294 50~100\ubc00\ub9ac\ucd08 \uc815\ub3c4\ub9c8\ub2e4 \ubc18\ubcf5\ud558\ub9ac\ub77c \uc608\uc0c1\ub418\ub294 \ub8e8\ud504\uc5d0\uc11c <code>asyncio.sleep(0)</code> \uc744 \ud638\ucd9c\ud558\uae30\ub97c \uad8c\uc7a5\ud55c\ub2e4.</p> <p>\uc644\uc804\ud55c \ube44\ub3d9\uae30 \ud574\ubc95\uc758 \uc774\uc810\uc740 CPU \uc791\uc5c5\ud558\ub294  \ub3c4\uc911\uc5d0 I/O \uc791\uc5c5\ub3c4 \ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc774\ub2e4. \uc774\ub294 \uc804\uccb4 \uc2e4\ud589 \uc2dc\uac04\uc5d0\uc11c CPU \uc704\uc8fc\uc758 \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294 \ub370 \uac78\ub9b0 \uc2dc\uac04\uc744 \uc0c1\uc1c4\ud574\ubc84\ub9ac\ub294 \ud6a8\uacfc\uac00 \uc788\ub2e4. \uc774\ubca4\ud2b8 \ub8e8\ud504\uc758 \ubd80\ud558 \ub54c\ubb38\uc5d0 \uc804\uccb4 \ube44\uc6a9\uc744 \ub2e4 \uc0c1\uc1c4\ud558\uc9c0\ub294 \ubabb\ud558\uc9c0\ub9cc, \uac70\uc758 \ub2e4 \uc0c1\uc1c4\ud560 \uc218\ub294 \uc788\ub2e4. \uc2e4\uc81c\ub85c \ub09c\uc774\ub3c4 8\uc778 \uc791\uc5c5\uc744 600\ubc88 \ubc18\ubcf5\ud560 \ub54c \uc644\uc804\ud55c \ube44\ub3d9\uae30 \ucf54\ub4dc\ub294 \uc21c\ucc28 \ucf54\ub4dc\ubcf4\ub2e4 7.3\ubc30 \ube60\ub974\uac8c \uc2e4\ud589\ub418\uace0, \uc77c\uad04 \ucc98\ub9ac \ucf54\ub4dc\ubcf4\ub2e4 I/O \ubd80\ud558\ub97c 2\ubc30 \ub354 \ube60\ub974\uac8c \ucc98\ub9ac\ud55c\ub2e4.</p> <p>\ud558\uc9c0\ub9cc \uac1c\ubcc4 I/O \uc791\uc5c5\uc740 \uc11c\ubc84\uc758 100\ubc00\ub9ac\ucd08 \uc751\ub2f5 \uc2dc\uac04\ubcf4\ub2e4 \ub354 \uc624\ub798 \uac78\ub838\ub2e4\ub294 \uc0ac\uc2e4\ub3c4 \uc54c \uc218 \uc788\ub2e4. \uc774 \uc2dc\uac04\uc740 asyncio.sleep(0) \ubb38\uc744 \ud638\ucd9c\ud558\ub294 \uc2dc\uac04 \uac04\uaca9\uacfc (\uac01 I/O \uc791\uc5c5\uc740 3\ubc88 await\ub97c \ud558\ub294 \ubc18\uba74, \uac01 CPU \uc791\uc5c5\uc740 1\ubc88 await\ud55c\ub2e4) \uc774\ubca4\ud2b8 \ub8e8\ud504\uac00 \ub2e4\uc74c\uc5d0 \uc5b4\ub5a4 \uc791\uc5c5\uc744 \uc2e4\ud589\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \ubc29\ubc95\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c4\ub2e4.</p> <p>\ube44\ub85d CPU\ub9cc \uc0ac\uc6a9\ud574\uc11c \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uc5ec \ub2ec\uc131\ud560 \uc218 \uc788\ub294 \uc18d\ub3c4\uc640\ub294 \ud070 \uaca9\ucc28\uac00 \uc788\uc9c0\ub9cc, \ube44\ub3d9\uae30 \ucf54\ub4dc\ub294 \uc21c\ucc28\uc801 \ucf54\ub4dc\ubcf4\ub2e4 \uc6d4\ub4f1\ud788 \ube60\ub974\ub2e4. \uc774\ub7f0 \ubb38\uc81c\ub97c \uc644\uc804\ud788 \ud574\uacb0\ud558\ub824\uba74 multiprocessing \uac19\uc740 \ubaa8\ub4c8\uc744 \uc0ac\uc6a9\ud574\uc11c I/O \uc791\uc5c5\uc744 \ubcc4\ub85c\uc758 \ud504\ub85c\uc138\uc2a4\ub85c \uc644\uc804\ud788 \ubd84\ub9ac\ud558\uc5ec CPU \uc791\uc5c5\uc758 \uc131\ub2a5\uc774 \ub5a8\uc5b4\uc9c0\uc9c0 \uc54a\ub3c4\ub85d \ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"D.%20AI/Dropout/","title":"Dropout","text":""},{"location":"D.%20AI/Dropout/#dropout","title":"\ub525\ub7ec\ub2dd\uc5d0\uc11c Dropout\uc774\ub780? \uacfc\uc801\ud569\uc744 \uc7a1\ub294 \ub611\ub611\ud55c \ubc29\ubc95","text":"<p>\ub525\ub7ec\ub2dd \ubaa8\ub378\uc744 \ub9cc\ub4e4\ub2e4 \ubcf4\uba74 \ud55c \ubc88\ucbe4\uc740 \uc774\ub7f0 \uace0\ubbfc\uc744 \ud558\uac8c \ub41c\ub2e4. \u201c\ud6c8\ub828 \ub370\uc774\ud130\uc5d0\uc120 \uc131\ub2a5\uc774 \uc88b\uc740\ub370, \ud14c\uc2a4\ud2b8 \ub370\uc774\ud130\uc5d0\uc120 \uc65c \uc774\ub7ec\uc9c0\u2026?\u201d </p> <p>\ubc14\ub85c \uacfc\uc801\ud569(Overfitting) \ubb38\uc81c\uc774\ub2e4.</p> <p>\uc774\uac78 \uc7a1\uae30 \uc704\ud55c \ub2e4\uc591\ud55c \ubc29\ubc95 \uc911 \ud558\ub098\uac00 \ubc14\ub85c \uc624\ub298\uc758 \uc8fc\uc81c, Dropout(\ub4dc\ub86d\uc544\uc6c3)\uc774\ub2e4.</p>"},{"location":"D.%20AI/Dropout/#1-dropout","title":"1. Dropout\uc774\ub780?","text":"<p>Dropout\uc740 \ubaa8\ub378\uc774 \ud559\uc2b5\ud558\ub294 \ub3d9\uc548 \uc77c\ubd80 \ub274\ub7f0\uc744 \ubb34\uc791\uc704\ub85c \uaebc\ubc84\ub9ac\ub294 \ubc29\ubc95\uc774\ub2e4. \ub9d0 \uadf8\ub300\ub85c \u201c\ub5a8\uc5b4\ub728\ub9b0\ub2e4(drop out)\u201d\ub294 \ub73b.</p> <p>\ud55c\ub9c8\ub514\ub85c, \uc2e0\uacbd\ub9dd\uc5d0 \uc77c\ubd80\ub7ec \uad6c\uba4d\uc744 \ub0b8\ub2e4\uace0 \uc0dd\uac01\ud558\uba74 \ub429\ub2c8\ub2e4. \ub9e4\ubc88 \ud559\uc2b5\ud560 \ub54c\ub9c8\ub2e4 \uc2e0\uacbd\ub9dd\uc758 \uc77c\ubd80 \uc5f0\uacb0\uc744 \ub79c\ub364\ud558\uac8c \ub04a\uc5b4\uc11c, \ubaa8\ub378\uc774 \ud2b9\uc815\ud55c \ub274\ub7f0 \ud558\ub098\uc5d0 \ub108\ubb34 \uc758\uc874\ud558\uc9c0 \uc54a\uac8c \ub9cc\ub4dc\ub294 \uac70\ub2e4.</p>"},{"location":"D.%20AI/Dropout/#2","title":"2. \uc65c \uc774\ub7f0 \uc774\uc0c1\ud55c(?) \uc9d3\uc744 \ud560\uae4c?","text":"<p>\uc774\uac78 \uc774\ud574\ud558\ub824\uba74 \uacfc\uc801\ud569\uc774\ub77c\ub294 \ubb38\uc81c\ubd80\ud130 \uc9da\uace0 \uac00\uc57c \ud55c\ub2e4.</p> <p>\uacfc\uc801\ud569\uc740 \ubaa8\ub378\uc774 \ud6c8\ub828 \ub370\uc774\ud130\uc5d0 \ub108\ubb34 \ub9de\ucdb0\uc838\uc11c, \uc0c8\ub86d\uace0 \ub0af\uc120 \ub370\uc774\ud130\uc5d0\ub294 \uc798 \ub300\uc751\ud558\uc9c0 \ubabb\ud558\ub294 \uc0c1\ud0dc\ub97c \ub9d0\ud55c\ub2e4. \ub108\ubb34 \uc678\uc6b4 \uac70\uc8e0. \ub9c8\uce58 \uc2dc\ud5d8 \uc804\uc5d0 \uae30\ucd9c\ubb38\uc81c\ub9cc 100\ubc88 \ud480\uace0, \uc815\uc791 \uc9c4\uc9dc \uc2dc\ud5d8\uc740 \ubabb \ud478\ub294 \ud559\uc0dd \ucc98\ub7fc.</p> <p>Dropout\uc740 \uc774\ub7f0 \u201c\uc554\uae30\ud615 \ud559\uc2b5\u201d\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud574, \ud559\uc2b5 \ub3c4\uc911\uc5d0 \ubb34\uc791\uc704\ub85c \uc815\ubcf4\ub97c \uc77c\ubd80\ub7ec \ub204\ub77d\uc2dc\ud0b5\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74 \ubaa8\ub378\uc740 \uc804\uccb4\uc801\uc73c\ub85c \ub354 \ud2bc\ud2bc\ud55c \ud328\ud134\uc744 \ubc30\uc6b0\uac8c \ub418\uc8e0.</p>"},{"location":"D.%20AI/Dropout/#3","title":"3. \uc5b4\ub5bb\uac8c \uc791\ub3d9\ud560\uae4c?","text":"<p>\uc608\ub97c \ub4e4\uc5b4 \uc5b4\ub5a4 \uc740\ub2c9\uce35\uc5d0 \ub274\ub7f0\uc774 6\uac1c \uc788\ub2e4\uace0 \uac00\uc815\ud574\ubcf4\uc790.</p> <ul> <li> <p>\ud3c9\uc18c\uc5d4: <code>[o o o o o o]</code> (\ubaa8\ub4e0 \ub274\ub7f0 \uc0ac\uc6a9)</p> </li> <li> <p>Dropout \uc801\uc6a9 \uc2dc (rate=0.5): <code>[o x o x o o]</code> (3\uac1c\ub294 \ube44\ud65c\uc131\ud654)</p> </li> </ul> <p>\uc774\ub807\uac8c \ub274\ub7f0 \uc808\ubc18\uc744 \ub79c\ub364\ud558\uac8c \uaebc\ub193\uace0 \ud559\uc2b5\ud55c\ub2e4. \uadf8\ub7fc \ub9e4\ubc88 \ub2e4\ub974\uac8c \uc0dd\uae34 \u2018\uc791\uc740 \uc2e0\uacbd\ub9dd\u2019\uc744 \ud559\uc2b5\ud558\ub294 \uc148. \uacb0\uad6d\uc5d4 \uc5ec\ub7ec \ubaa8\ub378\uc744 \uc559\uc0c1\ube14\ud55c \uac83\ucc98\ub7fc \uac15\uac74\ud55c \ubaa8\ub378\uc774 \ub9cc\ub4e4\uc5b4\uc9d1\ub2c8\ub2e4.</p>"},{"location":"D.%20AI/Dropout/#4-vs","title":"4. \ud559\uc2b5 \uc2dc vs \uc608\uce21 \uc2dc","text":"<ul> <li> <p>\ud559\uc2b5\ud560 \ub54c\ub294 Dropout\uc744 \ucf1c\uc11c \ub274\ub7f0\uc744 \ub79c\ub364\ud558\uac8c \ub048\ub2e4.</p> </li> <li> <p>\uc608\uce21\ud560 \ub54c\ub294 Dropout\uc744 \ub044\uace0 \ubaa8\ub4e0 \ub274\ub7f0\uc744 \uc0ac\uc6a9\ud55c\ub2e4.     \ub300\uc2e0, \ud559\uc2b5 \uc2dc \uaebc\uc84c\ub358 \ube44\uc728\ub9cc\ud07c \uac00\uc911\uce58\ub97c \uc870\uc815\ud574\uc11c \uc608\uce21\uc774 \uc65c\uace1\ub418\uc9c0 \uc54a\uac8c \ud55c\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/Dropout/#5-pytorch","title":"5. \uc2e4\uc81c \ucf54\ub4dc\ub85c \ubcf4\uba74? (PyTorch \uc608\uc2dc)","text":"<pre><code>import torch.nn as nn\n\nmodel = nn.Sequential(\n    nn.Linear(128, 64),\n    nn.ReLU(),\n    nn.Dropout(p=0.5),  # 50% \ud655\ub960\ub85c \ub274\ub7f0 \ube44\ud65c\uc131\ud654\n    nn.Linear(64, 10)\n)\n</code></pre> <p>\ub2e8 \ud55c \uc904\ub9cc\uc73c\ub85c Dropout\uc744 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"D.%20AI/Dropout/#_1","title":"\uc694\uc57d","text":"\ud56d\ubaa9 \uc124\uba85 \ubaa9\uc801 \uacfc\uc801\ud569 \ubc29\uc9c0 \ubc29\uc2dd \ud559\uc2b5 \uc911 \uc77c\ubd80 \ub274\ub7f0\uc744 \ub79c\ub364\ud558\uac8c \ube44\ud65c\uc131\ud654 \ud6a8\uacfc \ubaa8\ub378\uc758 \uc77c\ubc18\ud654 \uc131\ub2a5 \ud5a5\uc0c1 \uc8fc\uc758\uc810 \uc608\uce21 \uc2dc\uc5d0\ub294 Dropout\uc744 \uaebc\uc57c \ud568"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/","title":"GPT \ubaa8\ub378 \ub9cc\ub4e4\uae30(1)","text":"<p>\ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub4e4\uc774 \ud544\uc694\ud558\ub2e4.</p> <p>data \ub515\uc154\ub108\ub9ac\uc758 train \ud0a4\uc5d0\uc11c document \uac12\uc744 \uac00\uc838\uc640 \ubaa8\ub4e0 \ubb38\uc11c\ub97c \ud558\ub098\uc758 \ubb38\uc790\uc5f4\ub85c \ud569\uce5c\ub2e4. \uc774\ub807\uac8c \ub9cc\ub4e4\uc5b4\uc9c4 \uc804\uccb4 \ud14d\uc2a4\ud2b8\uc5d0\uc11c \uc911\ubcf5\uc744 \uc81c\uac70\ud558\uace0 \uc815\ub82c\ub41c \uace0\uc720\ud55c \ubb38\uc790 \ubaa9\ub85d\uc744 \uc0dd\uc131\ud55c\ub2e4.</p> <p>\uc774 \uacfc\uc815\uc744 \ud1b5\ud574 \ub370\uc774\ud130\uc14b\uc5d0 \uc874\uc7ac\ud558\ub294 \ubaa8\ub4e0 \uace0\uc720\ud55c \ud55c\uad6d\uc5b4 \ubb38\uc790\ub97c \ud30c\uc545\ud560 \uc218 \uc788\ub2e4.</p> <p>\uadf8 \ub2e4\uc74c, \uc774 \uace0\uc720 \ubb38\uc790 \ubaa9\ub85d\uc758 \uae38\uc774\ub97c \uacc4\uc0b0\ud574 \uc804\uccb4 \uc5b4\ud718 \ud06c\uae30\ub97c \uad6c\ud558\uace0, \ucd1d \uae00\uc790 \uc218\ub97c \ucd9c\ub825\ud574 \ub370\uc774\ud130\uc14b\uc758 \uc5b4\ud718 \ub2e4\uc591\uc131\uc744 \ud655\uc778\ud569\ub2c8\ub2e4.</p> <p>\ub2e4\uc74c\uc73c\ub85c, \ubb38\uc790\uc640 \uc778\ub371\uc2a4\ub97c \ub9e4\ud551\ud558\ub294 \ub515\uc154\ub108\ub9ac\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc774\ub7ec\ud55c \ub9e4\ud551\uc740 \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub97c \uc22b\uc790\ub85c \ubcc0\ud658\ud558\uace0 \ub2e4\uc2dc \ud14d\uc2a4\ud2b8\ub85c \ubcf5\uc6d0\ud558\ub294 \ub370 \uc0ac\uc6a9\ub41c\ub2e4.</p> <p>\ub370\uc774\ud130\ub97c \ud150\uc11c\ub85c \ubcc0\ud658\ud558\uace0 \ub370\uc774\ud130 \ud0c0\uc785\uc744 long\uc73c\ub85c \uc9c0\uc815\ud558\ub294 \uacfc\uc815\uc740 \ub525\ub7ec\ub2dd \ubaa8\ub378\uc758 \ud6a8\uc728\uc801\uc778 \ud559\uc2b5\uacfc \ucc98\ub9ac\ub97c \uc704\ud574\uc11c \uc911\uc694\ud558\ub2e4. \ud150\uc11c\ub294 \ub525\ub7ec\ub2dd\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ud45c\ud604\ud558\ub294 \uae30\ubcf8 \ub2e8\uc704\ub85c, \ub2e4\ucc28\uc6d0 \ubc30\uc5f4 \ud615\ud0dc\ub85c \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\uace0 \ucc98\ub9ac\ud55c\ub2e4. \ubb38\uc790\uc5f4\uc744 \uc22b\uc790\ub85c \uc778\ucf54\ub529\ud558\uace0 \uc774\ub97c \ud150\uc11c\ub85c \ubcc0\ud658\ud558\ub294 \uacfc\uc815\uc740 \ubaa8\ub378\uc774 \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub97c \uc774\ud574\ud558\uace0 \ud559\uc2b5\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\ub294 \ud544\uc218\uc801\uc778 \uc804\ucc98\ub9ac \ub2e8\uacc4\uc774\ub2e4.</p> <p>\ub370\uc774\ud130 \ud0c0\uc785\uc744 long\uc73c\ub85c \uc9c0\uc815\ud558\ub294 \uc774\uc720\ub294 \uc8fc\ub85c \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\uc758 \ud2b9\uc131\uacfc \uad00\ub828\uc774 \uc788\ub2e4. \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub97c \uc22b\uc790\ub85c \uc778\ucf54\ub529\ud560 \ub54c \uac01 \ub2e8\uc5b4\ub098 \ud1a0\ud070\uc5d0 \ud574\ub2f9\ud558\ub294 \uc815\uc218 \uac12\uc774 \ud070 \ubc94\uc704\ub97c \uac00\uc9c8 \uc218 \uc788\uae30 \ub54c\ubb38\uc774\ub2e4. long \ud0c0\uc785\uc740 32\ube44\ud2b8 \uc815\uc218\ud615\ubcf4\ub2e4 \ub354 \ud070 \ubc94\uc704\uc758 \uc815\uc218\ub97c \ud45c\ud604\ud560 \uc218 \uc788\uc5b4 \ud070 \uc5b4\ud718 \uc0ac\uc804\uc744 \ub2e4\ub8f0 \ub54c \uc720\uc6a9\ud558\ub2e4. \ub610\ud55c, \ud30c\uc774\ud1a0\uce58\uc758 \ub9ce\uc740 \ud568\uc218\ub4e4\uc774 \uae30\ubcf8\uc801\uc73c\ub85c long \ud0c0\uc785\uc758 \uc778\ub371\uc2a4\ub97c \uae30\ub300\ud558\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \uc0ac\uc6a9\ud558\uba74 \ucd94\ud6c4 \ucc98\ub9ac \uacfc\uc815\uc5d0\uc11c\uc758 \ud638\ud658\uc131\uc744 \ubcf4\uc7a5\ud560 \uc218 \uc788\ub2e4.</p> <p>\uc774\ub7ec\ud55c \ud150\uc11c \ubcc0\ud658\uacfc \ub370\uc774\ud130 \ud0c0\uc785 \uc9c0\uc815\uc740 \ubaa8\ub378\uc774 \ub370\uc774\ud130\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uace0 GPU\ub97c \ud1b5\ud55c \ube60\ub978 \uc5f0\uc0b0\uc744 \uac00\ub2a5\ud558\uac8c \ud568\uc73c\ub85c\uc368 \ubaa8\ub378\uc758 \uc131\ub2a5\uacfc \ud559\uc2b5 \uc18d\ub3c4\uc5d0 \uc9c1\uc811\uc801\uc778 \uc601\ud5a5\uc744 \uc900\ub2e4.`</p> <p>\ub370\uc774\ud130\uc758 \ud0c0\uc785\uc744 \ubaa8\ub450 \ubcc0\uacbd\ud55c \ud6c4, \ub2e4\uc74c \ub2e8\uacc4\ub85c train \ub370\uc774\ud130\uc14b\uacfc test \ub370\uc774\ud130\uc14b\uc73c\ub85c \ub098\ub204\ub294 \uc791\uc5c5\uc744 \uc218\ud589\ud55c\ub2e4. \uc774 \uacfc\uc815\uc740 \uba38\uc2e0\ub7ec\ub2dd \ubaa8\ub378\uc758 \ud559\uc2b5\uacfc \ud3c9\uac00\ub97c \uc704\ud574 \ub9e4\uc6b0 \uc911\uc694\ud558\ub2e4.</p> <p>\ub370\uc774\ud130\ub97c \ud6c8\ub828\uc6a9\uacfc \uac80\uc99d\uc6a9\uc73c\ub85c \ubd84\ub9ac\ud568\uc73c\ub85c\uc368 \ubaa8\ub378\uc758 \uc131\ub2a5\uc744 \uac1d\uad00\uc801\uc73c\ub85c \ud3c9\uac00\ud558\uace0 \uacfc\uc801\ud569\uc744 \ubc29\uc9c0\ud560 \uc218 \uc788\ub2e4. \ud6c8\ub828 \ub370\uc774\ud130\ub294 \ubaa8\ub378\uc744 \ud559\uc2b5\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\uba70, \uac80\uc99d \ub370\uc774\ud130\ub294 \ud559\uc2b5\ub41c \ubaa8\ub378\uc758 \uc131\ub2a5\uc744 \ud14c\uc2a4\ud2b8\ud558\ub294 \ub370 \ud65c\uc6a9\ub41c\ub2e4.</p> <p>\uc774\ub7ec\ud55c \ubd84\ub9ac \uc791\uc5c5\uc744 \ud1b5\ud574 \ubaa8\ub378\uc774 \uc0c8\ub85c\uc6b4, \ubcf4\uc9c0 \ubabb\ud55c \ub370\uc774\ud130\uc5d0 \ub300\ud574 \uc5bc\ub9c8\ub098 \uc798 \uc77c\ubc18\ud654\ub418\ub294\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \ub370\uc774\ud130 \ubd84\ud560 \ube44\uc728\uc740 \uc77c\ubc18\uc801\uc73c\ub85c \ud504\ub85c\uc81d\ud2b8\uc758 \ud2b9\uc131\uacfc \ub370\uc774\ud130\uc758 \uc591\uc5d0 \ub530\ub77c \uacb0\uc815\ub418\uc9c0\ub9cc, \ubcf4\ud1b5 8:2 \ub610\ub294 9:1\ub4f1\uc758 \ube44\uc728\ub85c \ud6c8\ub828 \ub370\uc774\ud130\uacfc \uac80\uc99d \ub370\uc774\ud130\ub97c \ub098\ub204\uae30\ub3c4 \ud55c\ub2e4.</p> <p>\ub370\uc774\ud130\ub97c \ubd84\ud560 \ub54c \ub370\uc774\ud130\ub97c \ucc98\uc74c\ubd80\ud130 \ub9c8\uc9c0\ub9c9\uae4c\uc9c0 \uc21c\ucc28\uc801\uc73c\ub85c \ud6c8\ub828\ud55c\ub2e4\uace0 \uc0dd\uac01\ud560 \uc218 \uc788\uc9c0\ub9cc, \uc2e4\uc81c \ud559\uc2b5 \uacfc\uc815\uc740 \uadf8\ub807\uc9c0 \uc54a\ub2e4. \ud6c8\ub828 \ub370\uc774\ud130\ub294 block_size\uc5d0 \uc124\uc815\ub41c \ud06c\uae30\ub9cc\ud07c\uc758 \uccad\ud06c(chunk) \ub2e8\uc704\ub85c \ubb34\uc791\uc704 \uc0d8\ud50c\ub9c1\ud574 \ud559\uc2b5\uc744 \uc9c4\ud589\ud55c\ub2e4. \ub370\uc774\ud130 \ube14\ub85d(block) \ub2e8\uc704\ub85c \ub098\ub204\ub294 \uac83\uc740 GPT\uc640 \uac19\uc740 \ud2b8\ub79c\uc2a4\ud3ec\uba38 \uae30\ubc18 \ubaa8\ub378\uc744 \ud559\uc2b5\ud560 \ub54c \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc774\ub2e4.</p> <p>\uc5ec\uae30\uc11c <code>block_size</code> \ub294 \ud55c \ubc88\uc5d0 \ubaa8\ub378\uc774 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \uae00\uc790\uc758 \uc218\ub97c \uc815\uc758\ud55c\ub2e4. \uc608\ub97c \ub4e4\uc5b4 <code>block_size</code>  \ub97c 8\ub85c \uc124\uc815\ud558\uba74 \ubaa8\ub378\uc740 \ub370\uc774\ud130\uc758 \uc5f0\uc18d\ub41c 8\uac1c\uc758 \uae00\uc790\ub97c \ud558\ub098\uc758 \ud559\uc2b5 \ub2e8\uc704\ub85c \uc774\uc6a9\ud55c\ub2e4. </p> <p>\uc774\ub7ec\ud55c \ubc29\uc2dd\uc73c\ub85c \ub370\uc774\ud130\ub97c \ucc98\ub9ac\ud568\uc73c\ub85c\uc368 \ubaa8\ub378\uc740 \ub2e4\uc591\ud55c \ubb38\ub9e5\uc5d0\uc11c \uc5b8\uc5b4\ub97c \uc774\ud574\ud558\uace0 \uc0dd\uc131\ud558\ub294 \ub2a5\ub825\uc744 \ud0a4\uc6b8 \uc218 \uc788\ub2e4. </p> <p>\ub610\ud55c \ubb34\uc791\uc704 \uc0d8\ud50c\ub9c1\uc744 \ud1b5\ud574 \ubaa8\ub378\uc774 \ub370\uc774\ud130\uc758 \ud2b9\uc815 \ubd80\ubd84\uc5d0 \uacfc\uc801\ud569\ub418\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uace0, \uc804\uccb4 \ub370\uc774\ud130\uc14b\uc5d0 \ub300\ud574 \uace0\ub974\uac8c \ud559\uc2b5\ud560 \uc218 \uc788\ub3c4\ub85d \ud55c\ub2e4.</p> <p><code>block_size</code> \ub97c 8\ub85c \uc124\uc815\ud558\uace0 \ub370\uc774\ud130\uac00 \ud558\ub098\uc529 \uc5b8\uc5b4 \ubaa8\ub378\uc758 \uc785\ub825\uc73c\ub85c \uc5b4\ub5bb\uac8c \uc804\ub2ec\ub418\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uaca0\ub2e4. \ud754\ud788 <code>block_size</code> \ub97c \ucee8\ud14d\uc2a4\ud2b8 \uae38\uc774(context length)\ub77c\uace0 \ubd80\ub978\ub2e4. \uc989, \ubaa8\ub370\ub9c1 \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \ud1a0\ud070\uc758 \ucd5c\ub300 \uae38\uc774\ub97c \uc758\ubbf8\ud558\uba70, \uc774\ub294 \ubaa8\ub378\uc758 \uc131\ub2a5\uacfc \ud6a8\uc728\uc131\uc5d0 \ud070 \uc601\ud5a5\uc744 \ubbf8\uce5c\ub2e4. \uc774 \uac12\uc744 \uc801\uc808\ud788 \uc124\uc815\ud558\ub294 \uac83\uc740 \ubaa8\ub378\uc758 \ud559\uc2b5\uacfc \ucd94\ub860 \uacfc\uc815\uc5d0\uc11c \ub9e4\uc6b0 \uc911\uc694\ud558\ub2e4. \ud070 <code>block_size</code> \ub294 \ubaa8\ub378\uc774 \ub354 \uae34 \ubb38\ub9e5\uc744 \uc774\ud574\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\uc9c0\ub9cc, \ub3d9\uc2dc\uc5d0 \ub354 \ub9ce\uc740 \uacc4\uc0b0 \uc790\uc6d0\uc744 \ud544\uc694\ub85c \ud55c\ub2e4. \ubc18\uba74 \uc791\uc740 <code>block_size</code> \ub294 \uacc4\uc0b0 \b\ud6a8\uc728\uc131\uc740 \ub192\uc77c \uc218 \uc788\uc9c0\ub9cc, \ubaa8\ub378\uc758 \ubb38\ub9e5 \uc774\ud574 \ub2a5\ub825\uc744 \uc81c\ud55c\ud560 \uc218 \uc788\ub2e4. \ub530\ub77c\uc11c \uc8fc\uc5b4\uc9c4 \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc790\uc6d0\uc744 \uace0\ub824\ud574 \uc801\uc808\ud55c <code>block_size</code> \ub97c \uc120\ud0dd\ud558\ub294 \uac83\uc774 \uc911\uc694\ud558\ub2e4.</p> <p>train_dataset[:block_size] \uc774\ub7f0 \uc2dd\uc73c\ub85c \ud6c8\ub828 \ub370\uc774\ud130\uc14b\uc758 \ucc98\uc74c 8\uac1c \uae00\uc790\ub97c \ud150\uc11c \ud615\ud0dc\ub85c \ubcf4\uc5ec\uc904 \uc218 \uc788\ub2e4. \uc774 \ud150\uc11c\ub294 \uc22b\uc790 \ubc30\uc5f4\uc774\uba70 \uac01 \uc22b\uc790\ub294 \ud2b9\uc815 \uae00\uc790\ub97c \ub098\ud0c0\ub0b8\ub2e4. \ud559\uc2b5 \uacfc\uc815\uc5d0 \uc774\ub7f0 \ube14\ub85d\uc740 \ud2b8\ub79c\uc2a4\ud3ec\uba38 \ubaa8\ub378\uc774 \uac01 \uae00\uc790 \ub4a4\uc5d0 \ub098\ud0c0\ub0a0 \uae00\uc790\ub97c \uc608\uce21\ud558\ub3c4\ub85d \ub3d5\ub2c8\ub2e4. \ubaa8\ub378\uc740 \uac01 \uc704\uce58\uc5d0\uc11c \uae00\uc790\ub97c \uc608\uce21\ud558\uba70, \uc774 \uacfc\uc815\uc744 \ud1b5\ud574 \ubb38\uc7a5 \uad6c\uc870\uc640 \uc5b8\uc5b4 \ud328\ud134\uc744 \ud559\uc2b5\ud55c\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \ubaa8\ub378\uc5d0 1928\uc774\ub77c\uace0 \uc778\ucf54\ub529\ub41c \ud14d\uc2a4\ud2b8 \uc815\ubcf4\ub97c \uc785\ub825\ud588\ub2e4\uace0 \uac00\uc815\ud574\ubcf4\uc790, \ubaa8\ub378\uc740 1928\uc774\ub77c\ub294 \uc22b\uc790\ub85c \uc778\ucf54\ub529\ub41c \ud14d\uc2a4\ud2b8\ub97c \ubd24\ub2e4\uba74 \ub2e4\uc74c \uae00\uc790 2315\ub97c \uc608\uce21\ud560 \ub54c 1928\uc744 \uc0ac\uc6a9\ud558\uace0, \uadf8 \ub2e4\uc74c \uae00\uc790\uc778 0\uc744 \uc608\uce21\ud560 \ub54c\ub294 1928\uacfc 2315\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud574 \uc608\uce21\ud558\ub3c4\ub85d \ud6c8\ub828\ud55c\ub2e4.</p> <pre><code>x = train_dataset[:block_size]\ny = train_dataset[1:block_size+1]\n\nfor time in range(block_size):\n    context = x[:time+1]\n    target = y[time]\n\n    print(f\"\uc785\ub825 \ud150\uc11c : {context}\")\n    print(f\"\ud0c0\uae43 \ud150\uc11c : {target}\")\n</code></pre> <p>\uc778\uacf5\uc9c0\ub2a5 \ubaa8\ub378 \ud6c8\ub828 \uc2dc\uc5d0\ub294 \ub2e8\uc77c \uae00\uc790 \ud150\uc11c\ub9cc \uc785\ub825\uc73c\ub85c \uc8fc\uc5b4\uc9c0\uc9c0 \uc54a\ub294\ub2e4. \uc5ec\ub7ec \uac1c\uc758 \ud150\uc11c\uac00 \ud568\uaed8 \ubb36\uc5ec \uc785\ub825\uc73c\ub85c \uc81c\uacf5\ub41c\ub2e4. \uc774\ub97c <code>\ubc30\uce58(batch)</code> \ub77c\uace0 \ud55c\ub2e4.</p> <p>\uc774\uc81c <code>block_size</code> \uc640 <code>batch_size</code> \ub97c \ud65c\uc6a9\ud574 \ub370\uc774\ud130\uac00 \uc5b4\ub5bb\uac8c \uc785\ub825\ub418\ub294\uc9c0 \uc790\uc138\ud788 \uc0b4\ud3b4\ubcf4\uaca0\ub2e4. \ubc30\uce58 \ucc98\ub9ac\ub294 \ubaa8\ub378\uc758 \ud559\uc2b5 \ud6a8\uc728\uc744 \ub192\uc774\ub294 \uc911\uc694\ud55c \uae30\ubc95\uc73c\ub85c, \uc5ec\ub7ec \ub370\uc774\ud130 \uc0d8\ud50c\uc744 \ub3d9\uc2dc\uc5d0 \ucc98\ub9ac\ud568\uc73c\ub85c\uc368 \uacc4\uc0b0 \uc18d\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a4\uace0 \ubaa8\ub378\uc758 \uc77c\ubc18\ud654 \ub2a5\ub825\uc744 \uac1c\uc120\ud55c\ub2e4.</p> <p><code>block_size</code> \ub294 \uac01 \ud150\uc11c\uc758 \uae38\uc774\ub97c \uacb0\uc815\ud558\uace0, <code>batch_size</code> \ub294 \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud560 \ud150\uc11c\uc758 \uac1c\uc218\ub97c \uc124\uc815\ud55c\ub2e4. \uc774 \ub450 \ub9e4\uac1c\ubcc0\uc218\ub97c \uc801\uc808\ud788 \uc870\uc808\ud558\uba74 \ubaa8\ub378\uc758 \ud559\uc2b5 \uc18d\ub3c4\uc640 \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#pytorch","title":"PyTorch \uc5b8\uc5b4 \ubaa8\ub378 \ud559\uc2b5\uc744 \uc704\ud55c \ubc30\uce58 \uc0dd\uc131 \uc608\uc81c","text":"<pre><code>torch.maunal_seed(1234)\n\nbatch_size = 4\nblock_size = 8\n\ndef batch_function(mode):\n    dataset = train_dataset if mode == \"train\" else test_dataset\n    idx = torch.randint(len(dataset) - block_size, (batch_size))\n    x = torch.stack([dataset[index:index+block_size] for index in idx])\n    y = torch.stack([dataset[index+1:index+block_size+1] for index in idx])\n    return x, y\n\nexample_x, example_y = batch_function(\"train\")\n\nfor size in range(batch_size):\n    for t in range(block_size):\n        context = example_x[size, :t+1]\n        target = example_y[size, t]\n        print(f\"input : {context}, target : {target}\")\n</code></pre> <p>\uc774 \ucf54\ub4dc\ub294 PyTorch\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5b8\uc5b4 \ubaa8\ub378 \ud559\uc2b5\uc744 \uc704\ud55c \ubbf8\ub2c8 \ubc30\uce58(batch) \ub97c \uc0dd\uc131\ud558\uace0, \uadf8 \ubc30\uce58\uc5d0\uc11c \uac01 \ud0c0\uc784\uc2a4\ud15d\uc758 \uc785\ub825(context) \uacfc \ud0c0\uae43(target) \uc744 \ucd9c\ub825\ud558\ub294 \uc608\uc81c\uc774\ub2e4.</p> <p><code>torch.manual_seed(1234)</code> \ub294 PyTorch\uc758 \ub09c\uc218 \uc0dd\uc131 \uc2dc\ub4dc\ub97c \uace0\uc815\ud558\uc5ec \uc7ac\ud604 \uac00\ub2a5\ud55c \uacb0\uacfc\ub97c \ub9cc\ub4e0\ub2e4.</p> <p><code>batch_size = 4</code>, <code>block_size = 8</code> - batch_size: \ud559\uc2b5\uc5d0 \uc0ac\uc6a9\ud560 \ubb38\uc7a5 \ub610\ub294 \uc2dc\ud000\uc2a4\uc758 \uac1c\uc218 (\ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud560 \ub370\uc774\ud130 \uc218) - block_size: \uac01 \uc2dc\ud000\uc2a4(\ubb38\uc7a5)\uc758 \uae38\uc774. \uc989, \uc2dc\ud000\uc2a4 \ud558\ub098\ub294 8\uac1c\uc758 \ud1a0\ud070\uc73c\ub85c \uad6c\uc131\ub428</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#1-batch_functionmode","title":"1. batch_function(mode)","text":"<p><code>train_dataset</code> \ub610\ub294 <code>test_dataset</code> \uc911 \ud558\ub098\uc5d0\uc11c \ud559\uc2b5 \ubc30\uce58\ub97c \ub9cc\ub4dc\ub294 \ud568\uc218\uc774\ub2e4.</p> <pre><code>dataset = train_dataset if mode == \"train\" else test_dataset\n</code></pre> <ul> <li><code>mode</code>\uc5d0 \ub530\ub77c \uc0ac\uc6a9\ud560 \ub370\uc774\ud130\uc14b\uc744 \uc120\ud0dd\ud569\ub2c8\ub2e4.</li> </ul> <pre><code>idx = torch.randint(len(dataset) - block_size, (batch_size))\n</code></pre> <ul> <li>\ub370\uc774\ud130\uc14b\uc5d0\uc11c block_size\ub9cc\ud07c\uc758 \uc5f0\uc18d\ub41c \uad6c\uac04\uc744 \ucd94\ucd9c\ud560 \uc2dc\uc791 \uc778\ub371\uc2a4\ub97c \ubb34\uc791\uc704\ub85c <code>batch_size</code>\uac1c \ub9cc\ud07c \uc120\ud0dd\ud55c\ub2e4.</li> </ul> <pre><code>x = torch.stack([dataset[index:index+block_size] for index in idx])\ny = torch.stack([dataset[index+1:index+block_size+1] for index in idx])\n</code></pre> <ul> <li><code>x</code>: <code>[index : index + block_size]</code> \ubc94\uc704 \u2192 \uc785\ub825 \uc2dc\ud000\uc2a4</li> <li><code>y</code>: <code>[index+1 : index + block_size + 1]</code> \ubc94\uc704 \u2192 \ud0c0\uae43 \uc2dc\ud000\uc2a4 (\ud55c \uce78 \uc624\ub978\ucabd\uc73c\ub85c shift\ub41c \uac12)</li> </ul> <p>\uc608\uc2dc - x: <code>[1, 2, 3, 4, 5, 6, 7, 8]</code> - y: <code>[2, 3, 4, 5, 6, 7, 8, 9]</code>     \u2192 \uc5b8\uc5b4 \ubaa8\ub378\uc5d0\uc11c\ub294 \uc8fc\uc5b4\uc9c4 context\ub85c \ub2e4\uc74c \ub2e8\uc5b4\ub97c \uc608\uce21\ud558\ubbc0\ub85c \uc774\ub807\uac8c \ud55c \uce78\uc529 \uc774\ub3d9\uc2dc\ud0b5\ub2c8\ub2e4.</p> <p><code>example_x, example_y = batch_function(\"train\")</code></p> <ul> <li>\ud559\uc2b5\uc6a9 \ubbf8\ub2c8 \ubc30\uce58\ub97c \ud558\ub098 \uc0dd\uc131\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#2-context-target","title":"2. context\uc640 target\uc744 \ud558\ub098\uc529 \ucd9c\ub825","text":"<pre><code>for size in range(batch_size):\n    for t in range(block_size):\n        context = example_x[size, :t+1]\n        target = example_y[size, t]\n        print(f\"input : {context}, target : {target}\")\n</code></pre> <p>\uc608\uc2dc</p> <ul> <li><code>example_x[size] = [10, 20, 30, 40, 50, 60, 70, 80]</code></li> <li><code>example_y[size] = [20, 30, 40, 50, 60, 70, 80, 90]</code></li> </ul> <p>\ucd9c\ub825\uc740 \ub2e4\uc74c\uacfc \uac19\uc774 \ub428</p> <pre><code>input : tensor([10]), target : 20\ninput : tensor([10, 20]), target : 30\ninput : tensor([10, 20, 30]), target : 40\n...\ninput : tensor([10, 20, 30, 40, 50, 60, 70, 80]), target : 90\n</code></pre> <p>\uc774 \uad6c\uc870\ub294 GPT \uacc4\uc5f4\uc758 \uc624\ud1a0\ub9ac\uadf8\ub808\uc2dc\ube0c \ubaa8\ub378\uc5d0\uc11c \ud559\uc2b5 \uc2dc \uc8fc\uc5b4\uc9c4 <code>context</code>\ub85c \ub2e4\uc74c \ud1a0\ud070\uc744 \uc608\uce21\ud558\ub294 \ubc29\uc2dd\uacfc \uac19\uc2b5\ub2c8\ub2e4. </p> <p>\uc694\uc57d\ud558\uc790\uba74, \uc774 \ucf54\ub4dc\ub294 \uc5b8\uc5b4 \ubaa8\ub378 \ud559\uc2b5\uc744 \uc704\ud574 - \uc785\ub825 \uc2dc\ud000\uc2a4\uc640 \ud0c0\uae43 \uc2dc\ud000\uc2a4\ub97c \uc790\ub3d9 \uc0dd\uc131\ud558\uace0 - \uac01 \ud0c0\uc784\uc2a4\ud15d\uc5d0\uc11c <code>context \u2192 target</code> \uad00\uacc4\ub97c \ucd9c\ub825\ud558\ub294 \ub370, \uc774 \uacfc\uc815\uc5d0\uc11c \uac01 \ubc30\uce58\uc640 \ube14\ub85d\uc5d0 \ub300\ud55c \uc785\ub825(\ucee8\ud14d\uc2a4\ud2b8)\uacfc \ud574\ub2f9 \ud0c0\ud0b7(\ubaa9\ud45c \uae00\uc790)\uc774 \ucd9c\ub825\ud558\ub294 \uac83\uc744 \uc758\ubbf8\ud55c\ub2e4. - \uc774\ub97c \ud1b5\ud574 \uc8fc\uc5b4\uc9c4 \ucee8\ud14d\uc2a4\ud2b8\ub97c \ubc14\ud0d5\uc73c\ub85c \ub2e4\uc74c \uae00\uc790\ub97c \uc608\uce21\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ud559\uc2b5\ud55c\ub2e4. - \ucf54\ub4dc \uc2e4\ud589 \uacb0\uacfc\ub294 \ubaa8\ub378\uc774 \uac01 \ubc30\uce58 \uc2dc\ud000\uc2a4\ub97c \ucc98\ub9ac\ud558\uba70 \ud14d\uc2a4\ud2b8 \uad6c\uc870\uc640 \uc5b8\uc5b4 \ud328\ud134\uc744 \ud559\uc2b5\ud558\ub294 \uacfc\uc815\uc744 \ubcf4\uc5ec\uc900\ub2e4.</p> <p>\uc9c0\uae08\uae4c\uc9c0 \ub370\uc774\ud130\uac00 \ubaa8\ub378\uc5d0 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \uc804\ub2ec\ub418\ub294\uc9c0 \uc0b4\ud3b4\ubd24\ub2e4.</p> <p>\uc774\uc81c \uac04\ub2e8\ud55c \uc5b8\uc5b4 \ubaa8\ub378\uc744 \uc9c1\uc811 \ub9cc\ub4e4\uace0 \uc2e4\ud5d8\ud558\uba74\uc11c \uc778\uacf5\uc9c0\ub2a5\uc774 \uc5b4\ub5bb\uac8c \uc5b8\uc5b4\ub97c \ud559\uc2b5\ud558\ub294\uc9c0 \ub2e8\uacc4\ubcc4\ub85c \uc0b4\ud3b4\ubcf4\uc790. \ub9c8\uce58 \ub808\uace0\ub97c \uc870\ub9bd\ud558\ub4ef\uc774 \uc778\uacf5\uc9c0\ub2a5 \uae30\ub2a5\uc744 \uc21c\ucc28\uc801\uc73c\ub85c \ucd94\uac00\ud558\uace0 \ud6c8\ub828\ud558\uba74\uc11c \uac01 \ubaa8\ub378\uc758 \uc131\ub2a5\uc774 \uc5b4\ub5bb\uac8c \uac1c\uc120\ub418\ub294\uc9c0 \uad00\ucc30\ud560 \uc608\uc815\uc774\ub2e4.</p> <p>\uc774 \uacfc\uc815\uc744 \ud1b5\ud574 \uc5b8\uc5b4 \ubaa8\ub378\uc758 \uae30\ubcf8 \uad6c\uc870\ub97c \uc774\ud574\ud558\uace0, \uac01 \uad6c\uc131 \uc694\uc18c\uac00 \ubaa8\ub378\uc758 \uc131\ub2a5\uc5d0 \uc5b4\ub5a4 \uc601\ud5a5\uc744 \ubbf8\uce58\ub294\uc9c0 \uc9c1\uc811 \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \uba3c\uc800 \uac00\uc7a5 \uae30\ubcf8\uc801\uc778 \ud615\ud0dc\uc758 \uc5b8\uc5b4 \ubaa8\ub378\uc744 \uc124\uc815\ud558\uace0, \uc810\uc9c4\uc801\uc73c\ub85c \ubcf5\uc7a1\ud55c \uae30\ub2a5\uc744 \ucd94\uac00\ud558\uba74\uc11c \uadf8 \ubcc0\ud654\ub97c \uad00\ucc30\ud574\ubcf4\uc790. \uc774\ub7ec\ud55c \ub2e8\uacc4\ubcc4 \uc811\uadfc \ubc29\uc2dd\uc740 \ubcf5\uc7a1\ud55c \uc778\uacf5\uc9c0\ub2a5 \uc2dc\uc2a4\ud15c\uc758 \uc791\ub3d9 \uc6d0\ub9ac\ub97c \ub354 \uc27d\uac8c \uc774\ud574\ud560 \uc218 \uc788\uac8c \ud574\uc900\ub2e4.</p> <p>\uac01 \ub2e8\uacc4\uc5d0\uc11c \ubaa8\ub378 \uc131\ub2a5\uc744 \ud3c9\uac00\ud558\uace0 \ubd84\uc11d\ud574, \uc5b8\uc5b4 \ubaa8\ub378\uc758 \ubc1c\uc804 \uacfc\uc815\uacfc \uac01 \uc694\uc18c\uc758 \uc911\uc694\uc131\uc744 \uae4a\uc774 \uc788\uac8c \ud30c\uc545\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#_1","title":"\uc5b8\uc5b4 \ubaa8\ub378 \ub9cc\ub4e4\uae30","text":"<p>semiGPT \ud074\ub798\uc2a4\ub97c \ub9cc\ub4dc\ub294 \uacfc\uc815\uc740 \uac1d\uccb4 \uc9c0\ud5a5 \ud504\ub85c\uadf8\ub798\ubc0d\uc758 \uae30\ubcf8 \uc6d0\uce59\uc744 \ub530\ub978\ub2e4.  - \uccab \ubc88\uc9f8\ub294 <code>__init__</code> \uba54\uc11c\ub4dc\ub85c, \ud074\ub798\uc2a4\uc758 \ucd08\uae30\ud654\ub97c \ub2f4\ub2f9 - \ub450 \ubc88\uc9f8\ub294 <code>forward</code> \uba54\uc11c\ub4dc\ub85c, \ubaa8\ub378 \uc2e4\uc81c \uc5f0\uc0b0\uc744 \uc218\ud589\ud55c\ub2e4. <code>__init__</code> \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 \ubaa8\ub378\uc758 \uad6c\uc870\uc640 \ucd08\uae30 \ud30c\ub77c\ubbf8\ud130\ub97c \uc124\uc815\ud558\uace0, <code>forward</code> \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 \uc785\ub825 \ub370\uc774\ud130\ub97c \ubc1b\uc544 \ubaa8\ub378\uc744 \ud1b5\uacfc\uc2dc\ucf1c \ucd9c\ub825\uc744 \uc0dd\uc131\ud55c\ub2e4.</p> <p>\uc774\ub7ec\ud55c \uad6c\uc870\ub294 \ud30c\uc774\ud1a0\uce58\uc640 \uac19\uc740 \ub525\ub7ec\ub2dd \ud504\ub808\uc784\uc6cc\ud06c\uc5d0\uc11c \uc77c\ubc18\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ubc29\uc2dd\uc73c\ub85c, \ubaa8\ub378\uc758 \uad6c\uc870\ub97c \uba85\ud655\ud558\uac8c \uc815\uc758\ud558\uace0 \uc0ac\uc6a9\ud558\uae30 \uc27d\uac8c \ub9cc\ub4e0\ub2e4. \uc774\ub807\uac8c \uc124\uacc4\ub41c semiGPT \ud074\ub798\uc2a4\ub294 \ub2e4\uc591\ud55c \uc5b8\uc5b4 \ubaa8\ub378\ub9c1 \uc791\uc5c5\uc5d0 \ud65c\uc6a9\ub420 \uc218 \uc788\uc73c\uba70, \ud544\uc694\uc5d0 \ub530\ub77c \uc27d\uac8c \ud655\uc7a5\ud558\uac70\ub098 \uc218\uc815\uc774 \uac00\ub2a5\ud558\ub2e4.</p> <pre><code>import torch\nimport torch.nn\nfrom torch.nn import functional as F\n\nclass semiGPT(nn.Moudle):\n    def __init__(self, vocab_length):\n        super().__init__()\n        self.embedding_token_table == nn.Embedding(vocab_lengthm vocab_length)\n\n    def forward(self, inputs, targets):\n        logits = self.embedding_token_table(inputs)\n\n        return logits\n\nmodel = semiGPT(ko_vocab_size)\noutput = model(example_x, example_y)\nprint(output.shape)\n</code></pre> <p>\uacb0\uacfc: torch.Size([4,8,2701])</p> <p>\uba3c\uc800, \ud070 \ud750\ub984\uc744 \uc0b4\ud3b4\ubcf4\uace0 \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uaca0\ub2e4. semiGPT\ub294 <code>__init__</code> \ud568\uc218\uc5d0\uc11c <code>vocab_length</code> \ub97c (\ub9e4\uac1c)\ubcc0\uc218\ub85c \ubc1b\uc544 \ud1a0\ud070 \uc784\ubca0\ub529(embedding) \ud14c\uc774\ube14\uc744 \ub9cc\ub4e0\ub2e4. \uc5ec\uae30\uc11c <code>vocab_length</code>\ub294 \ubaa8\ub378\uc774 \ub2e4\ub8f0 \uc218 \uc788\ub294 \ub2e8\uc5b4\uc758 \ucd1d \uac1c\uc218\uc774\ubbc0\ub85c 2701\uac1c\uac00 \ub41c\ub2e4.</p> <p>\uc784\ubca0\ub529 \ud14c\uc774\ube14\uc740 \uac01 \ub2e8\uc5b4\ub97c \uace0\uc720\ud55c \uc22b\uc790 \ubca1\ud130\ub85c \ubcc0\ud658\ud558\ub294 \uc5ed\ud560\uc744 \ud55c\ub2e4. \uc774\ub97c \ucf54\ub4dc\ub85c \uad6c\ud604\ud55c \ubd80\ubd84\uc774  <code>self.token_embedding_table = nn.Embedding(vocab_length, vocab_length)</code> \uc774\ub2e4.</p> <p>\uc774 \ucf54\ub4dc\ub97c \ub354 \uc790\uc138\ud788 \uc0b4\ud3b4\ubcf4\uba74 <code>nn.Embedding</code>\uc740 \ud30c\uc774\ud1a0\uce58\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uae30\ub2a5\uc73c\ub85c,  \ub2e8\uc5b4\ub97c \ubca1\ud130\ub85c \ubcc0\ud658\ud558\ub294 \ud14c\uc774\ube14\uc744 \ub9cc\ub4e0\ub2e4. </p> <p>\uccab \ubc88\uc9f8 <code>vocab_length</code>\ub294 \ucd1d \ub2e8\uc5b4\uc758 \uc218\ub97c \uc758\ubbf8\ud558\uace0,  \ub450 \ubc88\uc9f8 <code>vocab_length</code>\ub294 \uac01 \ub2e8\uc5b4\ub97c \ud45c\ud604\ud560 \ubca1\ud130\uc758 \ud06c\uae30\ub97c \ub098\ud0c0\ub0b8\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4, \uc804\uccb4 \ub2e8\uc5b4\uac00 1,000\uac1c\uc774\uace0 \uac01 \ub2e8\uc5b4\ub97c 100\ucc28\uc6d0\uc758 \ubca1\ud130\ub85c \ud45c\ud604\ud558\uace0 \uc2f6\ub2e4\uba74 <code>nn.Embedding(1000, 100)</code> \uacfc \uac19\uc774 \uc124\uc815\ub41c\ub2e4. \uc774\ub807\uac8c \ud558\uba74 \uac01 \ub2e8\uc5b4\ub9c8\ub2e4 100\uac1c\uc758 \uc22b\uc790\ub85c \uc774\ub904\uc9c4 \uace0\uc720\ud55c \ubca1\ud130\uac00 \ud560\ub2f9\ub41c\ub2e4.</p> <p>\uc774 \uc784\ubca0\ub529 \ud14c\uc774\ube14\uc744 \ud1b5\ud574 \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub97c \ucef4\ud4e8\ud130\uac00 \uc774\ud574\ud558\uace0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \ud615\ud0dc\ub85c \ubcc0\ud658\ud560 \uc218 \uc788\ub2e4. \uc774\ub7ec\ud55c \uacfc\uc815\uc744 \uac70\uccd0 \ucef4\ud4e8\ud130\ub294 \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ubd84\uc11d\ud558\uace0 \ucc98\ub9ac\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.</p> <p>\uc774\ub7ec\ud55c \uc784\ubca0\ub529 \uacfc\uc815\uc774 \uc911\uc694\ud55c \uc774\uc720\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p> <ol> <li> <p>\ucef4\ud4e8\ud130\ub294 \uc6d0\ub798 \uc22b\uc790\ub9cc\uc744 \uc774\ud574\ud558\uace0 \ucc98\ub9ac\ud560 \uc218 \uc788\uc5b4 \uc784\ubca0\ub529\uc744 \ud1b5\ud574 \ub2e8\uc5b4\ub97c \uc22b\uc790 \ubca1\ud130\ub85c \ubcc0\ud658\ud558\uba74 \ucef4\ud4e8\ud130\uac00 \uc774\ud574\ud560 \uc218 \uc788\ub294 \ud615\ud0dc\uac00 \ub41c\ub2e4.</p> </li> <li> <p>\ubca1\ud130 \ud45c\ud604\uc740 \ub2e8\uc5b4 \uac04\uc758 \uc758\ubbf8\uc801 \uad00\uacc4\ub97c \uc218\ud559\uc801\uc73c\ub85c \ud45c\ud604\ud560 \uc218 \uc788\uac8c \ud574 \ucef4\ud4e8\ud130\uac00 \ub2e8\uc5b4\uac04\uc758 \uc720\uc0ac\uc131\uc744 \uacc4\uc0b0\ud558\uace0 \uc774\ud574\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.</p> </li> <li> <p>\uc774\ub7ec\ud55c \ubca1\ud130 \ud45c\ud604\uc740 \ub2e4\uc591\ud55c \uc218\ud559\uc801 \uc5f0\uc0b0\uc744 \uac00\ub2a5\ud558\uac8c \ud574 \ubcf5\uc7a1\ud55c \uc5b8\uc5b4 \ubaa8\ub378\ub9c1\uacfc \uc790\uc5f0\uc5b4 \ucc98\ub9ac \uc791\uc5c5\uc5d0 \uc720\uc6a9\ud558\ub2e4.</p> </li> <li> <p>\uace0\ucc28\uc6d0 \ubca1\ud130\ub85c\uc758 \ubcc0\ud658\uc740 \ub2e8\uc5b4\uc758 \ub2e4\uc591\ud55c \ud2b9\uc131\uc744 \ud45c\ud604\ud560 \uc218 \uc788\uc5b4 \ub2e8\uc5b4\uc758 \ubcf5\uc7a1\ud55c \uc758\ubbf8\uc640 \ub258\uc559\uc2a4\ub97c \ub354 \uc815\ud655\ud788 \ub098\ud0c0\ub0a0 \uc218 \uc788\ub2e4.</p> </li> </ol> <p>\ubaa8\ub378\uc758 <code>forward</code> \uba54\uc11c\ub4dc\ub294 \uc2e4\uc81c\ub85c \ub370\uc774\ud130\uac00 \ubaa8\ub378\uc744 \ud1b5\uacfc\ud558\ub294 \uacfc\uc815\uc774\ub2e4. \uc774 \uba54\uc11c\ub4dc\uc5d0\uc11c\ub294 \uc785\ub825 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc784\ubca0\ub529\uc744 \uc870\ud68c\ud55c\ub2e4. \uadf8 \uacb0\uacfc\ub85c <code>\ub85c\uc9d3(logit)</code>\uc744 \ubc18\ud658\ud558\ub294\ub370, \ub85c\uc9d3\uc740 \ud655\ub960\ub85c \ubcc0\ud658\ub418\uae30 \uc804\uc758 \uc6d0\uc2dc \uc810\uc218 \uac12\uc774\ub2e4. \uc774 \ub85c\uc9d3\uc740 \uac01 \uac00\ub2a5\ud55c \ucd9c\ub825 \ud074\ub798\uc2a4\uc5d0 \ub300\ud55c \uc0c1\ub300\uc801\uc778 \uc810\uc218\ub97c \ub098\ud0c0\ub0b4\uba70, \uc77c\ubc18\uc801\uc73c\ub85c \uc18c\ud504\ud2b8\ub9e5\uc2a4 \ud568\uc218\ub97c \ud1b5\ud574 \ud655\ub960\ub85c \ubcc0\ud658\ub41c\ub2e4.</p> <p><code>Torch\uc640 torch.nn</code> :  \ud30c\uc774\ud1a0\uce58\uc758 \ud575\uc2ec \ub77c\uc774\ube0c\ub7ec\ub9ac\uc778 torch\ub294 \ud150\uc11c \uc5f0\uc0b0\uacfc \uc790\ub3d9 \ubbf8\ubd84 \uae30\ub2a5 \ub4f1\uc744 \uc81c\uacf5\ud574 \ub525\ub7ec\ub2dd \ubaa8\ub378 \uad6c\ud604\uc5d0 \ud544\uc218\uc801\uc778 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \uc2e0\uacbd\ub9dd \uad6c\ucd95\uc5d0 \ud544\uc694\ud55c \ub2e4\uc591\ud55c \ub808\uc774\uc5b4\uc640 \ub9e4\uac1c\ubcc0\uc218 \uad00\ub9ac \uae30\ub2a5\uc740 <code>torch.nn</code> \ubaa8\ub4c8\uc5d0\uc11c \uc81c\uacf5\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574 \ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98\ub97c \uc815\uc758\ud558\uace0 \ub9e4\uac1c\ubcc0\uc218\ub97c \ucd08\uae30\ud654\ud558\uba70, \uc21c\uc804\ud30c(forward pass) \ub97c \uad6c\ud604\ud560 \uc218 \uc788\ub2e4.</p> <p><code>torch.nn.functional</code> : \uc8fc\ub85c \uc0c1\ud0dc\uac00 \uc5c6\ub294(stateless) \ud568\uc218\ub4e4\uc744 \uc81c\uacf5\ud55c\ub2e4. \uc5ec\uae30\uc5d0\ub294 \ud65c\uc131\ud654 \ud568\uc218(ReLU, Sigmoid \ub4f1)\uc640 \uc190\uc2e4 \ud568\uc218(Cross Entropy Loss \ub4f1)\uac00 \ud3ec\ud568\ub41c\ub2e4. \uc774 \ubaa8\ub4c8\uc740 \ud568\uc218\uc801 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud574 \ub808\uc774\uc5b4\uc758 \uc791\ub3d9\uc744 \uad6c\ud604\ud560 \ub54c \ud65c\uc6a9\ud55c\ub2e4.</p> <p>\uc704 \ucf54\ub4dc\ub85c\ub294 \ubaa8\ub378\uc774 \ud559\uc2b5\ub420 \uc218 \uc5c6\ub2e4. \uc911\uc694\ud55c \uc694\uc18c\uac00 \ud558\ub098 \ube60\uc84c\ub294\ub370, \ubc14\ub85c \uc190\uc2e4 \uacc4\uc0b0\uc774\ub2e4. \uc774\uc81c \uc190\uc2e4\uc744 \uad6c\ud558\ub294 \ucf54\ub4dc\ub97c \ucd94\uac00\ud574 \ubcf4\uaca0\ub2e4.</p> <p>Loss\ub97c \uc0ac\uc6a9\ud560 \ub54c 2\uac00\uc9c0 \uc911\uc694\ud55c \uac00\uc815\uc774 \uc788\ub2e4.</p> <p>\uac00\uc8151: \uc804\uccb4 \uc190\uc2e4\uc740 \uac1c\ubcc4 \uc0d8\ud50c \uc190\uc2e4\uc758 \ud569\uacfc \uac19\ub2e4. \uac00\uc8152: \uac01 \uc0d8\ud50c\uc758 \uc190\uc2e4\uc744 \uacc4\uc0b0\ud560 \ub54c \uc2e0\uacbd\ub9dd\uc758 \ucd5c\uc885 \ucd9c\ub825\uac12\uacfc \uc785\ub825\uac12\ub9cc \uc0ac\uc6a9\ud55c\ub2e4.</p> <p>\uc0ac\uc6a9\ud560 \uc190\uc2e4 \ud568\uc218\ub294 \uc774\ub7ec\ud55c \uac00\uc815\uc744 \ucda9\uc871\ud558\ub294 \ud30c\uc774\ud1a0\uce58\uc758 \ud06c\ub85c\uc2a4 \uc5d4\ud2b8\ub85c\ud53c(cross_entropy)\uc774\ub2e4. \ud06c\ub85c\uc2a4 \uc5d4\ud2b8\ub85c\ud53c \ud568\uc218\ub294 \ubd84\ub958 \ubb38\uc81c\uc5d0\uc11c \ubaa8\ub378 \uc131\ub2a5\uc744 \uce21\uc815\ud558\ub294 \ub370 \uc790\uc8fc \uc0ac\uc6a9\ub41c\ub2e4. \uc774 \ud568\uc218\ub294 \ubaa8\ub378\uc774 \uc608\uce21\ud55c \ud655\ub960 \ubd84\ud3ec(\uc784\ubca0\ub529)\uc640 \uc2e4\uc81c \ub808\uc774\ube14(target) \ubd84\ud3ec \uac04\uc758 \ucc28\uc774\ub97c \uacc4\uc0b0\ud55c\ub2e4.</p> <p>\uc190\uc2e4\uc774 \ub0ae\uc744\uc218\ub85d \ubaa8\ub378\uc758 \uc608\uce21\uc774 \uc2e4\uc81c \ub808\uc774\ube14\uc5d0 \ub354 \uac00\uae5d\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud55c\ub2e4. \uc774\ub7ec\ud55c \uc190\uc2e4 \uacc4\uc0b0\uc740 \ubaa8\ub378\uc774 \ud559\uc2b5 \uacfc\uc815\uc5d0\uc11c \uc790\uc2e0\uc758 \uc131\ub2a5\uc744 \ud3c9\uac00\ud558\uace0 \uac1c\uc120\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \uc911\uc694\ud55c \uc9c0\ud45c\uac00 \ub41c\ub2e4. \uc190\uc2e4 \ud568\uc218\ub97c \ud1b5\ud574 \ubaa8\ub378\uc740 \uc790\uc2e0\uc758 \uc608\uce21\uacfc \uc2e4\uc81c \uc815\ub2f5 \uc0ac\uc774\uc758 \uc624\ucc28\ub97c \uc778\uc2dd\ud558\uace0, \uc774\ub97c \ucd5c\uc18c\ud654\ud558\ub294 \ubc29\ud5a5\uc73c\ub85c \ud30c\ub77c\ubbf8\ud130\ub97c \uc870\uc815\ud560 \uc218 \uc788\ub2e4.</p> <p>\uc190\uc2e4 \ud568\uc218\ub97c \uc124\uc815\ud558\uace0 \ub2e4\uc2dc \ud55c\ubc88 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574\ubcf4\uaca0\ub2e4.</p> <pre><code>import torch\nimport torch.nn\nfrom torch.nn import functional as F\n\nclass semiGPT(nn.Moudle):\n    def __init__(self, vocab_length):\n        super().__init__()\n        self.embedding_token_table == nn.Embedding(vocab_lengthm vocab_length)\n\n    def forward(self, inputs, targets):\n        logits = self.embedding_token_table(inputs)\n\n        loss = F.cross_entropy(logits, targets)\n        return logits, loss\n\nmodel = semiGPT(ko_vocab_size)\noutputm loss = model(example_x, example_y)\nprint(output)\n</code></pre> <p>\ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\uba74 \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\ud558\ub294 \uac83\uc774 \uc815\uc0c1\uc774\ub2e4. \uc774\ub294 <code>shape</code> \uac00 \ub9de\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc774\ub2e4. \uc774 \ub610\ud55c \ub2e4\uc591\ud55c \uc5f0\uad6c\ub97c \ud558\ub2e4 \ubcf4\uba74 \uc790\uc8fc \ub9cc\ub098\ub294 \uc624\ub958\uc5ec\uc11c \uc608\uc81c\ub85c \uac00\uc838\uc654\ub2e4.</p> <p>RuntimeError: Expected target size [4, 2701], got[4, 8]</p> <p>\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\ub294 \uc774\uc720\ub97c \ub2e4\uc2dc \uc0b4\ud3b4\ubcf4\uaca0\ub2e4. \uc624\ub958 \uba54\uc2dc\uc9c0\uc5d0\uc11c \ubcfc \uc218 \uc788\ub4ef\uc774, \ubaa8\ub378\uc740 target size[4, 2701]\uc744 \uae30\ub300\ud558\uc9c0\ub9cc, \uc2e4\uc81c targets shape\uc73c\ub85c\ub294 [4, 8]\uc744 \ubc1b\uc558\ub2e4\ub294 \uc5d0\ub7ec\uc774\ub2e4. \uc774\ub294 vacab_length\uac00 2701\uc784\uc744 \ub098\ud0c0\ub0b8\ub2e4.</p> <p>example_x, example_y\ub294 \uac01\uac01 [4, 8] \ud06c\uae30\uc774\ubbc0\ub85c \ubaa8\ub378\uc5d0\uc11c \ud06c\ub85c\uc2a4\uc5d4\ud2b8\ub85c\ud53c \uc190\uc2e4 \ud568\uc218\uac00 \uc62c\ubc14\ub974\uac8c \uc791\ub3d9\ud558\ub824\uba74 \uc608\uce21\ud55c \uac83(logits)\uacfc \uc2e4\uc81c \uac12(targets)\uc758 \ucc28\uc774\ub97c \uacc4\uc0b0\ud558\uae30 \uc804\uc5d0 shape \uc744 \uc870\uc815\ud574\uc57c \ud55c\ub2e4.</p> <ul> <li>logits\uc758 shape [4, 8, 2701]\uc5d0\uc11c [32 2701]\ub85c \ubcc0\uacbd\ud55c\ub2e4. (4x8 = 32)</li> <li>targets\uc758 shape\uc744 [4, 8]\uc5d0\uc11c [32]\ub85c \ubcc0\uacbd\ud55c\ub2e4.</li> </ul> <p>\uc774\ub807\uac8c shape\uc744 \ubcc0\uacbd\ud568\uc73c\ub85c\uc368 \uac01 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc608\uce21\uacfc \uc2e4\uc81c \uac12\uc744 \uc77c\ub300\uc77c\ub85c \ube44\uad50\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.</p> <p>\uc218\uc815\ub41c \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p> <pre><code>import torch\nimport torch.nn\nfrom torch.nn import functional as F\n\nclass semiGPT(nn.Moudle):\n    def __init__(self, vocab_length):\n        super().__init__()\n        self.embedding_token_table == nn.Embedding(vocab_lengthm vocab_length)\n\n    def forward(self, inputs, targets):\n        logits = self.embedding_token_table(inputs)\n        batch, seq_length, vecab_length = logits.shape\n        logits = logits.view(batch * seq_length, vocab_length)\n        targets = targets.view(batch*seq_length)\n        loss = F.cross_entropy(logits, targets)\n        return logits, loss\n\nmodel = semiGPT(ko_vocab_size)\noutputm loss = model(example_x, example_y)\nprint(loss)\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc tensor(8.2693, grad_fn=NllLossBackward0)</p> <p>\uccab \ubc88\uc9f8\ub85c logits\uc758 shape\ub97c \ubcc0\uacbd\ud588\ub2e4. <code>logits = logits.view(batch * seq_length, vocab)</code></p> <p>\uc774 \ucf54\ub4dc\ub294 \uc6d0\ub798 [4, 8, 2701] \ud615\ud0dc\uc758 logits\ub97c [32, 2701] \ud615\ud0dc\ub85c \ubcc0\uacbd\ud55c\ub2e4. \uc5ec\uae30\uc11c 32\ub294 4(batch) * 8(seq_length)\uc774\ub2e4. view \ud568\uc218\ub294 \ud150\uc11c\uc758 \ubaa8\uc591\uc744 \ubcc0\uacbd\ud558\ub294 \ud30c\uc774\ud1a0\uce58 \uba54\uc11c\ub4dc\ub85c \uc774\ub294 \ub9c8\uce58 \uac19\uc740 \ub370\uc774\ud130\ub97c \ub2e4\ub978 \ubc29\uc2dd\uc73c\ub85c \ubcf4\ub294 \uac83\ucc98\ub7fc \ub9cc\ub4dc\ub294 \ud6a8\uacfc\uac00 \uc788\ub2e4.</p> <p>\ub450 \ubc88\uc9f8\ub85c targets\uc758 shape\ub97c \ubcc0\uacbd\ud574 logits\uc640 \uc5f0\uc0b0\ub420 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4e0\ub2e4. <code>targets = targets.view(batch*seq_length)</code></p> <p>\uc774 \ucf54\ub4dc\ub294 \uc6d0\ub798 [4, 8] \ud615\ud0dc\uc758 targets\ub97c [32] \ud615\ud0dc\ub85c \ubcc0\uacbd\ud55c\ub2e4. \uc774\ub807\uac8c \uc218\uc815\ud558\uba74 \uc774\uc804\uc5d0 \ubc1c\uc0dd\ud588\ub358 shape \ubd88\uc77c\uce58 \uc5d0\ub7ec\uac00 \ud574\uacb0\ub418\uace0, \ubaa8\ub378\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc190\uc2e4\uc744 \uacc4\uc0b0\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.</p> <p>\ud55c \uac00\uc9c0 \uad81\uae08\ud55c \uc810\uc740 \uc190\uc2e4\uac12\uc774 8.2693\uc73c\ub85c \ub098\uc628 \uc774\uc720\uc774\ub2e4. \uc774\ub97c \uc774\ud574\ud558\ub824\uba74 \uba3c\uc800 \uc815\ubcf4 \uc774\ub860\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc774\ud574\uac00 \ud544\uc694\ud558\ub2e4. \uc815\ubcf4 \uc774\ub860\uc758 \ud575\uc2ec \uac1c\ub150 \uc911 \ud558\ub098\ub294 \uc815\ubcf4 \uc5d4\ud2b8\ub85c\ud53c\ub85c, \uc774\ub294 \uba54\uc2dc\uc9c0\uc5d0 \ud3ec\ud568\ub41c \uc815\ubcf4\uc758 \uc591\uc744 \uce21\uc815\ud55c\ub2e4. \uc774\ub7f0\ud55c \uc815\ubcf4 \uc774\ub860\uc5d0 \ub530\ub974\uba74, \uc774\ubca4\ud2b8\uc758 \uc815\ubcf4\ub7c9\uc740 \ud574\ub2f9 \uc774\ubca4\ud2b8 \ud655\ub960\uc758 \uc74c\uc758 \ub85c\uadf8\uac12\uc73c\ub85c \uc815\uc758\ub418\uace0, \uc774\ub294 \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd \uac00\ub2a5\uc131\uc774 \ub0ae\uc744\uc218\ub85d \ub354 \ub9ce\uc740 \uc815\ubcf4\ub97c \ub2f4\uace0 \uc788\ub2e4\ub294 \uac1c\ub150\uc744 \ubc18\uc601\ud55c\ub2e4. \uc774\ubc88 \uc2e4\ud5d8\uc758 \uacbd\uc6b0, 2701\uac1c\uc758 \uac00\ub2a5\ud55c \uc5b4\ud718 \uc694\uc18c \uc911 \ud558\ub098\ub97c \uc815\ud655\ud788 \uc608\uce21\ud574\uc57c \ud558\ub294 \uc0c1\ud669\uc5d0\uc11c \uac01 \uc608\uce21\uc758 \ud655\ub960\uc740 1/2701\uc774\ub2e4.</p> <p>\ub530\ub77c\uc11c -ln(1/2701) = 7.901\uc774\ub77c\ub294 \uac12\uc740 \uc644\ubcbd\ud55c \uc608\uce21\uc744 \uc704\ud574 \ud544\uc694\ud55c \ucd5c\uc18c \uc815\ubcf4\ub7c9\uc744 \ub098\ud0c0\ub0b8\ub2e4. \uc2e4\uc81c \uc190\uc2e4\uac12 8.2693\uc774 \uc774 \uc774\ub860\uc801 \ucd5c\uc19f\uac12\ubcf4\ub2e4 \ub192\ub2e4\ub294 \uac83\uc740 \ubaa8\ub378\uc774 \uc644\ubcbd\ud558\uc9c0 \uc54a\uc73c\uba70, \uc77c\ubd80 \uc798\ubabb\ub41c \uc608\uce21\uc744 \ud55c\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud55c\ub2e4. \uc774 \ucc28\uc774\ub294 \ubaa8\ub378\uc758 \ud604\uc7ac \uc131\ub2a5\uacfc \uc774\uc0c1\uc801\uc778 \uc131\ub2a5 \uc0ac\uc774\uc758 \uaca9\ucc28\ub97c \ubcf4\uc5ec\uc8fc\uba70, \ucd94\uac00\uc801\uc778 \ud6c8\ub828\uc774\ub098 \uc870\uc815\uc744 \ud1b5\ud574 \uc131\ub2a5\uc744 \uac1c\uc120\ud560 \uc5ec\uc9c0\uac00 \uc788\uc74c\uc744 \uc54c\ub824\uc900\ub2e4.</p> <p>\uc774\ucc98\ub7fc \uc815\ubcf4 \uc774\ub860\uc758 \uac1c\ub150\uc744 \uc801\uc6a9\ud558\uba74 \ubaa8\ub378\uc774 \uc815\ubcf4\ub97c \ud559\uc2b5\ud558\uace0 \uc608\uce21 \ud6a8\uacfc\ub97c \uc218\ud559\uc801\uc73c\ub85c \ubd84\uc11d\ud560 \uc218 \uc788\ub2e4. \uadf8\ub7ec\ub098 \uc815\ubcf4 \uc774\ub860\uc5d0 \uadfc\uac70\ud574 \ud559\uc2b5\uc744 \uc218\ud589\ud558\ub354\ub77c\ub3c4 \uc6d0\ud558\ub294 \uc131\ub2a5\uc774 \ub098\uc624\uc9c0 \uc54a\uc744 \uc218 \uc788\ub2e4. \uc774\ub294 \uc778\uacf5\uc9c0\ub2a5\uc774 \ub2e8\uc21c\ud788 \uc815\ubcf4 \ucc98\ub9ac\uc758 \ubb38\uc81c\ub9cc\uc774 \uc544\ub2c8\ub77c \ubcf5\uc7a1\ud55c \uc694\uc18c\ub4e4\uc774 \uc0c1\ud638\uc791\uc6a9\ud558\ub294 \ub2e4\uce35\uc801 \ud559\ubb38\uc774\uae30 \ub54c\ubb38\uc774\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#generate","title":"generate \uba54\uc11c\ub4dc","text":"<p>\ub2e4\uc74c\uc73c\ub85c \ud559\uc2b5\ud55c \ubaa8\ub378\uc774 \uc608\uce21\ud55c \uae00\uc790\ub97c \uc0dd\uc131\ud558\uae30 \uc704\ud574 <code>generate</code> \uba54\uc11c\ub4dc\ub97c \ucd94\uac00\ud55c\ub2e4. \uc774 \uba54\uc11c\ub4dc\ub294 \ubaa8\ub378\uc774 \ud559\uc2b5\ud55c \ud328\ud134\uc744 \ubc14\ud0d5\uc73c\ub85c \uc0c8\ub85c\uc6b4 \ud14d\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud55c\ub2e4. <code>generate</code> \uba54\uc11c\ub4dc\ub294 \uc785\ub825\ub41c \uc2dc\uc791 \ubb38\uc790\uc5f4\uc5d0 \uae30\ubc18\ud574 \uc5f0\uc18d\uc73c\ub85c \ub2e4\uc74c \uae00\uc790\ub97c \uc608\uce21\ud558\uace0 \ud14d\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud55c\ub2e4.</p> <pre><code>import torch\nimport torch.nn\nfrom torch.nn import functional as F\n\nclass semiGPT(nn.Moudle):\n    def __init__(self, vocab_length):\n        super().__init__()\n        self.embedding_token_table == nn.Embedding(vocab_lengthm vocab_length)\n\n    def forward(self, inputs, targets):\n        logits = self.embedding_token_table(inputs)\n        batch, seq_length, vecab_length = logits.shape\n        logits = logits.view(batch * seq_length, vocab_length)\n        targets = targets.view(batch*seq_length)\n        loss = F.cross_entropy(logits, targets)\n        return logits, loss\n\n    def generate(self, inputs, max_new_tokens):\n        for _ in range(max_new_tokens):\n            logits, loss = self.forward(inputs)\n            logits = logits[:, -1, :]\n            print(logits.shape)\n            probs = F.softmax(logits, dim-1)\n            next_inputs = torch.multionmial(probs, num_samples=1)\n        return inputs\n\nmodel = semiGPT(ko_vocab_size)\noutputm loss = model(example_x, example_y)\n\ntoken_decode(model.generate(torch.zeros((1,1),\n                            dtype=torch.long),\n                            max_new_tokens=10)[0].tolist())\n</code></pre> <p>\uc2e4\ud589\uacb0\uacfc: \uc5ff\uc785\ube64\uc329\uc29d\ucc2e\ucc21\ud3ad</p> <p>\uba3c\uc800, <code>max_new_tokens</code> \ud69f\uc218\ub9cc\ud07c \ubc18\ubcf5\ubb38\uc744 \uc2e4\ud589\ud55c\ub2e4. \uac01 \ubc18\ubcf5\uc5d0\uc11c \ud604\uc7ac\uc758 <code>inputs</code> \ub97c forward\ub97c \ud1b5\uacfc\uc2dc\ucf1c logits\uc640 loss\ub97c \uc5bb\ub294\ub2e4. logits[:, -1, :]\uc744 \ud1b5\ud574 \uac00\uc7a5 \ucd5c\uadfc\uc5d0 \uc0dd\uc131\ub41c \ud1a0\ud070\uc5d0 \ub300\ud55c \ub85c\uc9d3\ub9cc\uc744 \uc120\ud0dd\ud55c\ub2e4.</p> <pre><code>import torch\n\nlogits = torch.tensor(\n    [\n        [\n            [0.1, 0.2, 0.3, 0.4],\n            [0.2, 0.3, 0.4, 0.1],\n            [0.3, 0.4, 0.1, 0.2]\n        ]\n    ]\n)\n\nresult = logits[:,-1,:]\nprint(\"\uc120\ud0dd\ub418\ub294 \uac12 : \", result)\nprint(\"\uacb0\uacfc\uc5d0 \ub300\ud55c size\uac12 : \", result.size())\n</code></pre> <p>\uc2e4\ud589\uacb0\uacfc:  \uc120\ud0dd\ub418\ub294 \uac12 : tensor(0.3000, 0.4000, 0.1000, 0.2000) \uacb0\uacfc\uc5d0 \ub300\ud55c size \uac12: torch.Size([1,4])</p> <p>\uc608\ub97c \ub4e4\uc5b4 \uc544\ub798\uc640 \uac19\uc740 <code>logits</code> \ud150\uc11c\uac00 \uc788\ub2e4\uace0 \ud569\uc2dc\ub2e4.</p> <pre><code>logits.shape = (batch_size=1, seq_len=3, vocab_size=4)\n</code></pre> <p>\uc774\uac74 \uc544\ub798\uc640 \uac19\uc740 \uc758\ubbf8\uc785\ub2c8\ub2e4.</p> <ul> <li> <p><code>batch_size=1</code>: \ud55c \ubc88\uc5d0 \ud558\ub098\uc758 \ubb38\uc7a5\uc744 \uc0dd\uc131 \uc911</p> </li> <li> <p><code>seq_len=3</code>: \uc9c0\uae08\uae4c\uc9c0 \ucd1d 3\uac1c\uc758 \ud1a0\ud070\uc744 \uc608\uce21\ud568</p> </li> <li> <p><code>vocab_size=4</code>: \uc804\uccb4 \uc5b4\ud718(\ub2e8\uc5b4 \ud639\uc740 \ubb38\uc790)\uac00 4\uac1c\uc774\uace0, \uac01\uac01\uc758 \ud1a0\ud070\uc5d0 \ub300\ud574 4\uac1c\uc758 \ub85c\uc9d3 \uac12(\ub2e4\uc74c \ub2e8\uc5b4\uc77c \ud655\ub960 \uc810\uc218 \ud6c4\ubcf4)\uc774 \uc788\uc74c</p> </li> </ul> <p>\uadf8\ub798\uc11c logits[:, -1, :] \uc740 \ubb34\uc5c7\uc778\uac00?</p> <pre><code>logits[:, -1, :]\n</code></pre> <p>\uc774 \uc758\ubbf8\ub294 \"\uac01 \ubc30\uce58\uc758 \ub9c8\uc9c0\ub9c9 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc608\uce21 \ub85c\uc9d3\ub9cc \ubf51\uaca0\ub2e4\" \ub294 \ub73b\uc774\ub2e4.</p> <ul> <li> <p><code>:</code>: \ubaa8\ub4e0 \ubc30\uce58 \uc120\ud0dd (\uc5ec\uae30\uc120 \ud558\ub098\ub2c8\uae4c 0\ubc88\uc9f8 \ubc30\uce58)</p> </li> <li> <p><code>-1</code>: \uc2dc\ud000\uc2a4(\ubb38\uc7a5) \uc911 \ub9c8\uc9c0\ub9c9 \ud1a0\ud070 \uc120\ud0dd</p> </li> <li> <p><code>:</code>: \uadf8 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc804\uccb4 \ub85c\uc9d3 (\uc5b4\ud718 \uac1c\uc218\ub9cc\ud07c) \uc120\ud0dd</p> </li> </ul> <p>\uc989, \uac00\uc7a5 \ub9c8\uc9c0\ub9c9 \ud1a0\ud070 \uc704\uce58\uc5d0\uc11c, \ub2e4\uc74c \ud1a0\ud070\uc774 \ubb34\uc5c7\uc77c\uc9c0\uc5d0 \ub300\ud55c \uc608\uce21 \ud655\ub960\uc744 \ubcf4\uace0 \uc2f6\uc5b4\uc11c \uc774 \ubd80\ubd84\uc744 \ubf51\ub294 \uac83\uc774\ub2e4.</p> <p>\uc65c \ub9c8\uc9c0\ub9c9 \ud1a0\ud070\ub9cc \uc4f0\ub294 \uac78\uae4c?</p> <p><code>generate()</code> \ud568\uc218\ub294 \ud604\uc7ac\uae4c\uc9c0 \uc785\ub825\ub41c \ubb38\uc7a5\uc744 \uae30\ubc18\uc73c\ub85c \ub2e4\uc74c \uae00\uc790 \ud558\ub098\ub97c \uc0dd\uc131\ud558\ub294 \uacfc\uc815\uc774\ub2e4.</p> <pre><code>\uc785\ub825 = \"\uc548\ub155\"\n</code></pre> <p>\uc608\ub97c \ub4e4\uc5b4,  <code>\uc548</code>, <code>\ub155</code> \uac01\uac01\uc758 \uc704\uce58\uc5d0 \ub300\ud574 \ub2e4\uc74c \uae00\uc790\ub97c \uc608\uce21\ud558\uc9c0\ub9cc, \uc6b0\ub9ac\ub294 \ub9c8\uc9c0\ub9c9 \uae00\uc790\uc778 <code>\"\ub155\"</code> \ub4a4\uc5d0 \uc5b4\ub5a4 \uae00\uc790\uac00 \ub098\uc62c\uc9c0\ub97c \uc54c\uace0 \uc2f6\ub2e4.</p> <p>\uadf8\ub798\uc11c \uc804\uccb4 \ub85c\uc9d3 \uc911 \ub9c8\uc9c0\ub9c9 \uae00\uc790\uc758 \ub85c\uc9d3\ub9cc \ucd94\ucd9c\ud574\uc11c</p> <pre><code>logits = logits[:, -1, :]  # =&gt; (batch, vocab_size)\n</code></pre> <p>\uc774\uac78 softmax \ud6c4 multinomial sampling\uc744 \ud1b5\ud574 \ub2e4\uc74c \uae00\uc790 \ud558\ub098\ub97c \uc0d8\ud50c\ub9c1\ud569\ub2c8\ub2e4.</p> <p>\uc694\uc57d\ud558\uc790\uba74 <code>logits[:, -1, :]</code>\ub294 \uc9c0\uae08\uae4c\uc9c0 \uc0dd\uc131\ub41c \ubb38\uc7a5 \uc911 \ub9c8\uc9c0\ub9c9 \uae00\uc790 \uc704\uce58\uc5d0\uc11c, \ub2e4\uc74c\uc5d0 \uc5b4\ub5a4 \uae00\uc790\uac00 \ub098\uc62c\uc9c0 \uc608\uce21\ud55c \ud655\ub960 \uac12(logits)\uc744 \ubf51\uae30 \uc704\ud55c \uc5f0\uc0b0\uc785\ub2c8\ub2e4.</p> <p>\ud544\uc694\ud558\ub2e4\uba74 \uc774\uac78 \uae30\ubc18\uc73c\ub85c softmax \u2192 \uc0d8\ud50c\ub9c1 \u2192 \uc0c8 \ud1a0\ud070 \uc0dd\uc131 \u2192 \uc774\uc5b4 \ubd99\uc774\uae30\ub97c \ubc18\ubcf5\ud569\ub2c8\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#optimizer","title":"Optimizer \ucd94\uac00\ud558\uae30","text":"<p>\ubaa8\ub378 \ud6c8\ub828 \uc2dc \uc190\uc2e4 \ud568\uc218\ub97c \uc774\uc6a9\ud574 \ubaa8\ub378\uc758 \uc608\uce21 \uac12\uacfc \uc2e4\uc81c \uc815\ub2f5 \ub370\uc774\ud130 \uc0ac\uc774\uc758 \ucc28\uc774(\uc190\uc2e4)\ub97c \uacc4\uc0b0\ud558\uace0, \uc774 \uc190\uc2e4\uc744 \ucd5c\uc18c\ud654\ud558\uae30 \uc704\ud574 \ubaa8\ub378\uc758 \ub9e4\uac1c\ubcc0\uc218\ub97c \uc801\uc808\ud558\uac8c \uc870\uc815\ud55c\ub2e4. \uc635\ud2f0\ub9c8\uc774\uc800\ub294 \uc774 \ub9e4\uac1c\ubcc0\uc218 \uc870\uc815 \uacfc\uc815\uc744 \ub2f4\ub2f9\ud574 \ubaa8\ub378\uc774 \ub354 \uc815\ud655\ud55c \uc608\uce21\uc744 \ud560 \uc218 \uc788\ub3c4\ub85d \ub0b4\ubd80 \uad6c\uc870\ub97c \uc9c0\uc18d\uc801\uc73c\ub85c \uac1c\uc120\ud55c\ub2e4. \uc774\ub7ec\ud55c \uacfc\uc815\uc744 \ud1b5\ud574 \ubaa8\ub378\uc740 \uc8fc\uc5b4\uc9c4 \ub370\uc774\ud130\uc5d0 \ub300\ud574 \ub354 \ub098\uc740 \uc131\ub2a5\uc744 \ubcf4\uc774\uac8c \ub41c\ub2e4.</p> <pre><code>learning_rate = 1e-2\nmodel = semiGPT(ko_vocab_size)\noptimizer = torch.optim.AdamW(model.parameter(), lr=learning_rate)\n</code></pre> <p>\ubaa8\ub378\uc758 \ud559\uc2b5\uc744 \uc704\ud574 \ud559\uc2b5\ub960\uc740 1e-2\ub85c \uc815\ud558\uace0, \uc635\ud2f0\ub9c8\uc774\uc800\ub85c AdamW\ub97c \uc0ac\uc6a9\ud55c\ub2e4. AdamW\ub294 Adam\uc774\ub77c\ub294 \uae30\uc874 \uc635\ud2f0\ub9c8\uc774\uc800\ub97c \uac1c\uc120\ud55c \ubc84\uc804\uc774\ub2e4. \uc774 \uc635\ud2f0\ub9c8\uc774\uc800\uc758 \uc8fc\uc694 \ud2b9\uc9d5\uc740 \uac00\uc911\uce58 \uac10\uc1e0\ub77c\ub294 \uae30\ubc95\uc744 \ub354 \ud6a8\uacfc\uc801\uc73c\ub85c \uc0ac\uc6a9\ud55c\ub2e4\ub294 \uc810\uc774\ub2e4. \uac00\uc911\uce58 \uac10\uc1e0\ub294 \ubaa8\ub378\uc774 \ud6c8\ub828 \ub370\uc774\ud130\uc5d0 \uacfc\ub3c4\ud558\uac8c \ub9de\ucdb0\uc9c0\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uace0, \uc77c\ubc18\ud654 \ub2a5\ub825\uc744 \ud5a5\uc0c1\uc2dc\ud0a4\ub294 \ub370 \ub3c4\uc6c0\uc744 \uc900\ub2e4.</p> <p><code>torch.optim.AdamW(model.parameter(), lr=learning_rate)</code> \ucf54\ub4dc\ub294 \ud30c\uc774\ud1a0\uce58\uc5d0\uc11c AdamW \uc635\ud2f0\ub9c8\uc774\uc800\ub97c \uc0dd\uc131\ud558\ub294 \ubd80\ubd84\uc774\ub2e4.</p> <ul> <li>torch.optim\uc740 \ud30c\uc774\ud1a0\uce58\uc758 \ucd5c\uc801\ud654 \uc54c\uace0\ub9ac\uc998 \ubaa8\ub4c8\uc774\ub2e4. \uc774 \ubaa8\ub4c8\uc5d0\ub294 \ub2e4\uc591\ud55c \uc635\ud2f0\ub9c8\uc774\uc800\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\ub2e4.</li> <li>AdamW\ub294 Adam \uc635\ud2f0\ub9c8\uc774\uc800\uc758 \ubcc0\ud615\uc73c\ub85c, \uac00\uc911\uce58 \uac10\uc1e0(weghit decay)\ub97c \ub354 \ud6a8\uacfc\uc801\uc73c\ub85c \ucc98\ub9ac\ud55c\ub2e4. Adam\uc740 \uc801\uc751\ud615 \ud559\uc2b5\ub960\uc744 \uc0ac\uc6a9\ud558\ub294 \ucd5c\uc801\ud654 \uc54c\uace0\ub9ac\uc998\uc774\ub2e4.</li> <li><code>model.parameters()</code> \ub294 \ucd5c\uc801\ud654\ud560 \ubaa8\ub378\uc758 \ub9e4\uac1c\ubcc0\uc218\ub97c \uc9c0\uc815\ud55c\ub2e4. \uc774 \uba54\uc11c\ub4dc\ub294 \ubaa8\ub378\uc758 \ubaa8\ub4e0 \ud559\uc2b5 \uac00\ub2a5\ud55c \ub9e4\uac1c\ubcc0\uc218\ub97c \ubc18\ud658\ud558\ub2e4.</li> <li><code>lr=learning_rate</code> \ub294 \ud559\uc2b5\ub960\uc744 \uc124\uc815\ud55c\ub2e4. \ud559\uc2b5\ub960\uc740 \uac01 \ubc18\ubcf5\uc5d0\uc11c \ub9e4\uac1c\ubcc0\uc218\ub97c \uc5bc\ub9c8\ub098 \ud06c\uae30 \uc5c5\ub370\uc774\ud2b8\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \uc911\uc694\ud55c \ud558\uc774\ud37c\ud30c\ub77c\ubbf8\ud130\uc774\ub2e4.</li> </ul> <p>\ud574\ub2f9 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\uba74, \ud559\uc2b5 \uacfc\uc815\uc5d0\uc11c \uc774 \uc635\ud2f0\ub9c8\uc774\uc800\ub97c \uc0ac\uc6a9\ud574 \ubaa8\ub378\uc758 \uac00\uc911\uce58\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uace0 \uc190\uc2e4\uc744 \ucd5c\uc18c\ud654\ud558\ub294 \ubc29\ud5a5\uc73c\ub85c \ud559\uc2b5\uc744 \uc9c4\ud589\ud55c\ub2e4.</p> <pre><code>from tqdm.auto import tqdm\n\nbatch_size = 32\n\nfor steps in tqdm(range(10000)):\n    example_x, example_y = batch_function(\"train\")\n    logits, loss = model(example_x, example_y)\n    # \uc635\ud2f0\ub9c8\uc774\uc800 \ucd08\uae30\ud654\n    optimizer.zero_grad(set_to_none=True)\n    # \uc5ed\uc804\ud30c \uacc4\uc0b0\n    loss.backward()\n    # \uac00\uc911\uce58 \uc5c5\ub370\uc774\ud2b8\n    optimizer.step()\n\nprint(loss.item())\n</code></pre> <p>\uc2e4\ud589\uacb0\uacfc: 3.477691411972046</p> <p>\uba3c\uc800 \ubc30\uce58 \ud06c\uae30\ub97c 32\ub85c \uc124\uc815\ud55c\ub2e4. \uadf8 \ub2e4\uc74c \uac01 \ubc18\ubcf5\ub9c8\ub2e4 \ud559\uc2b5 \ub370\uc774\ud130\uc5d0\uc11c \ubc30\uce58\ub97c \uac00\uc838\uc640 \ubaa8\ub378\uc5d0 \uc785\ub825\ud55c\ub2e4. \ubaa8\ub378\uc740 \uc774 \uc785\ub825\uc744 \ucc98\ub9ac\ud574 \uc608\uce21\uac12(logits)\uacfc \uc190\uc2e4\uac12(loss)\uc744 \uacc4\uc0b0\ud55c\ub2e4.</p> <p>\uc635\ud2f0\ub9c8\uc774\uc800\uac00 \uc815\ud574\uc9c0\uba74 \uac00\uc911\uce58\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uae30 \uc704\ud574 \uc138 \uac00\uc9c0 \uc911\uc694\ud55c \ub2e8\uacc4\ub97c \uac70\uce5c\ub2e4.</p> <ul> <li>\uc635\ud2f0\ub9c8\uc774\uc800 \ucd08\uae30\ud654: <code>optimizer.zero_grad(set_to_none=True)</code> \ub97c \uc0ac\uc6a9\ud574 \uc635\ud2f0\ub9c8\uc774\uc800\uc758 \uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \ubc84\ud37c\ub97c \ucd08\uae30\ud654\ud55c\ub2e4. \uc774\ub294 \uc0c8\ub85c\uc6b4 \ubc30\uce58 \ucc98\ub9ac \uc804 \uc774\uc804 \uadf8\ub808\uc774\ub514\uc5b8\ud2b8\uc758 \uc601\ud5a5\uc744 \uc81c\uac70\ud558\uae30 \uc704\ud568\uc774\ub2e4.</li> <li>\uc5ed\uc804\ud30c \uacc4\uc0b0: <code>loss_backward()</code> \ub97c \ud1b5\ud574 \uc190\uc2e4 \ud568\uc218\uc758 \uadf8\ub808\uc774\ub514\uc5b8\ud2b8\ub97c \uacc4\uc0b0\ud55c\ub2e4. \uc774 \uacfc\uc815\uc5d0\uc11c \ubaa8\ub378\uc758 \uac01 \uac00\uc911\uce58\uc5d0 \ub300\ud55c \uc190\uc2e4 \ud568\uc218\uc758 \ubcc0\ud654\uc728\uc744 \uad6c\ud55c\ub2e4.</li> <li>\uac00\uc911\uce58 \uc5c5\ub370\uc774\ud2b8: <code>optimizer.step()</code>\uc744 \uc0ac\uc6a9\ud574 \uacc4\uc0b0\ub41c \uadf8\ub808\uc774\ub514\uc5b8\ud2b8\ub97c \ubc14\ud0d5\uc73c\ub85c \ubaa8\ub378\uc758 \uac00\uc911\uce58\ub97c \uc2e4\uc81c\ub85c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4.</li> </ul> <p>\ub9c8\uc9c0\ub9c9\uc73c\ub85c, \ud604\uc7ac \ubc18\ubcf5\uc5d0\uc11c\uc758 \uc190\uc2e4\uac12\uc744 \ucd9c\ub825\ud55c\ub2e4. \uc774 \uacfc\uc815\uc744 \ud1b5\ud574 \ubaa8\ub378\uc740 \uc810\uc9c4\uc801\uc73c\ub85c \ud559\uc2b5 \ub370\uc774\ud130\uc5d0 \ub9de\ucdb0 \uac1c\uc120\ub418\uba70, \ud2b9\uc815 \uc791\uc5c5\uc774\ub098 \ub3c4\uba54\uc778\uc5d0 \ub354\uc6b1 \uc801\ud569\ud55c \uc131\ub2a5\uc744 \ubcf4\uc774\uac8c \ub41c\ub2e4.</p> <p>\uc635\ud2f0\ub9c8\uc774\uc800 \ucd94\uac00 \uc804 \uc0dd\uc131 \uacb0\uacfc: \uc5ff\uc785\ube64\uc329\uc29d\ucc2e\ucc21\ud3ad</p> <p>\uc635\ud2f0\ub9c8\uc774\uc800 \ucd94\uac00 \ud6c4 \uc0dd\uc131 \uacb0\uacfc: \ud611\ub825\uc5d0 \uc624\ub97c \uac83\uc774</p> <p>\uc635\ud2f0\ub9c8\uc774\uc800\ub97c \ucd94\uac00\ud55c \ud6c4 \uc0dd\uc131\ub41c \uacb0\uacfc\ub294 \"\ud611\ub825\uc5d0 \uc624\ub97c \uac83\uc774\"\ub77c\ub294 \ud55c\uad6d\uc5b4 \ubb38\uc7a5\uc758 \uc77c\ubd80\ubd84\uc774 \uc0dd\uc131\ub418\uc5c8\ub2e4. \uc774\ub294 \uc635\ud2f0\ub9c8\uc774\uc800\uac00 \ubaa8\ub378\uc758 \ud559\uc2b5 \uacfc\uc815\uc744 \ud6a8\uacfc\uc801\uc73c\ub85c \uac1c\uc120\ud574 \ub354 \uc790\uc5f0\uc2a4\ub7ec\uc6b4 \ud14d\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uac8c \ub9cc\ub4e4\uc5c8\uc74c\uc744 \ubcf4\uc5ec\uc900\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#gpu","title":"\ub370\uc774\ud130\ub97c GPU\ub85c \uc804\ub2ec\ud558\uae30","text":"<p>\uc9c0\uae08\uae4c\uc9c0\ub294 CPU\ub85c \ud559\uc2b5\ud588\ub294\ub370, \uc774\uc81c GPU\ub97c \uc774\uc6a9\ud574 \ud559\uc2b5\ud574 \ubcf4\uaca0\ub2e4. GPU\ub97c \uc774\uc6a9\ud574 \ud559\uc2b5\ud558\ub824\uba74 \ub370\uc774\ud130\uc640 \ubaa8\ub378\uc744 \ubc18\ub4dc\uc2dc GPU\ub85c \uc804\uc1a1\ud574\uc57c \ud55c\ub2e4. \uc774\ub97c \uc704\ud574 \ud30c\uc774\ud1a0\uce58\uc5d0\uc11c\ub294 <code>to</code> \uba54\uc11c\ub4dc\ub97c \uc81c\uacf5\ud55c\ub2e4. <code>to(device)</code> \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud558\uba74 \ub370\uc774\ud130\uc640 \ubaa8\ub378\uc744 \uac04\ud3b8\ud558\uac8c GPU\ub85c \uc804\uc1a1\ud574 GPU \uc5f0\uc0b0\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub2e4. \uba3c\uc800 \ub2e4\uc74c\uc740 <code>device</code> \ubcc0\uc218\ub97c \uc124\uc815\ud558\uace0, \uc774\ub97c \ud1b5\ud574 \ub370\uc774\ud130\uc640 \ubaa8\ub378\uc744 GPU\ub85c \uc774\ub3d9\ud558\ub294 \uacfc\uc815\uc774\ub2e4.</p> <pre><code>device = \"cuda\" if torch.cuda.is_available() else \"cpu\"\n</code></pre> <p><code>torch.cuda.is_available()</code> \ud568\uc218\ub97c \uc0ac\uc6a9\ud574 \ud604\uc7ac \uc2e4\ud589 \ud658\uacbd\uc5d0\uc11c CUDA \uc0ac\uc6a9 \uac00\ub2a5 \uc5ec\ubd80\ub97c \ud655\uc778\ud55c\ub2e4. CUDA\ub294 \uc5d4\ube44\ub514\uc544\uc758 GPU\ub97c \ud65c\uc6a9\ud574 \ub525\ub7ec\ub2dd \uc5f0\uc0b0\uc744 \uac00\uc18d\ud654\ud558\ub294 \ud234\ud0b7(toolkit)\uc774\ub2e4. \uc774 \uae30\ub2a5\uc744 \ud1b5\ud574 GPU\uc758 \uac15\ub825\ud55c \ubcd1\ub82c \ucc98\ub9ac \ub2a5\ub825\uc744 \ud65c\uc6a9\ud574 \ub525\ub7ec\ub2dd \ubaa8\ub378\uc758 \ud559\uc2b5 \uc18d\ub3c4\ub97c \ud06c\uac8c \ud5a5\uc0c1 \uc2dc\ud0ac \uc218 \uc788\ub2e4.</p> <pre><code>def batch_function(mode):\n    dataset = train_dataset if mode == \"train\" else test_dataset\n    idx = torch.randint(len(dataset) - block_size, (batch_size,))\n    x = torch.stack([dataset[index:index+block_size] for index in idx])\n    y = torch.stack([dataset[index+1:index+block_size+1] for index in idx])\n    x, y = x.to(device), y.to(device)\n    return x, y\n</code></pre> <p>\uc55e\uc11c \uc900\ube44\ud55c <code>batch_function</code> \ud568\uc218\uc5d0 CUDA\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud658\uacbd\uc5d0\uc11c GPU\ub97c \ud65c\uc6a9\ud574 \uc5f0\uc0b0\uc744 \uc218\ud589\ud558\ub3c4\ub85d \uc218\uc815\ud55c\ub2e4. \uc774\ub97c \uc704\ud574 \uc785\ub825 \ub370\uc774\ud130 (x)\uc640 \ubaa9\ud45c \ub370\uc774\ud130 (y)\ub97c \ub3d9\uc2dc\uc5d0 <code>device</code>\ub85c \uc774\ub3d9\ud55c\ub2e4. CUDA \ud658\uacbd\uc774 \uc900\ube44\ub3fc \uc788\ub2e4\uba74 \uc774\ub7ec\ud55c \ubc29\uc2dd\uc73c\ub85c \ub370\uc774\ud130\ub97c GPU\ub85c \uc804\uc1a1\ud574 \ucc98\ub9ac \uc18d\ub3c4\ub97c \ud06c\uac8c \ud5a5\uc0c1\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%281%29/#loss","title":"Loss \ud568\uc218 \ub9cc\ub4e4\uae30","text":"<p>\ub2e4\uc74c\uc740 <code>calculate_loss</code> \ud568\uc218\uc774\ub2e4. \ubaa8\ub378\uc774 \uc81c\ub300\ub85c \ud559\uc2b5\ud558\uace0 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uae30 \uc704\ud574 \uc774 \ud568\uc218\ub97c \ub9cc\ub4e4\uc5b4 \uc911\uac04\uc911\uac04 \ud3c9\uac00\ud574 \ubcf4\uaca0\ub2e4.</p> <pre><code>@torch.no_grad()\ndef compute_loss_metrics():\n    out = {}\n    model.eval()\n    for mode in [\"train\", \"eval\"]:\n        losses = torch.zeros(eval_iteration)\n        for k in range(eval_iteration):\n            inputs, targets = batch_function(mode)\n            logits, loss = model(inputs, targets)\n            losses[k] = loss.item()\n        out[mode] = losses.mean()\n    model.train()\n    return out\n</code></pre> <p><code>@torch.no_grad()</code> \ub370\ucf54\ub808\uc774\ud130\ub294 \ud30c\uc774\ud1a0\uce58\uc5d0\uc11c \uc911\uc694\ud55c \uae30\ub2a5\uc744 \uc218\ud589\ud55c\ub2e4. \uc774 \ub370\ucf54\ub808\uc774\ud130\ub97c \ud568\uc218 \uc704\uc5d0 \ubd99\uc774\uba74 \ud574\ub2f9 \ud568\uc218 \ub0b4\uc5d0\uc11c \uc774\ub904\uc9c0\ub294 \ubaa8\ub4e0 \uc5f0\uc0b0\uc5d0 \ub300\ud574 \uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \uacc4\uc0b0\uc744 \uc790\ub3d9\uc73c\ub85c \ube44\ud65c\uc131\ud654\ud55c\ub2e4.</p> <p>\uc77c\ubc18\uc801\uc73c\ub85c \ub525\ub7ec\ub2dd \ubaa8\ub378\uc744 \ud559\uc2b5\ud560 \ub54c\ub294 \uc5ed\uc804\ud30c(backpropagation)\ub97c \ud1b5\ud574 \uadf8\ub808\uc774\ub514\uc5b8\ud2b8\ub97c \uacc4\uc0b0\ud558\uace0, \uc774\ub97c \ubc14\ud0d5\uc73c\ub85c \ubaa8\ub378\uc758 \uac00\uc911\uce58\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4. \ud558\uc9c0\ub9cc \ubaa8\ub378\uc744 \ud3c9\uac00\ud558\ub294 \ub2e8\uacc4\uc5d0\uc11c\ub294 \uc774\ub7ec\ud55c \uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \uacc4\uc0b0\uacfc \uac00\uc911\uce58 \uc5c5\ub370\uc774\ud2b8\uac00 \ud544\uc694\ud558\uc9c0 \uc54a\ub294\ub2e4.</p> <p>\uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \uacc4\uc0b0\uc744 \ube44\ud65c\uc131\ud654\ud558\uba74,  1. \uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \uc815\ubcf4\ub97c \uc800\uc7a5\ud560 \ud544\uc694\uac00 \uc5c6\uc5b4 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\uc774 \uc904\uc5b4\ub4e0\ub2e4. 2. \uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \uacc4\uc0b0 \uacfc\uc815\uc774 \uc0dd\ub7b5\ub418\ubbc0\ub85c \uc804\uccb4\uc801\uc73c\ub85c \uacc4\uc0b0 \uc18d\ub3c4\uac00 \ube68\ub77c\uc9c4\ub2e4.</p> <p>\uadf8 \ub2e4\uc74c <code>model.eval()</code> \uba85\ub839\uc740 \uc2e0\uacbd\ub9dd \ubaa8\ub378\uc744 \ud3c9\uac00 \ubaa8\ub4dc\ub85c \uc804\ud658\ud558\ub294 \uc911\uc694\ud55c \ub2e8\uacc4\uc774\ub2e4. \uc774 \uc124\uc815\uc740 \ubaa8\ub378\uc758 \ud2b9\uc815 \ub808\uc774\uc5b4\ub4e4\uc774 \ud559\uc2b5 \uacfc\uc815\uacfc \ud3c9\uac00 \uacfc\uc815\uc5d0\uc11c \ub2e4\ub974\uac8c \uc791\ub3d9\ud574\uc57c \ud560 \ub54c \ud544\uc218\uc801\uc774\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4, \ub4dc\ub86d\uc544\uc6c3(Dropout) \ub808\uc774\uc5b4\ub294 \ud559\uc2b5 \uc911\uc5d0\ub294 \ubb34\uc791\uc704\ub85c \uc77c\ubd80 \ub274\ub7f0\uc744 \ube44\ud65c\uc131\ud654\ud574 \uacfc\uc801\ud569\uc744 \ubc29\uc9c0\ud55c\ub2e4. \ud558\uc9c0\ub9cc \ud3c9\uac00 \uc2dc\uc5d0\ub294 \ubaa8\ub4e0 \ub274\ub7f0\uc744 \uc0ac\uc6a9\ud574\uc57c \ub354 \uc548\uc815\uc801\uc778 \uc608\uce21\uc774 \uac00\ub2a5\ud558\ub2e4. <code>eval()</code> \ubaa8\ub4dc\uc5d0\uc11c\ub294 \ub4dc\ub86d\uc544\uc6c3\uc774 \uc790\ub3d9\uc73c\ub85c \ube44\ud65c\uc131\ud654\ub41c\ub2e4.</p> <p>\ub610\ud55c, <code>model.eval()</code> \uc740 \ubc30\uce58 \uc815\uaddc\ud654 \ub808\uc774\uc5b4\ub3c4 \ud559\uc2b5\uacfc \ud3c9\uac00 \uc2dc \ub2e4\ub974\uac8c \uc791\ub3d9\ud574\uc57c \ud55c\ub2e4. \ud559\uc2b5 \uc911\uc5d0\ub294 \ud1b5\uacc4\ub97c \uc0ac\uc6a9\ud558\uc9c0\ub9cc, \ud3c9\uac00 \uc2dc\uc5d0\ub294 \uc804\uccb4 \ub370\uc774\ud130\uc14b\uc5d0\uc11c \uacc4\uc0b0\ub41c \ub204\uc801 \ud1b5\uacc4\ub97c \uc0ac\uc6a9\ud55c\ub2e4. <code>eval()</code> \ubaa8\ub4dc\ub294 \uc774\ub7ec\ud55c \uc804\ud658\uc744 \uc790\ub3d9\uc73c\ub85c \ucc98\ub9ac \ud55c\ub2e4.</p> <p>\uadf8 \ub2e4\uc74c, train\uacfc eval \ub450 \uac00\uc9c0 \ubaa8\ub4dc\uc5d0 \ub300\ud574 \ubc18\ubcf5\ud55c\ub2e4. \uac01 \ubaa8\ub4dc\uc5d0\uc11c eval_iteration \ud69f\uc218\ub9cc\ud07c \ubc18\ubcf5\ud558\uba70 \uc190\uc2e4\uc744 \uacc4\uc0b0\ud55c\ub2e4. <code>batch_function(mode)</code> \ud568\uc218\ub85c \ub370\uc774\ud130 \ubc30\uce58\ub97c \uac00\uc838\uc624\uace0, <code>model(inputs, targets)</code> \ub85c \ub85c\uc9d3\uacfc \uc190\uc2e4\uc744 \uacc4\uc0b0\ud55c\ub2e4. \uacc4\uc0b0\ub41c \uc190\uc2e4\uc740 losses \ud150\uc11c\uc5d0 \uc800\uc7a5\ud55c\ub2e4. \uac01 \ubaa8\ub4dc\uc5d0\uc11c \uacc4\uc0b0\ub41c \uc190\uc2e4\ub4e4\uc758 \ud3c9\uade0\uc744 \uad6c\ud574 <code>out</code> \ub515\uc154\ub7ec\ub9ac\uc5d0 \uc800\uc7a5\ud55c\ub2e4. \uc774 \ud3c9\uade0 \uc190\uc2e4\uc740 \uac01 \ubaa8\ub4dc\uc5d0\uc11c \ubaa8\ub378 \uc131\ub2a5\uc744 \ub098\ud0c0\ub0b4\ub294 \uc9c0\ud45c\ub85c \uc0ac\uc6a9\ub41c\ub2e4.</p> <p>\ud559\uc2b5 \uc911\uac04\uc911\uac04 \uc2e4\ud589\ub418\ub294 <code>comput_loss_metrics</code> \ud568\uc218\uc758 \uc2e4\ud589\uc774 \ub05d\ub098\uba74 <code>model.train()</code> \uc73c\ub85c \ubaa8\ub378\uc744 \ub2e4\uc2dc \ud6c8\ub828 \ubaa8\ub4dc\ub85c \uc804\ud658\ud574 \uc774\ud6c4 \ubaa8\ub378\uc744 \uacc4\uc18d \ud6c8\ub828\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uc815\ud55c\ub2e4. \ub9c8\uc9c0\ub9c9\uc73c\ub85c, train\uacfc eval \ubaa8\ub4dc\uc758 \ud3c9\uade0 \uc190\uc2e4\uac12\uc744 \ud3ec\ud568\ud55c out \ub515\uc154\ub7ec\ub9ac\ub97c \ubc18\ud658\ud55c\ub2e4. \uc774 \ub515\uc154\ub108\ub9ac\ub294 \ubaa8\ub378\uc758 \ud604\uc7ac \ud559\uc2b5 \uc0c1\ud0dc\ub97c \ud3c9\uac00\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\uba70, \ud6c8\ub828\uacfc \ud3c9\uac00 \ub370\uc774\ud130 \ubaa8\ub450\uc5d0 \ub300\ud55c \ubaa8\ub378\uc758 \uc131\ub2a5\uc744 \ud55c\ub208\uc5d0 \ubcfc \uc218 \uc788\uac8c \ud574\uc900\ub2e4.</p> <pre><code>for step in range(max_iteration):\n    if step % eval_interval == 0:\n        losses = compute_loss_metrics()\n        print(f'step : {step}, train loss : {losses[\"train\"]: .4f}, val loss : {losses[\"eval\"]: .4f}')\n\n    example_x, example_y = batch_function(\"train\")\n    logits, loss = model(example_x, example_y)\n    optimizer.zero_grad(set_to_none=True)\n    loss.backward()\n    optimizer.step()\n\n\ninputs = torch.zeros((1,1), dtype=toch.long, device=device)\nprint(token_decode(model.generate(inputs, max_new_tokens=100)[0].tolist()))\n</code></pre> <p>\uc2e4\ud589\uacb0\uacfc: step: 49500, train loss : 3.3963, val loss : 3.4179 step: 49800, train loss : 3.3909, val loss : 3.4089 \ub4f1 \uc628 \ucc28\ub4f1 \uc77c\ubd80\ud68c\uc0ac\uc5c5\uc774\ub2e4. 9%\ub85c\ub098 \uccab \uad6d\ubbfc \uc11c \ubc31 \uad50\uc12d5\uc6d4\ub9d0\ud588\ub358 \uce74\uce74\ud398\uc774\ub2e4\ub9ac</p> <p>\uc704 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\uba74 \ubaa8\ub378\uc774 \uc77c\uc815 \uac04\uaca9\uc73c\ub85c \ud559\uc2b5 \uc190\uc2e4\uacfc \uac80\uc99d \uc190\uc2e4\uc744 \uacc4\uc0b0\ud558\uace0 \ucd9c\ub825\ud558\ub294 \uacfc\uc815\uc744 \ubc18\ubcf5\ud55c\ub2e4. <code>max_iteration</code> \uc740 \ubaa8\ub378\uc774 \uc218\ud589\ud560 \ucd5c\ub300 \ubc18\ubcf5 \ud69f\uc218\ub97c \uc758\ubbf8\ud558\uba70, <code>eval_interval</code> \uc740 \ud3c9\uac00\ub97c \uc218\ud589\ud560 \uac04\uaca9\uc744 \ub098\ud0c0\ub0b8\ub2e4.</p> <ul> <li> <p><code>max_iteration</code> \ub9cc\ud07c \ubc18\ubcf5\uc744 \uc218\ud589\ud558\ub294 for \ub8e8\ud504\ub97c \ud1b5\ud574 \ubaa8\ub378 \ud559\uc2b5\uc744 \uc9c4\ud589\ud55c\ub2e4.</p> </li> <li> <p>\uac01 \ubc18\ubcf5\uc5d0\uc11c <code>step</code> \ubcc0\uc218\ub294 \ud604\uc7ac \ubc18\ubcf5\uc758 \ubc88\ud638\ub97c \ub098\ud0c0\ub0b8\ub2e4. <code>step % eval_interval == 0</code> \uc870\uac74\ubb38\uc740 \ud604\uc7ac \ubc18\ubcf5 \ubc88\ud638\uac00 eval_interval \ub85c \uc815\ud655\ud788 \ub098\ub220\ub5a8\uc5b4\uc9c8 \ub54c, \uc989 \uc9c0\uc815\ub41c \ud3c9\uac00 \uac04\uaca9\ub9c8\ub2e4 \ucc38\uc774 \ub41c\ub2e4. \uc774\ub54c <code>compute_loss_metrics()</code> \ud568\uc218\ub97c \ud638\ucd9c\ud574 \ud604\uc7ac \ubaa8\ub378\uc758 \ud559\uc2b5 \uc190\uc2e4\uacfc \uac80\uc99d \uc190\uc2e4\uc744 \uacc4\uc0b0\ud55c\ub2e4. \uc774 \ud568\uc218\ub294 \ud559\uc2b5 \ub370\uc774\ud130\uc640 \uac80\uc99d \ub370\uc774\ud130\uc5d0 \ub300\ud574 \ubaa8\ub378\uc744 \ud3c9\uac00\ud558\uace0 \uac01 \ud3c9\uade0 \uc190\uc2e4\uac12\uc744 \uacc4\uc0b0\ud574 \ubc18\ud658\ud55c\ub2e4.</p> </li> <li> <p>losses \ub515\uc154\ub108\ub9ac\uc5d0\ub294 train\uacfc eval \ud0a4\ub97c \ud1b5\ud574 \uc811\uadfc\ud560 \uc218 \uc788\ub294 \ud559\uc2b5 \uc190\uc2e4\uacfc \uac80\uc99d \uc190\uc2e4 \uac12\uc744 \uc800\uc7a5\ud55c\ub2e4. \uc774\ud6c4 print \ud568\uc218\ub85c \ud604\uc7ac \ub2e8\uacc4(step), \ud559\uc2b5 \uc190\uc2e4(losses[\"train\"]), \uadf8\ub9ac\uace0 \uac80\uc99d \uc190\uc2e4(losses[\"eval\"])\uc744 \ucd9c\ub825\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574 \ud559\uc2b5 \uacfc\uc815 \uc9c4\ud589 \uc0c1\ud669\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uace0 \ubaa8\ub378\uc774 \ud559\uc2b5 \ub370\uc774\ud130\uc640 \uac80\uc99d \ub370\uc774\ud130\uc5d0 \ub300\ud574 \uc5bc\ub9c8\ub098 \uc798 \uc791\ub3d9\ud558\ub294 \uc9c0 \ud3c9\uac00\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p><code>batch_function</code> \ud568\uc218\ub97c \uc0ac\uc6a9\ud574 \ud559\uc2b5 \ub370\uc774\ud130\uc5d0\uc11c \ubbf8\ub2c8\ubc30\uce58\ub97c \ucd94\ucd9c\ud55c\ub2e4. \ubaa8\ub378\uc5d0 \uc785\ub825 \ub370\uc774\ud130(example_x)\uc640 \uc815\ub2f5 \ub370\uc774\ud130(example_y)\ub97c \uc804\ub2ec\ud574 \uc608\uce21\uac12\uacfc \uc190\uc2e4\uac12\uc744 \uacc4\uc0b0\ud55c\ub2e4. \uadf8 \ub2e4\uc74c \uc5ed\uc804\ud30c\ub97c \uc218\ud589\ud558\uace0 \uc635\ud2f0\ub9c8\uc774\uc800\ub97c \uc0ac\uc6a9\ud574 \ubaa8\ub378\uc758 \ud30c\ub77c\ubbf8\ud130\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4.</p> </li> <li> <p>\ud559\uc2b5\uc774 \uc644\ub8cc\ub41c \ud6c4, \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud574 \uc0c8\ub85c\uc6b4 \ud14d\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc785\ub825\uc73c\ub85c 0\uc73c\ub85c \ucc44\uc6cc\uc9c4 \ud150\uc11c\ub97c \uc0ac\uc6a9\ud558\uace0, \ubaa8\ub378\uc758 <code>generate</code> \uba54\uc11c\ub4dc\ub97c \ud638\ucd9c\ud574 \ucd5c\ub300 100\uac1c\uc758 \uc0c8\ub85c\uc6b4 \ud1a0\ud070\uc744 \uc0dd\uc131\ud55c\ub2e4. \uc0dd\uc131\ub41c \ud1a0\ud070\uc740 <code>token_decode</code> \ud568\uc218\ub97c \uc0ac\uc6a9\ud574 \ud14d\uc2a4\ud2b8\ub85c \ubcc0\ud658\ub418\uc5b4 \ucd9c\ub825\ub41c\ub2e4.</p> </li> <li> <p>\uc774 \ucf54\ub4dc\ub97c \ubaa8\ub450 \uc885\ud569\ud574 <code>optimizer</code> \ub97c \uc801\uc6a9\ud55c \uc804\uccb4 \ucf54\ub4dc\uc774\ub2e4. \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uac70\ub098 \uc911\uac04\uc5d0 \ubb38\uc81c\uac00 \uc0dd\uacbc\uc744 \ub54c\ub294 \uc138\uc158\uc744 \ucd08\uae30\ud654\ud558\uace0 \ucf54\ub4dc\ub97c \ub2e4\uc2dc \uc2e4\ud589\ud558\uba74 \uc77c\uad04\uc801\uc73c\ub85c \uc791\ub3d9\ud558\ub3c4\ub85d \uad6c\uc131\ud588\ub2e4.</p> </li> </ul> <p>\uc774 \uc2e4\uc2b5 \uacb0\uacfc\uc5d0\uc11c\ub3c4 \ub4dc\ub7ec\ub098\ub4ef, \ucd08\ucc3d\uae30 \uc5b8\uc5b4 \ubaa8\ub378\uc740 \ubb38\ub9e5 \uc774\ud574\uc640 \uc758\ubbf8 \uc788\ub294 \ub2e8\uc5b4 \uc0dd\uc131\uc5d0 \uc5b4\ub824\uc6c0\uc744 \uacaa\uc5c8\ub2e4. \uc5f0\uad6c\uc790\ub4e4\uc740 \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \ud574\uacb0\ud558\ub824\uace0 \ub2e8\uc5b4 \uac04 \uc5f0\uad00\uc131\uc744 \ud559\uc2b5\ud558\ub294 RNN, GRU, LSTM \ub4f1 \ub2e4\uc591\ud55c \uc2e0\uacbd\ub9dd \uad6c\uc870\ub97c \uc5f0\uad6c\ud588\ub2e4. </p> <p>\uad6c\uae00 \uac1c\ubc1c\uc790\ub4e4\uc740 RNN\uacfc LSTM\uc774 \uac00\uc9c4 \uc7a5\uae30 \uc758\uc874\uc131 \ubb38\uc81c, \uc21c\ucc28\uc801 \ucc98\ub9ac\ub85c \uc778\ud55c \ubcd1\ub82c \ucc98\ub9ac\uc758 \uc5b4\ub824\uc6c0, \uadf8\ub9ac\uace0 \uae34 \uc2dc\ud000\uc2a4\ub97c \ucc98\ub9ac\ud560 \ub54c \ubc1c\uc0dd\ud558\ub294 \uadf8\ub808\uc774\ub514\uc5b8\ud2b8 \uc18c\uc2e4 \ub610\ub294 \ud3ed\ubc1c \ubb38\uc81c\ub85c \uc778\ud55c \uc5f0\uc0b0 \ube44\uc6a9 \uc99d\uac00\uc640 \uac19\uc740 \uae30\uc874 \uc21c\ucc28 \ucc98\ub9ac \ubc29\uc2dd\uc758 \ud55c\uacc4\ub97c \uadf9\ubcf5\ud558\uace0\uc790, \uc5b4\ud150\uc158 \uba54\ucee4\ub2c8\uc998\uc744 \uc911\uc2ec\uc73c\ub85c \ud55c \uc0c8\ub85c\uc6b4 \ubaa8\ub378 \uc544\ud0a4\ud14d\ucc98\uc778 \ud2b8\ub79c\uc2a4\ud3ec\uba38\ub97c \uc81c\uc548\ud588\ub2e4.</p> <p>\ud2b8\ub79c\uc2a4\ud3ec\uba38\ub294 \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \uc624\uc9c1 \uc5b4\ud150\uc158 \uba54\ucee4\ub2c8\uc998\ub9cc\uc744 \uc0ac\uc6a9\ud574 \ubaa8\ub378\uc744 \uad6c\uc131\ud55c\ub2e4. \ub17c\ubb38\uc5d0 \uc18c\uac1c\ub41c \uc544\uc774\ub514\uc5b4\ub294 cross attention, masked self attention, self attention \uba54\ucee4\ub2c8\uc998\uc744 \ud575\uc2ec\uc73c\ub85c \ud55c\ub2e4. \uc774 \uba54\ucee4\ub2c8\uc998\uc740 \uc785\ub825 \uc2dc\ud000\uc2a4\uc758 \uac01 \uc694\uc18c\uac00 \ub2e4\ub978 \ubaa8\ub4e0 \uc694\uc18c\uc640 \uc5b4\ub5bb\uac8c \uad00\ub828\ub418\ub294\uc9c0 \ubcd1\ub82c\ub85c \uacc4\uc0b0\ud55c\ub2e4. \ub530\ub77c\uc11c \uc785\ub825 \uc2dc\ud000\uc2a4 \ub0b4 \ubaa8\ub4e0 \uc704\uce58 \uac04\uc758 \uad00\uacc4\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \ubaa8\ub378\ub9c1\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4. \uc774\ub97c \ud1b5\ud574 \ud2b8\ub79c\uc2a4\ud3ec\uba38\ub294 \ub370\uc774\ud130\uc758 \uae34 \ubc94\uc704 \uc758\uc874\uc131\uc744 \ub354 \ud6a8\uacfc\uc801\uc73c\ub85c \ud559\uc2b5\ud558\uace0, \ubcd1\ub82c \ucc98\ub9ac\ub85c \uc778\ud574 \ube60\ub978 \ud559\uc2b5\uacfc  \ucd94\ub860 \uc18d\ub3c4\ub97c \ub2ec\uc131\ud55c\ub2e4.</p> <p>\uacb0\uacfc\uc801\uc73c\ub85c \ud2b8\ub79c\uc2a4\ud3ec\uba38\ub294 \uc790\uc5f0\uc5b4 \ucc98\ub9ac(NLP) \ubd84\uc57c\uc5d0\uc11c \ud601\uc2e0\uc801\uc778 \ubc1c\uc804\uc73c\ub85c \uc778\uc815\ubc1b\uc73c\uba70, BERT, GPT \ub4f1 \ub2e4\uc591\ud55c \ubcc0\ud615 \ubaa8\ub378\uc758 \uae30\ubc18\uc774 \ub41c\ub2e4. \ub610\ud55c \ud14d\uc2a4\ud2b8 \uc774\ud574\uc640 \uc0dd\uc131 \uc791\uc5c5\uc5d0\uc11c \ub6f0\uc5b4\ub09c \uc131\ub2a5\uc744 \ubcf4\uc5ec \uc9c0\uae08\ub3c4 \ub110\ub9ac \uc0ac\uc6a9\ub41c\ub2e4.</p> <p>GPT \ubaa8\ub378\uc5d0\ub294 \uc5ec\ub7ec \uac00\uc9c0 \uc911\uc694\ud55c \uae30\uc220\uc774 \uc801\uc6a9\ub41c\ub2e4. masked attention, multi head attention, positional Encoding, \uc804\ucc28 \uc5f0\uacb0, \ub808\uc774\uc5b4 \uc815\uaddc\ud654, dropopt \ub4f1\uc774 \uc788\ub2e4. \uc774\uc81c \uc774\ub7ec\ud55c \uae30\ubc95\ub4e4\uc744 \ubaa8\ub378\uc5d0 \ub2e8\uacc4\uc801\uc73c\ub85c \uc801\uc6a9\ud558\uba70 \ud559\uc2b5\uc5d0 \uc5b4\ub5a4 \uc601\ud5a5\uc744 \uc8fc\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uaca0\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%282%29/","title":"GPT \ubaa8\ub378 \ub9cc\ub4e4\uae30(2)","text":""},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%282%29/#_1","title":"\uc140\ud504 \uc5b4\ud150\uc158 \ucd94\uac00\ud558\uae30","text":"<p>\uc5b4\ud150\uc158 \uba54\ucee4\ub2c8\uc998\uc740 \uac04\ub2e8\ud788 \ub9d0\ud574 \ubb38\uc790\ub098 \ub2e8\uc5b4 \uc0ac\uc774\uc758 \uad00\uacc4\ub97c \ud30c\uc545\ud558\uace0, \ud2b9\uc815 \uc815\ubcf4\uc758 \uc911\uc694\uc131\uc744 \uc778\uc2dd\ud558\ub294 \uba54\ucee4\ub2c8\uc998\uc774\ub2e4. \uc774 \uba54\ucee4\ub2c8\uc998\uc744 \uc774\ud574\ud558\ub824\uba74 \ub450 \uac00\uc9c0 \ud575\uc2ec \uc9c8\ubb38\uc744 \uace0\ubbfc\ud574\uc57c \ud55c\ub2e4.</p> <ol> <li>\uc5b4\ub5bb\uac8c \ub2e8\uc5b4 \uc0ac\uc774\uc758 \uad00\uacc4\ub97c \ud30c\uc545\ud560 \uc218 \uc788\uc744\uae4c?</li> <li>\uc5b4\ub5bb\uac8c \ud2b9\uc815 \uc815\ubcf4\uc758 \uc911\uc694\uc131\uc744 \ubaa8\ub378\uc5d0 \uc804\ub2ec\ud560 \uc218 \uc788\uc744\uae4c?</li> </ol> <p>\uc774\ub7ec\ud55c \uace0\ubbfc\uc744 \uc2e4\uc81c \ucf54\ub4dc\ub85c \uad6c\ud604\ud574 \ubcf4\uba74 \uc5b4\ud150\uc158 \uba54\ucee4\ub2c8\uc998\uc758 \uc791\ub3d9 \uc6d0\ub9ac\ub97c \ub354 \uae4a\uc774 \uc774\ud574\ud560 \uc218 \uc788\ub2e4. \ucf54\ub4dc\ub97c \ud1b5\ud574 \uc774\ub860\uc801 \uac1c\ub150\uc744 \uc2e4\uc81c\ub85c \uc801\uc6a9\ud574 \ubcf4\uba74\uc11c \uc5b4\ud150\uc158 \uba54\ucee4\ub2c8\uc998\uc774 \uc5b4\ub5bb\uac8c \uc791\ub3d9\ud558\ub294\uc9c0 \ub354 \uba85\ud655\ud558\uac8c \ud30c\uc545\ud560 \uc218 \uc788\ub2e4. </p> <p>\uba3c\uc800 \ubb38\uc790\ub4e4 \uac04\uc758 \uc815\ubcf4\ub97c \uc8fc\uace0\ubc1b\ub294 \ubc29\ubc95\uc744 \uc0dd\uac01\ud574\ubcf4\uaca0\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%282%29/#_2","title":"\ubb38\uc790\ub4e4 \uac04\uc5d0 \uc815\ubcf4\ub97c \uc8fc\uace0\ubc1b\ub294 \ubc29\uc2dd(\ud3c9\uade0 \ubc29\uc2dd)","text":"<p>\uac04\ub2e8\ud55c \uc22b\uc790 \ub370\uc774\ud130\ub97c \uac00\uc9c0\uace0, \ubb38\uc790\ub4e4 \uac04\uc5d0 \uc815\ubcf4\ub97c \uc8fc\uace0\ubc1b\ub294 \ubc29\ubc95\uc744 \uc0b4\ud3b4\ubcf4\uaca0\ub2e4.</p> <p>\ubc30\uce58(batch) \ud06c\uae30\uac00 2\uc774\uace0, \uc2dc\ud000\uc2a4(sequence) \uae38\uc774\uac00 4, \uadf8\ub9ac\uace0 \uc784\ubca0\ub529(embedding) \ucc28\uc6d0\uc774 6\uc778 \ub370\uc774\ud130\ub97c \uc0dd\uc131\ud55c\ub2e4. \ub370\uc774\ud130\uc758 \ub0b4\uc6a9\uc740 \uc911\uc694\ud558\uc9c0 \uc54a\uae30 \ub584\ubb38\uc5d0 <code>torch.randn</code> \ud568\uc218\ub97c \uc0ac\uc6a9\ud574 \ub79c\ub364\ud55c \uac12\uc73c\ub85c \ub370\uc774\ud130\ub97c \ub9cc\ub4ed\ub2c8\ub2e4. \uc774\ub807\uac8c \uc0dd\uc131\ub41c 4\uac1c\uc758 \uc2dc\ud000\uc2a4\ub294 \uc11c\ub85c \uc5f0\uad00\uc131\uc774 \uc5c6\ub294 \ub79c\ub364\ud55c \uc22b\uc790\ub4e4\ub85c \uad6c\uc131\ub41c\ub2e4.</p> <pre><code>import torch\ntorch.manual_seed(1441)\n\nnum_batches, seqence_length, embedding_dim = 2, 4, 6\nembeddings_tensor = torch.randn(num_batches,\n                                seqence_length,\n                                embedding_dim)\n\nembeddings_tensor.shape\n</code></pre> <p>torch.Size([2, 4, 6])</p> <p>\uc774 \ucf54\ub4dc\uc758 \ubaa9\ud45c\ub294 \ub354 \ub098\uc740 \uc608\uce21\uc744 \uc704\ud574 \uc2dc\ud000\uc2a4\ub4e4\uc774 \uc11c\ub85c \uc5b4\ub5bb\uac8c \uc815\ubcf4\ub97c \uc8fc\uace0\ubc1b\uc744 \uc218 \uc788\ub294\uc9c0\ub97c \uc54c\uc544\ubcf4\ub294 \uac83\uc774\ub2e4. \uc5ec\uae30\uc11c \uc8fc\ubaa9\ud560 \uc810\uc740 4\uac1c\uc758 \uc2dc\ud000\uc2a4\uac00 \uc21c\ucc28\uc801\uc73c\ub85c \uc785\ub825\ub41c\ub2e4\ub294 \uac83\uc774\ub2e4. \uc2dc\ud000\uc2a4\ub4e4\ub07c\ub9ac \uc815\ubcf4\ub97c \uc8fc\uace0\ubc1b\ub294 \ubc29\ubc95\uc740 \ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4 \ub4f1 \ub2e4\uc591\ud558\uc9c0\ub9cc, \uc5ec\uae30\uc11c\ub294 \uac00\uc7a5 \uc26c\uc6b4 \ubc29\ubc95\uc778 \ud3c9\uade0\uc744 \uad6c\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc124\uba85\ud558\uaca0\ub2e4.</p> <p>\ub2e4\uc74c\uc73c\ub85c, embeddings_tensor \ub97c \ud65c\uc6a9\ud574 averaged_embeddings \ub77c\ub294 \ubcc0\uc218\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc774 \ubcc0\uc218\ub294 \ub2e4\uc74c \uc2dc\ud000\uc2a4\ub85c \ub118\uc5b4\uac08 \ub54c\ub9c8\ub2e4 \ud3c9\uade0\uac12\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uacc4\ub41c\ub2e4.</p> <pre><code># \uc774\uc804 \uc784\ubca0\ub529\uc758 \ud3c9\uade0\uc744 \uc800\uc7a5\ud560 \ud150\uc11c \ucd08\uae30\ud654 \naveraged_embeddings = torch.zeros((num_batches, sequence_length, embedding_dim))\n\n# \uac01 \ubc30\uce58\uc5d0 \ub300\ud574 \ubc18\ubcf5\nfor batch_index in range(num_batches):\n    # \uac01 \uc2dc\ud000\uc2a4 \uc704\uce58\uc5d0 \ub300\ud574 \ubc18\ubcf5\n    for sequence_position in range(sequence_length):\n        # \ud604\uc7ac \uc2dc\ud000\uc2a4 \uc704\uce58\uae4c\uc9c0\uc758 \uc774\uc804 \uc784\ubca0\ub529\uc744 \uc2ac\ub77c\uc774\uc2a4\n        previous_embeddings = embeddings_tensor[batch_index, :sequence_position + 1]\n        # \ud604\uc7ac \uc704\uce58\uae4c\uc9c0\uc758 \uc784\ubca0\ub529\uc758 \ud3c9\uade0\uc744 \uacc4\uc0b0\n        averaged_embeddings[batch_index, sequence_position] = torch.mean(\n            previous_embeddings,\n            dim=0\n        )\n</code></pre> <p>\uc774 \uacfc\uc815\uc5d0\uc11c \uac01 \uc2dc\ud000\uc2a4\uc758 \uc815\ubcf4\ub97c \uc555\ucd95\ud574 \ub2e4\uc74c \uc2dc\ud000\uc2a4\ub85c \uc804\ub2ec\ud560 \uc218 \uc788\ub2e4. \uc784\ubca0\ub529\uc758 \uc911\uc694\uc131\uc774 \uc5ec\uae30\uc11c \ub4dc\ub7ec\ub09c\ub2e4. \uc784\ubca0\ub529\uc740 \ub2e8\uc5b4\ub098 \ubb38\uc790\ub97c \uc22b\uc790 \ubca1\ud130\ub85c \ud45c\ud604\ud558\ub294 \ubc29\ubc95\uc774\ub2e4. \uc655\uc744 \ub098\ud0c0\ub0b4\ub294 \uc785\ubca0\ub529\uacfc \uc5ec\uc790\ub97c \ub098\ud0c0\ub0b4\ub294 \uc784\ubca0\ub529\uc744 \ub354\ud558\uba74 \uc5ec\uc655\uc758 \uc784\ubca0\ub529\uc774 \ub098\uc624\ub294 \uac83\uc744 \uc758\ubbf8\ud55c\ub2e4. \uc774\ub7ec\ud55c \uc784\ubca0\ub529 \ubca1\ud130\ub4e4\uc758 \ud3c9\uade0\uc744 \uc0ac\uc6a9\ud558\uba74 \uc774\uc804 \uc815\ubcf4\uc758 \ud2b9\uc131\uc744 \ud6a8\uacfc\uc801\uc73c\ub85c \uc694\uc57d\ud560 \uc218 \uc788\ub2e4. \uc2dc\ud000\uc2a4 \ub0b4 \uac01 \uc2dc\uc810\uc5d0\uc11c \uc774\uc804\uc758 \ubaa8\ub4e0 \ubb38\uc790\uc758 \uc815\ubcf4\ub97c \ubaa8\uc544 \ud3c9\uade0\uc744 \uacc4\uc0b0\ud568\uc73c\ub85c\uc368 \uc815\ubcf4\ub97c \uc9d1\uacc4\ud558\uace0 \ubb38\ub9e5\uc744 \ubc18\uc601\ud55c\ub2e4. </p> <p>\uc608\ub97c \ub4e4\uc5b4, \"\ub098\ub294 \ud559\uad50\uc5d0 \uac04\ub2e4\"\ub77c\ub294 \ubb38\uc7a5\uc5d0\uc11c '\uac04\ub2e4'\ub97c \ud574\uc11d\ud560 \ub54c \uc774\uc804 \ub2e8\uc5b4\ub4e4\uc758 \uc784\ubca0\ub529 \ubca1\ud130\uc758 \ud3c9\uade0\uc740 '\ub098', '\ub294', '\ud559\uad50', '\uc5d0'\uc758 \uc758\ubbf8\ub97c \ud3ec\ud568\ud55c \uc0c8\ub85c\uc6b4 \ubca1\ud130\uac00 \ub41c\ub2e4. \uc774 \ud3c9\uade0 \ubca1\ud130\ub294 \ubb38\uc7a5\uc758 \uc804\ubc18\uc801\uc778 \ubb38\ub9e5\uc744 \ub098\ud0c0\ub0b4\uba70, \ubaa8\ub378\uc774 '\uac04\ub2e4'\uc640 \uac19\uc740 \ub2e4\uc74c \ub2e8\uc5b4\ub97c \ub354 \uc815\ud655\ud558\uac8c \uc608\uce21\ud558\uac70\ub098 \uc774\ud574\ud558\ub294 \ub370 \ub3c4\uc6c0\uc744 \uc900\ub2e4.</p> <p>\uc774 \ubc29\ubc95\uc740 \uac04\ub2e8\ud558\uc9c0\ub9cc \uc2dc\ud000\uc2a4 \ub0b4\uc5d0\uc11c \uc774\uc804 \uc815\ubcf4\ub97c \ud604\uc7ac\uc5d0 \ud6a8\uacfc\uc801\uc73c\ub85c \uc804\ub2ec\ud558\ub294 \ubc29\ubc95\uc73c\ub85c \uc0ac\uc6a9\ub41c\ub2e4.</p> <p><code>averaged_embeddings[0]</code> \uc758 \uac12\uc740 \uc2dc\ud000\uc2a4\uac00 \uc99d\uac00\ud568\uc5d0 \ub530\ub77c \ubcc0\ud654\ud55c\ub2e4. \ud558\uc9c0\ub9cc for \ubb38\uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc740 \uc2dc\uac04 \ubcf5\uc7a1\ub3c4 \ubb38\uc81c\ub85c \uc778\ud574 \ud6a8\uc728\uc801\uc774\uc9c0 \uc54a\ub2e4. \ub300\uc2e0 \ud589\ub82c\uacf1\uc744 \ud65c\uc6a9\ud574 \uc774 \uacfc\uc815\uc744 \ub354\uc6b1 \uac04\ub2e8\ud558\uace0 \ud6a8\uc728\uc801\uc73c\ub85c \uc218\ud589\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"D.%20AI/GPT%20%EB%AA%A8%EB%8D%B8%20%EB%A7%8C%EB%93%A4%EA%B8%B0%282%29/#_3","title":"\uc140\ud504 \uc5b4\ud150\uc158\uc774\ub780?","text":"<p>\uc2dc\ud000\uc2a4\uac00 \uc99d\uac00\ud558\uba74\uc11c \uc758\ubbf8 \uc815\ubcf4\ub97c \uc5b4\ub5bb\uac8c \uc804\ub2ec\ud560 \uc218 \uc788\ub294\uc9c0 \uc54c\uc544\ubd24\uace0 \ub9c8\uc2a4\ud06c\ub97c \uc0ac\uc6a9\ud574 \ubaa8\ub378\uc774 \uc911\uc694\ud55c \uc815\ubcf4\uc5d0 \uc9d1\uc911\ud560 \uc218 \uc788\uac8c \ud558\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubd24\ub2e4.</p> <p>\uc774\uc81c \ubcf8\uaca9\uc801\uc73c\ub85c \uc140\ud504 \uc5b4\ud150\uc158\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\uaca0\ub2e4. \uc140\ud504 \uc5b4\ud150\uc158\uc740 \uc785\ub825 \uc2dc\ud000\uc2a4(\ubb38\uc7a5)\ub0b4 \ubaa8\ub4e0 \ub2e8\uc5b4 \uac04\uc758 \uad00\uacc4\ub97c \uc9c1\uc811 \ubd84\uc11d\ud558\uace0 \ucc98\ub9ac\ud55c\ub2e4.</p> <p>\uc774 \uacfc\uc815\uc5d0\uc11c \uac01 \ub2e8\uc5b4\uac00 \ub2e4\ub978 \ubaa8\ub4e0 \ub2e8\uc5b4\uc640 \uc5b4\ub5bb\uac8c \uc0c1\ud638\uc791\uc6a9\ud558\ub294\uc9c0 \uacc4\uc0b0\ud558\uba70, \ub2e8\uc5b4\ub4e4 \uac04\uc758 \uc720\uc0ac\ub3c4\ub97c \uce21\uc815\ud574 \uc5f0\uad00\uc131 \ub192\uc740 \ub2e8\uc5b4 \uc30d\uc744 \ud30c\uc545\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574 \ubb38\uc7a5 \ub0b4 \ub2e8\uc5b4\ub4e4 \uc0ac\uc774\uc758 \ubcf5\uc7a1\ud55c \uc5f0\uad00\uc131\uc744 \ud3ec\ucc29\ud558\uace0 \uc774\ud574\ud55c\ub2e4.</p> <p>\uc785\ub825 \uc2dc\ud000\uc2a4(\ubb38\uc7a5)\ub97c \ucffc\ub9ac(Query, Q), \ud0a4(Key, K), \ubc38\ub958(Value, V) \uc138 \uac1c\ub85c \ubcf5\uc0ac\ud55c\ub2e4. Query\ub294 \uc9c8\ubb38\ud558\ub294 \uc5ed\ud560\uc744 \ud558\ub294 \ubb38\uc7a5\uc73c\ub85c \uc0dd\uac01\ud558\uba74 \ub41c\ub2e4.</p> <ul> <li>Key\ub294 Query\uac00 \ud55c \uc9c8\ubb38\uc5d0 \ub2f5\ubcc0\ud558\ub294 \uc5ed\ud560\uc744 \ud558\ub294 \ubb38\uc7a5\uc774\ub2e4. Value\ub294 \uc2e4\uc81c \uc804\ub2ec\ub418\ub294 \uc815\ubcf4\ub97c \ub098\ud0c0\ub0b8\ub2e4.</li> <li>Query\uc758 \uc9c8\ubb38\uc774 \ud589\ub82c\ub85c \ub4e4\uc5b4\uc624\ubbc0\ub85c Key\ub294 \ud589\ub82c \uc5f0\uc0b0\uc744 \uc704\ud574 \uc804\uce58(Transpose)\ub418\uace0 \ud589\ub82c \uc5f0\uc0b0\uc774 \uc9c4\ud589\ub41c\ub2e4. \uc774 \uacfc\uc815\uc5d0\uc11c Query\uc640 Key\uc758 \uad00\ub828\uc131\uc744 \uacc4\uc0b0\ud55c\ub2e4. \ud589\ub82c \uc5f0\uc0b0\uc73c\ub85c tensor\uc758 \ud06c\uae30\uac00 \ubcc0\uacbd\ub418\ub294\ub370, \uc774\ub97c \ub2e4\uc2dc \ubcf5\uc6d0\ud558\uae30 \uc704\ud574 Value\uc640 \uc5f0\uc0b0\uc744 \uc9c4\ud589\ud55c\ub2e4.</li> <li>\ub610\ud55c, Value\ub294 Query\uc640 Key\uc758 \uad00\ub828\uc131\uc5d0 \ub530\ub77c \uac00\uc911\uce58\uac00 \ubd80\uc5ec\ub418\uc5b4 \ucd5c\uc885 \ucd9c\ub825\uc744 \uc0dd\uc131\ud558\ub294 \ub370 \uc0ac\uc6a9\ub41c\ub2e4.</li> </ul> <p>\uacb0\uacfc\uc801\uc73c\ub85c \uac01</p>"},{"location":"D.%20AI/KoBERT/","title":"KoBERT","text":"<p>KoBERT\ub294 BERT \ubaa8\ub378\uc5d0\uc11c \ud55c\uad6d\uc5b4 \ub370\uc774\ud130\ub97c \ucd94\uac00\ub85c \ud559\uc2b5\uc2dc\ud0a8 \ubaa8\ub378\ub85c, \ud55c\uad6d\uc5b4 \uc704\ud0a4\uc5d0\uc11c 5\ubc31\ub9cc\uac1c\uc758 \ubb38\uc7a5\uacfc 54\ubc31\ub9cc\uac1c\uc758 \ub2e8\uc5b4\ub97c \ud559\uc2b5\uc2dc\ud0a8 \ubaa8\ub378\uc774\ub2e4. \ub530\ub77c\uc11c \ud55c\uad6d\uc5b4 \ub370\uc774\ud130\uc5d0 \ub300\ud574\uc11c\ub3c4 \ub192\uc740 \uc815\ud655\ub3c4\ub97c \ub0bc \uc218 \uc788\ub2e4\uace0 \ud55c\ub2e4.</p> <p>\uc774\ub7ec\ud55c BERT\uc758 \ud070 \ud2b9\uc9d5\uc740 \ubc29\ub300\ud55c \uc591\uc758 \ub370\uc774\ud130(\uc57d 33\uc5b5\uac1c \ub2e8\uc5b4)\ub85c \uba3c\uc800 \ud559\uc2b5(pretrain)\ub418\uc5c8\ub2e4\ub294 \uac83\uacfc, \uc790\uc2e0\uc758 \uc0ac\uc6a9 \ubaa9\uc801\uc5d0 \ub530\ub77c \ud30c\uc778\ud29c\ub2dd(finetuning)\uc774 \uac00\ub2a5\ud558\ub2e4\ub294 \uc810\uc774\ub2e4. \ub530\ub77c\uc11c output layer\ub9cc \ucd94\uac00\ub85c \ub2ec\uc544\uc8fc\uba74 \uc6d0\ud558\ub294 \uacb0\uacfc\ub97c \ucd9c\ub825\ud574\ub0b4\ub294 \uae30\uacc4\ubc88\uc5ed \ubaa8\ub378\uc744 \ub9cc\ub4e4\uc5b4 \ub0bc \uc218 \uc788\ub2e4.</p> <pre><code>class BERTDataset(Dataset):\n    def __init__(self, dataset, sent_idx, label_idx, bert_tokenizer, max_len,\n                 pad, pair):\n        transform = nlp.data.BERTSentenceTransform(\n            bert_tokenizer, max_seq_length=max_len, pad=pad, pair=pair)\n\n        self.sentences = [transform([i[sent_idx]]) for i in dataset]\n        self.labels = [np.int32(i[label_idx]) for i in dataset]\n\n    def __getitem__(self, i):\n        return (self.sentences[i] + (self.labels[i], ))\n\n    def __len__(self):\n        return (len(self.labels))\n</code></pre> <p>\ud558\uc774\ud37c \ud30c\ub77c\ubbf8\ud130\ub4e4\uc744 \uc870\uc815\ud574\uc900\ub2e4.</p> <pre><code># Setting parameters\nmax_len = 64\nbatch_size = 64\nwarmup_ratio = 0.1\nnum_epochs = 5\nmax_grad_norm = 1\nlog_interval = 200\nlearning_rate =  5e-5\n</code></pre> <p>\uc774\uc81c \ubc84\ud2b8\ud1a0\ud06c\ub098\uc774\uc800\uc640 \uc704\uc5d0\uc11c \uc815\uc758\ud55c \ud074\ub798\uc2a4\ub97c \uc801\uc6a9\ud574 \ud1a0\ud070\ud654\uc640 \ud328\ub529\uc744 \ud574\uc900\ub2e4.</p> <pre><code>#\ud1a0\ud070\ud654\ntokenizer = get_tokenizer()\ntok = nlp.data.BERTSPTokenizer(tokenizer, vocab, lower=False)\n\ndata_train = BERTDataset(dataset_train, 0, 1, tok, max_len, True, False)\ndata_test = BERTDataset(dataset_test, 0, 1, tok, max_len, True, False)\n</code></pre> <p>print(data_train[0]) \uc2e4\ud589</p> <pre><code>(array([   2, 1189,  517, 6188, 7245, 7063,  517,  463, 3486, 7836, 5966,\n        1698,  517, 6188, 7245, 7063,  517,  463, 1281, 7870, 1801, 6885,\n        7088, 5966, 1698, 5837, 5837,  517, 6188, 7245, 6398, 6037, 7063,\n         517,  463,  517,  463,  517,  364,  517,  364,    3,    1,    1,\n           1,    1,    1,    1,    1,    1,    1,    1,    1,    1,    1,\n           1,    1,    1,    1,    1,    1,    1,    1,    1], dtype=int32),\n array(42, dtype=int32),\n\n array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n       dtype=int32), 5)\n</code></pre> <p>\ucd9c\ub825\uac12\ub4e4\uc744 \ubcf4\uba74 3\uac1c\uc758 array\uac00 \ucd9c\ub825\ub418\ub294\ub370,  \uccab \ubc88\uc9f8\ub294 \ud328\ub529\ub41c \uc2dc\ud000\uc2a4,  \ub450 \ubc88\uc9f8\ub294 \uae38\uc774\uc640 \ud0c0\uc785\uc5d0 \ub300\ud55c \ub0b4\uc6a9,  \uc138 \ubc88\uc7ac\ub294 \uc5b4\ud150\uc158 \ub9c8\uc2a4\ud06c \uc2dc\ud000\uc2a4\uc774\ub2e4.</p> <p>\uc5b4\ud150\uc158 \ub9c8\uc2a4\ud06c\ub294 BERT\uc5d0 \ub370\uc774\ud130\uac00 \uc785\ub825\ub418\uc5c8\uc744 \ub54c \uc5b4\ud150\uc158 \ud568\uc218\uac00 \uc801\uc6a9\ub418\uc5b4 \uc5f0\uc0b0\uc774 \ub41c\ub2e4. \uc774\ub54c 1\ub85c \ud328\ub529\ub41c \uac12\ub4e4\uc740 \uc5f0\uc0b0\ud560 \ud544\uc694\uac00 \uc5c6\uae30 \ub54c\ubb38\uc5d0 \uc5f0\uc0b0\uc744 \ud558\uc9c0 \uc54a\uc544\ub3c4 \ub41c\ub2e4\uace0 \uc54c\ub824\uc8fc\ub294 \ub370\uc774\ud130\uac00 \uc788\uc5b4\uc57c \ud558\ub294\ub370 \uadf8\uac8c \ubc14\ub85c \uc5b4\ud150\uc158 \ub9c8\uc2a4\ud06c \uc2dc\ud000\uc2a4\uc778 \uac83\uc774\ub2e4. \uc774\ub807\uac8c BERT\ub098 KoBERT\uc5d0\ub294 \uc5b4\ud150\uc158 \ub9c8\uc2a4\ud06c \ub370\uc774\ud130\ub3c4 \ud568\uaed8 \uc785\ub825\ub418\uc5b4\uc57c \ud55c\ub2e4</p> <p>torch \ud615\uc2dd\uc758 dataset\uc744 \ub9cc\ub4e4\uc5b4\uc900\ub2e4.</p> <pre><code>train_dataloader = torch.utils.data.DataLoader(data_train, batch_size=batch_size, num_workers=5)\ntest_dataloader = torch.utils.data.DataLoader(data_test, batch_size=batch_size, num_workers=5)\n</code></pre>"},{"location":"D.%20AI/KoBERT/#kobert","title":"KoBERT \ud559\uc2b5\ubaa8\ub378 \ub9cc\ub4e4\uae30","text":"<p>\ud559\uc2b5\uc2dc\ud0ac KoBERT \ubaa8\ub378\uc744 \ub9cc\ub4e4\uc5b4\uc57c \ud558\ub294\ub370, \uc544\ub798 \ucf54\ub4dc\uc5d0\uc11c \ub2e4\uc911\ubd84\ub958\ud560 \ud074\ub798\uc2a4 \uc218 \ub9cc\ud07c num_classes \ubcc0\uc218\ub97c \uc218\uc815\ud574\uc8fc\uc5b4\uc57c \ud55c\ub2e4. \uc774\ubc88 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 7\uac00\uc9c0\uc758 class\ub97c \ubd84\ub958\ud558\uae30 \ub54c\ubb38\uc5d0 7\ub85c \uc785\ub825\ud574\uc8fc\uc5c8\ub2e4.</p> <pre><code>class BERTClassifier(nn.Module):\n    def __init__(self,\n                 bert,\n                 hidden_size = 768,\n                 num_classes=7,   ##\ud074\ub798\uc2a4 \uc218 \uc870\uc815##\n                 dr_rate=None,\n                 params=None):\n        super(BERTClassifier, self).__init__()\n        self.bert = bert\n        self.dr_rate = dr_rate\n\n        self.classifier = nn.Linear(hidden_size , num_classes)\n        if dr_rate:\n            self.dropout = nn.Dropout(p=dr_rate)\n\n    def gen_attention_mask(self, token_ids, valid_length):\n        attention_mask = torch.zeros_like(token_ids)\n        for i, v in enumerate(valid_length):\n            attention_mask[i][:v] = 1\n        return attention_mask.float()\n\n    def forward(self, token_ids, valid_length, segment_ids):\n        attention_mask = self.gen_attention_mask(token_ids, valid_length)\n\n        _, pooler = self.bert(input_ids = token_ids, token_type_ids = segment_ids.long(), attention_mask = attention_mask.float().to(token_ids.device))\n        if self.dr_rate:\n            out = self.dropout(pooler)\n        return self.classifier(out)\n</code></pre> <pre><code>#BERT \ubaa8\ub378 \ubd88\ub7ec\uc624\uae30\nmodel = BERTClassifier(bertmodel,  dr_rate=0.5).to(device)\n\n#optimizer\uc640 schedule \uc124\uc815\nno_decay = ['bias', 'LayerNorm.weight']\noptimizer_grouped_parameters = [\n    {'params': [p for n, p in model.named_parameters() if not any(nd in n for nd in no_decay)], 'weight_decay': 0.01},\n    {'params': [p for n, p in model.named_parameters() if any(nd in n for nd in no_decay)], 'weight_decay': 0.0}\n]\n\noptimizer = AdamW(optimizer_grouped_parameters, lr=learning_rate)\nloss_fn = nn.CrossEntropyLoss()\n\nt_total = len(train_dataloader) * num_epochs\nwarmup_step = int(t_total * warmup_ratio)\n\nscheduler = get_cosine_schedule_with_warmup(optimizer, num_warmup_steps=warmup_step, num_training_steps=t_total)\n\n#\uc815\ud655\ub3c4 \uce21\uc815\uc744 \uc704\ud55c \ud568\uc218 \uc815\uc758\ndef calc_accuracy(X,Y):\n    max_vals, max_indices = torch.max(X, 1)\n    train_acc = (max_indices == Y).sum().data.cpu().numpy()/max_indices.size()[0]\n    return train_acc\n\ntrain_dataloader\n</code></pre>"},{"location":"D.%20AI/KoBERT/#6kobert","title":"6.KoBERT \ubaa8\ub378 \ud559\uc2b5\uc2dc\ud0a4\uae30","text":"<p>\ud559\uc2b5 \ub370\uc774\ud130\uc14b\uacfc \ud559\uc2b5 \ubaa8\ub378 \uc900\ube44\uac00 \ub2e4 \ub05d\ub0ac\ub2e4\uba74 \uc774\uc81c \uc544\ub798 \ucf54\ub4dc \uc2e4\ud589\uc744 \ud1b5\ud574 KoBERT \ubaa8\ub378\uc744 \ud559\uc2b5\uc2dc\ucf1c\uc900\ub2e4.</p> <pre><code>for e in range(num_epochs):\n    train_acc = 0.0\n    test_acc = 0.0\n    model.train()\n    for batch_id, (token_ids, valid_length, segment_ids, label) in enumerate(tqdm_notebook(train_dataloader)):\n        optimizer.zero_grad()\n        token_ids = token_ids.long().to(device)\n        segment_ids = segment_ids.long().to(device)\n        valid_length= valid_length\n        label = label.long().to(device)\n        out = model(token_ids, valid_length, segment_ids)\n        loss = loss_fn(out, label)\n        loss.backward()\n        torch.nn.utils.clip_grad_norm_(model.parameters(), max_grad_norm)\n        optimizer.step()\n        scheduler.step()  # Update learning rate schedule\n        train_acc += calc_accuracy(out, label)\n        if batch_id % log_interval == 0:\n            print(\"epoch {} batch id {} loss {} train acc {}\".format(e+1, batch_id+1, loss.data.cpu().numpy(), train_acc / (batch_id+1)))\n    print(\"epoch {} train acc {}\".format(e+1, train_acc / (batch_id+1)))\n\n    model.eval()\n    for batch_id, (token_ids, valid_length, segment_ids, label) in enumerate(tqdm_notebook(test_dataloader)):\n        token_ids = token_ids.long().to(device)\n        segment_ids = segment_ids.long().to(device)\n        valid_length= valid_length\n        label = label.long().to(device)\n        out = model(token_ids, valid_length, segment_ids)\n        test_acc += calc_accuracy(out, label)\n    print(\"epoch {} test acc {}\".format(e+1, test_acc / (batch_id+1)))\n</code></pre>"},{"location":"D.%20AI/Qwen3-embedding/","title":"Qwen3 embedding","text":""},{"location":"D.%20AI/Qwen3-embedding/#_1","title":"\uc778\ucf54\ub354 \uae30\ubc18\uc774 \uc544\ub2cc\ub370\ub3c4 \uc798\ud558\ub294 \uc774\uc720","text":""},{"location":"D.%20AI/Qwen3-embedding/#decoder-eos","title":"Decoder \uc544\ud0a4\ud14d\ucc98 \ud65c\uc6a9 + [EOS] \ubca1\ud130","text":"<p>Qwen3 \uae30\ubc18 \ub514\ucf54\ub354 \uad6c\uc870 \uc704\uc5d0, \ubb38\uc7a5 \ub05d\uc758 <code>[EOS]</code> \ud1a0\ud070 \ub9c8\uc9c0\ub9c9 \ud788\ub4e0 \uc2a4\ud14c\uc774\ud2b8\ub97c \ubc14\ub85c \uc784\ubca0\ub529\uc73c\ub85c \uc0ac\uc6a9.</p> <p>\uc774\ub807\uac8c \ud558\ub2c8 LLM\uc758 \ud48d\ubd80\ud55c \uc5b8\uc5b4 \uc774\ud574 \ub2a5\ub825\uc744 \uc784\ubca0\ub529\uc73c\ub85c \uadf8\ub300\ub85c \ud761\uc218\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\uac8c \ubb34\uc2a8 \ub9d0\uc774\ub0d0?</p>"},{"location":"D.%20AI/Qwen3-embedding/#1","title":"1. \uba3c\uc800 \ud1a0\ud070,\ud788\ub4e0 \uc2a4\ud14c\uc774\ud2b8, \uc784\ubca0\ub529\uc774 \ubb54\ub370?","text":"\uc6a9\uc5b4 \uc124\uba85 \ud1a0\ud070(token) \ubb38\uc7a5\uc744 \uc798\uac8c \uc790\ub978 \ub2e8\uc5b4 \uc870\uac01 \ud788\ub4e0 \uc2a4\ud14c\uc774\ud2b8(hidden state) \ubaa8\ub378\uc774 \uac01 \ud1a0\ud070\uc744 \ubcf4\uace0 \uacc4\uc0b0\ud55c \uba38\ub9bf\uc18d \uc0c1\ud0dc\ud45c \uc784\ubca0\ub529(embedding) \ubb38\uc7a5\u00b7\ub2e8\uc5b4\ub97c \uace0\uc815 \uae38\uc774 \uc22b\uc790 \ubca1\ud130\ub85c \ubc14\uafbc \uc88c\ud45c"},{"location":"D.%20AI/Qwen3-embedding/#2","title":"2. \ub514\ucf54\ub354\ub294 \uc5b4\ub5bb\uac8c \uc77d\uace0 \uc4f0\ub098?","text":"<ol> <li>\ud1a0\ud070\uc744 \uc67c\ucabd -&gt; \uc624\ub978\ucabd \uc21c\uc11c\ub85c \ud55c \uac1c\uc529 \ub123\uc73c\uba74\uc11c \ub2e4\uc74c \ud1a0\ud070\uc744 \uc608\uce21</li> <li>\ub9e4 \uc2a4\ud15d\ub9c8\ub2e4 \"\uc9c0\uae08\uae4c\uc9c0 \ubcf8 \ubaa8\ub4e0 \ub2e8\uc5b4\ub97c \uc694\uc57d\ud55c \ubca1\ud130\"(\ud788\ub4e0 \uc2a4\ud14c\uc774\ud2b8)\uac00 \uc0dd\uae40</li> </ol> <p>\uc989, \ub9c8\uc9c0\ub9c9 \uc2a4\ud15d(\ubb38\uc7a5 \ub05d <code>[EOS]</code>) \uc5d0\uc11c \uacc4\uc0b0\ub41c \ud788\ub4e0 \uc2a4\ud14c\uc774\ud2b8\uc5d4  - \uc55e\uc758 \ubaa8\ub4e0 \ub2e8\uc5b4 \uc815\ubcf4 - \ubb38\uc7a5 \uc804\uccb4 \ub9e5\ub77d \uc774 \uc555\ucd95\ub418\uc5b4 \ub4e4\uc5b4\uac00 \uc788\ub2e4.</p>"},{"location":"D.%20AI/Qwen3-embedding/#3-qwen3-embedding","title":"3. Qwen3-Embedding \uc740 \uc774\uac78 \uc774\ub807\uac8c \ud65c\uc6a9","text":"<p>\"\ub2e4\ub978 \ubcf5\uc7a1\ud55c \ud6c4\ucc98\ub9ac \ub9d0\uace0, \ub9c8\uc9c0\ub9c9[EOS] \ud788\ub4e0 \uc2a4\ud14c\uc774\ud2b8 -&gt; \ubc14\ub85c \uc784\ubca0\ub529\uc73c\ub85c \uc4f0\uba74 \ub418\uc9c0 \uc54a\ub098?\"</p> <p>\uc804\uccb4 \ubb38\ub9e5\uc744 \uc774\ubbf8 \ub2f4\uace0 \uc788\uc73c\ub2c8 \ubb38\uc7a5 \ub300\ud45c\uac12\uc73c\ub85c \ucda9\ubd84 \ucd94\uac00 \ub808\uc774\uc5b4(\ud480\ub9c1, \uc120\ud615 \ubcc0\ud658 \ub4f1) \uc5c6\uc774 \ube60\ub974\uace0 \ub2e8\uc21c \uac70\ub300\ud55c LLM\uc774 \ud559\uc2b5\ud55c \uc5b8\uc5b4 \uc774\ud574\ub825\uc744 \uadf8\ub300\ub85c \uc784\ubca0\ub529\uc5d0 \ud22c\uc785</p>"},{"location":"D.%20AI/Qwen3-embedding/#4","title":"4. \ud559\uc2b5\uc740 \uc5b4\ub5bb\uac8c \ud588\ub098?","text":"<ol> <li>\ud569\uc131 \ub370\uc774\ud130\ub85c \uc608\uc5f4<ul> <li>Qwen3 LLM\uc774 \uc2a4\uc2a4\ub85c \ubb38\uc7a5 \uc30d(\uc9c8\ubb38-\ub2f5\ubcc0, \uc720\uc0ac.\ube44\uc720\uc0ac \ubb38\uc7a5 \ub4f1 )\uc744 \uc218\uc5b5 \uac1c \uc0dd\uc131 -&gt; \"\ube44\uc2b7\ud55c \uac74 \uac00\uae5d\uac8c, \ub2e4\ub978 \uac74 \uba40\uac8c\"\ub77c\ub294 \ub300\ube44/\ub300\uc870 \ud559\uc2b5(contrastive) \uc218\ud589.</li> <li>\uc0ac\ub78c \ub77c\ubca8\uc774 \ubd80\uc871\ud574\ub3c4 \uc800\ub834\ud558\uac8c \ubc29\ub300\ud55c \ud328\ud134\uc744 \ud559\uc2b5\ud574 \uc5b8\uc5b4.\ub3c4\uba54\uc778 \ubc94\uc6a9\uc131\uc774 \uc0dd\uae40</li> </ul> </li> <li>\uace0\ud488\uc9c8 \uc9c0\ub3c4 \ub370\uc774\ud130\ub85c \ubbf8\uc138 \uc870\uc815<ul> <li>\uc2e4\uc81c \uc0ac\ub78c\uc774 \uac80\uc218\ud55c \uc815\ub2f5 \uc30d(\uc608: \uac80\uc0c9 \ucffc\ub9ac &lt;-&gt; \uc815\ub2f5 \ubb38\uc11c)\uc744 \ud22c\uc785\ud574 \uc815\ubc00\ub3c4(precision) \ud5a5\uc0c1</li> <li>1\ub2e8\uacc4\uc5d0\uc11c \ubc30\uc6b4 \"\ubc30\uc6b4 \ub9de\ub294 \uac10\"\uc5d0 \uc138\ubc00\ud55c \uae30\uc900\uc120\uc744 \uc0c8\uaca8 \ub123\ub294 \uacfc\uc815</li> </ul> </li> <li>\ubaa8\ub378 \uba38\uc9d5(model merging)\uc73c\ub85c \ubcf4\uc815 \uc791\uc5c5<ul> <li>\uc11c\ub85c \ub2e4\ub978 \uccb4\ud06c\ud3ec\uc778\ud2b8\ub97c Slerp(\uac00\uc911\uce58 \ubcf4\uac04) \ubc29\uc2dd\uc73c\ub85c \uc11e\uc74c.</li> <li>\uac01 \ubc84\uc804\uc758 \uc7a5\uc810(\ubc94\uc6a9\uc131, \uc815\ubc00\uc131)\uc744 \ud558\ub098\uc758 \ub124\ud2b8\uc6cc\ud06c\uc5d0 \uade0\ud615 \uc788\uac8c \uc735\ud569 -&gt; \uc7a1\uc74c\uc5d0 \uac15\ud558\uace0 \ubca4\uce58\ub9c8\ud06c \uc804\ubc18\uc5d0\uc11c \uace0\ub978 \uc131\ub2a5</li> </ul> </li> </ol>"},{"location":"D.%20AI/Thompson%20Sampling/","title":"Thompson Sampling","text":"<p>A/B \ud14c\uc2a4\ud2b8, \ucd94\ucc9c \uc2dc\uc2a4\ud15c, \uad11\uace0 \ucd5c\uc801\ud654\ucc98\ub7fc \uc2e4\uc2dc\uac04\uc73c\ub85c \uacb0\uacfc\ub97c \ubcf4\uba74\uc11c \"\ubb34\uc5c7\uc774 \ub354 \uc88b\uc744\uae4c?\"\ub97c \ud310\ub2e8\ud574\uc57c \ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc774\ub2e4.</p> <p>\uadf8\ub0e5 \ubb34\uc791\uc704\ub85c \uace0\ub974\uae30\uc5d4 \uc544\uae5d\uace0, \ud55c \uac00\uc9c0\ub9cc \uace0\uc9d1\ud558\uae30\uc5d4 \ubd88\ud655\uc2e4\ud558\ub2e4.</p> <p>\uc774\ub7f4 \ub54c \uc720\uc6a9\ud558\uac8c \uc4f0\uc774\ub294 \ubc29\ubc95\uc774 \ubc14\ub85c Thompson Sampling\uc774\ub2e4.</p>"},{"location":"D.%20AI/Thompson%20Sampling/#_1","title":"\ud575\uc2ec \uac1c\ub150 \ud55c \uc904 \uc694\uc57d","text":"<p>\ud655\ub960\uc801\uc73c\ub85c \uc798 \ub420 \uac83 \uac19\uc740 \uc120\ud0dd\uc9c0\ub97c \uace0\ub978\ub2e4.</p> <p>Thompson Sampling\uc740 \ubca0\uc774\uc9c0\uc548 \ud655\ub960 \ubaa8\ub378\uc744 \uc774\uc6a9\ud574\uc11c, \uc5ec\ub7ec \uc120\ud0dd\uc9c0 \uc911\uc5d0\uc11c \uc131\uacf5 \ud655\ub960\uc774 \ub192\uc544 \ubcf4\uc774\ub294 \uac83\uc744 \ubb34\uc791\uc704\ub85c \ubf51\uc544 \uc2e4\ud5d8\ud558\uace0, \uacb0\uacfc\ub97c \ubc18\uc601\ud574 \uc810\uc810 \ub354 \uc88b\uc740 \uc120\ud0dd\uc744 \ud560 \uc218 \uc788\ub3c4\ub85d \ub3d5\ub294 \ubc29\uc2dd\uc774\ub2e4.</p>"},{"location":"D.%20AI/Thompson%20Sampling/#multi-armed-bandit","title":"\uc608\uc2dc: \uc2ac\ub86f\uba38\uc2e0 \uac8c\uc784 (Multi-Armed Bandit \ubb38\uc81c)","text":"<p>\ub2f9\uc2e0 \uc55e\uc5d0 \uc2ac\ub86f\uba38\uc2e0(\ubf51\uae30 \uae30\uacc4)\uc774 3\ub300 \uc788\ub2e4.</p> <ul> <li>A \uc2ac\ub86f\uba38\uc2e0: \uc131\uacf5\ub960 10%</li> <li>B \uc2ac\ub86f\uba38\uc2e0: \uc131\uacf5\ub960 30%</li> <li>C \uc2ac\ub86f\uba38\uc2e0: \uc131\uacf5\ub960 50%</li> </ul> <p>\ud558\uc9c0\ub9cc \ub2f9\uc2e0\uc740 \uc774 \ud655\ub960\ub4e4\uc744 \ubaa8\ub978\ub2e4. \ub2f9\ucca8/\uc2e4\ud328 \uacb0\uacfc\ub97c \ubcf4\uba74\uc11c, \uc810\uc810 \ub354 \ub098\uc740 \uc120\ud0dd\uc744 \ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"D.%20AI/Thompson%20Sampling/#thompson-sampling","title":"Thompson Sampling \ub3d9\uc791 \ubc29\uc2dd","text":"<ol> <li>\uac01 \uc120\ud0dd\uc9c0(arm)\uc5d0 \ub300\ud574 \uc131\uacf5\ub960\uc744 \ucd94\uc815\ud558\ub294 \ubd84\ud3ec\ub97c \ucd08\uae30\ud654\ud55c\ub2e4.<ul> <li>\ucd08\uae30\uc5d0\ub294 \ubaa8\ub450 <code>Beta(1, 1)</code>\ub85c \uc2dc\uc791\ud55c\ub2e4. (\uc644\uc804 \ub79c\ub364\ud55c \uc0c1\ud0dc)</li> </ul> </li> <li>\uac01 \uc120\ud0dd\uc9c0\uc5d0\uc11c \ud558\ub098\uc529 \ud655\ub960 \uac12\uc744 \uc0d8\ud50c\ub9c1\ud55c\ub2e4.<ul> <li>\uc608: A=0.12, B=0.37, C=0.42</li> </ul> </li> <li> <p>\uac00\uc7a5 \ub192\uc740 \uac12\uc744 \uac00\uc9c4 \uc120\ud0dd\uc9c0\ub97c \uc120\ud0dd\ud55c\ub2e4.</p> </li> <li> <p>\uacb0\uacfc\uc5d0 \ub530\ub77c \ubd84\ud3ec\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4.</p> <ul> <li>\uc131\uacf5 \uc2dc: \u03b1 (\uc131\uacf5 \ud69f\uc218) += 1</li> <li>\uc2e4\ud328 \uc2dc: \u03b2 (\uc2e4\ud328 \ud69f\uc218) += 1</li> </ul> </li> <li>\uc774 \uacfc\uc815\uc744 \ubc18\ubcf5\ud558\uba74\uc11c, \uc798 \ub418\ub294 \uc120\ud0dd\uc9c0\ub294 \ub354 \uc790\uc8fc \ubf51\ud788\uace0, \ud655\uc2e0 \uc5c6\ub294 \uc120\ud0dd\uc9c0\ub294 \uac00\ub054\uc529 \ud0d0\uc0c9\ud55c\ub2e4.</li> </ol>"},{"location":"D.%20AI/Thompson%20Sampling/#beta","title":"Beta \ubd84\ud3ec\ub780?","text":"<p><code>Beta(\u03b1, \u03b2)</code>\ub294 \"\uc774 \uc120\ud0dd\uc9c0\ub294 \uc131\uacf5\ub960\uc774 \uc774 \uc815\ub3c4\uc77c \uac83\uc774\ub2e4\"\ub77c\ub294 \ubbff\uc74c\uc744 \ub098\ud0c0\ub0b8\ub2e4.</p> <ul> <li>\u03b1: \uc131\uacf5\ud55c \ud69f\uc218 + 1</li> <li>\u03b2: \uc2e4\ud328\ud55c \ud69f\uc218 + 1</li> </ul> <p>\uc608\ub97c \ub4e4\uc5b4, \uc5b4\ub5a4 \ubc84\ud2bc\uc774 3\ubc88 \uc131\uacf5\ud558\uace0 2\ubc88 \uc2e4\ud328\ud588\ub2e4\uba74 \u2192 <code>Beta(4, 3)</code> \uc0d8\ud50c\ub9c1\uc744 \ud1b5\ud574 \"\uc774 \ubc84\ud2bc\uc758 \uc2e4\uc81c \ud074\ub9ad\ub960\uc774 \uc5bc\ub9c8\uc77c\uae4c?\"\ub97c \uacc4\uc18d \ucd94\uc815\ud558\ub294 \uac70\ub2e4.</p>"},{"location":"D.%20AI/Thompson%20Sampling/#_2","title":"\ud0d0\uc0c9\uacfc \ud65c\uc6a9\uc758 \uade0\ud615","text":"<p>Thompson Sampling\uc758 \uac00\uc7a5 \ud070 \ud2b9\uc9d5\uc740, \ud0d0\uc0c9(explore)\uacfc \ud65c\uc6a9(exploit) \uc0ac\uc774\uc758 \uade0\ud615\uc744 \uc790\ub3d9\uc73c\ub85c \ub9de\ucdb0\uc900\ub2e4\ub294 \uc810\uc774\ub2e4.</p> <ul> <li>\uc544\uc9c1 \uc815\ubcf4\uac00 \ubd80\uc871\ud55c \uc120\ud0dd\uc9c0\ub294 \ubd84\ud3ec\uc758 \ubd84\uc0b0\uc774 \ucee4\uc11c \uc0d8\ud50c\ub9c1 \uac12\uc774 \uc694\ub3d9\uce58\uae30 \ub54c\ubb38\uc5d0 \ud0d0\uc0c9 \ub300\uc0c1\uc774 \ub41c\ub2e4.</li> <li>\uc815\ubcf4\uac00 \ucda9\ubd84\ud788 \uc313\uc778 \uc120\ud0dd\uc9c0\ub294 \ubd84\ud3ec\uac00 \ub0a0\uce74\ub85c\uc6cc\uc838\uc11c \uac70\uc758 \ud655\uc815\uc801\uc73c\ub85c \uc120\ud0dd\ub41c\ub2e4.</li> </ul> <p>\ub530\ub77c\uc11c \ubcc4\ub3c4\uc758 \ud30c\ub77c\ubbf8\ud130 \uc5c6\uc774\ub3c4 \uc790\uc5f0\uc2a4\ub7fd\uac8c \ud6a8\uc728\uc801\uc778 \uc120\ud0dd\uc744 \ud558\uac8c \ub429\ub2c8\ub2e4.</p>"},{"location":"D.%20AI/Thompson%20Sampling/#python","title":"Python \uc758\uc0ac \ucf54\ub4dc \uc608\uc2dc","text":"<pre><code>alpha = [1, 1, 1]  # \uac01 \uc120\ud0dd\uc9c0\uc758 \uc131\uacf5 \ud69f\uc218\nbeta = [1, 1, 1]   # \uac01 \uc120\ud0dd\uc9c0\uc758 \uc2e4\ud328 \ud69f\uc218\n\nfor t in range(1000):\n    sampled_probs = [np.random.beta(a, b) for a, b in zip(alpha, beta)]\n    chosen = np.argmax(sampled_probs)\n\n    reward = pull(chosen)  # \uc2e4\uc81c \ud074\ub9ad \uc5ec\ubd80 (1 \ub610\ub294 0)\n\n    if reward == 1:\n        alpha[chosen] += 1\n    else:\n        beta[chosen] += 1\n</code></pre>"},{"location":"D.%20AI/Thompson%20Sampling/#_3","title":"\uc5b4\ub514\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc744\uae4c?","text":"\ubd84\uc57c \uc608\uc2dc A/B \ud14c\uc2a4\ud2b8 \uc5b4\ub5a4 \ubc84\ud2bc \ub514\uc790\uc778\uc774 \ub354 \ub098\uc740\uac00 \uad11\uace0 \ucd5c\uc801\ud654 \uc5b4\ub5a4 \ubb38\uad6c\uac00 \ud074\ub9ad\ub960\uc774 \ub192\uc740\uac00 \ucd94\ucc9c \uc2dc\uc2a4\ud15c \uc5b4\ub5a4 \uc0c1\ud488\uc744 \uba3c\uc800 \ubcf4\uc5ec\uc904\uae4c \uac8c\uc784 \uc124\uacc4 \uc5b4\ub5a4 \ubcf4\uc0c1\uc774 \ud6a8\uacfc\uc801\uc778\uac00"},{"location":"D.%20AI/Thompson%20Sampling/#_4","title":"\uc7a5\uc810 \uc694\uc57d","text":"<ul> <li>\ud0d0\uc0c9\uacfc \ud65c\uc6a9\uc758 \uade0\ud615\uc744 \uc790\ub3d9\uc73c\ub85c \uc870\uc808</li> <li>\uc218\ud559\uc801\uc73c\ub85c \uc548\uc815\uc131\uacfc \uc131\ub2a5\uc774 \uac80\uc99d\ub428</li> <li>\ucf54\ub4dc \uad6c\ud604\uc774 \uac04\ub2e8\ud568</li> <li>\uc2e4\uc81c \uc11c\ube44\uc2a4\uc5d0\uc11c \uc131\ub2a5\uc774 \uc6b0\uc218\ud568</li> </ul>"},{"location":"D.%20AI/Thompson%20Sampling/#_5","title":"\ub9c8\ubb34\ub9ac","text":"<p>Thompson Sampling\uc740 \"\uc131\uacf5 \ud655\ub960\uc774 \ub192\uc544 \ubcf4\uc774\ub294 \uc120\ud0dd\uc744 \ud655\ub960\uc801\uc73c\ub85c \ubf51\uc544 \uc2e4\ud5d8\ud558\uace0, \uadf8 \uacb0\uacfc\ub97c \ubc18\uc601\ud558\uc5ec \ub354 \ub098\uc740 \uc120\ud0dd\uc73c\ub85c \uc9c4\ud654\ud574\uac00\ub294\" \ubc29\ubc95\uc774\ub2e4.  A/B \ud14c\uc2a4\ud2b8\ub098 \ucd94\ucc9c \uc2dc\uc2a4\ud15c\ucc98\ub7fc \uc0ac\uc6a9\uc790 \ud589\ub3d9\uc744 \uae30\ubc18\uc73c\ub85c \ucd5c\uc801\uc758 \uc120\ud0dd\uc744 \ucc3e\uc544\uc57c \ud560 \ub54c \ub9e4\uc6b0 \uc720\uc6a9\ud55c \uc804\ub7b5\uc774\uba70, \uad6c\ud604\ub3c4 \uac04\ub2e8\ud558\uae30 \ub54c\ubb38\uc5d0 \uc2e4\ubb34\uc5d0 \uc27d\uac8c \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"D.%20AI/Tokenization/","title":"Tokenization","text":"<p>\ucd5c\uadfc \uc778\uacf5\uc9c0\ub2a5 \ubd84\uc57c\uc5d0\uc11c \uc790\uc5f0\uc5b4\ucc98\ub9ac(NLP)\ub294 \ud65c\ubc1c\ud558\uac8c \uc5f0\uad6c\ub418\uace0 \uc788\ub294 \uc601\uc5ed \uc911 \ud558\ub098\uc785\ub2c8\ub2e4.</p> <p>\ud2b9\ud788 Transformer \uad6c\uc870\uc758 \ub4f1\uc7a5\uc73c\ub85c \uc778\ud574 \uc5b8\uc5b4 \ubaa8\ub378\uc758 \uc131\ub2a5\uc774 \ud3ed\ubc1c\uc801\uc73c\ub85c \ubc1c\uc804\ud558\uc600\uace0, \uadf8 \uc911\uc2ec\uc5d0 \uc788\ub294 \ubaa8\ub378 \uc911 \ud558\ub098\uac00 BERT\uc785\ub2c8\ub2e4.</p> <p>\uc774\ubc88 \uc2dc\ub9ac\uc988\uc5d0\uc11c\ub294 \uc790\uc5f0\uc5b4\ucc98\ub9ac\ub97c \ucc98\uc74c \uc811\ud558\ub294 \ubd84\ub4e4\uc744 \uc704\ud574 \ub2e4\uc74c\uacfc \uac19\uc740 \uacfc\uc815\uc744 \uac04\ub2e8\ud788 \uc18c\uac1c\ud569\ub2c8\ub2e4.</p> <p>\uc624\ub298 \ub2e4\ub8f0 \ub0b4\uc6a9\uc740 <code>Tokenization</code> \uc785\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#a","title":"A. \ud1a0\ud070\ud654\uac00 \uc65c \ud544\uc694\ud560\uae4c\uc694?","text":""},{"location":"D.%20AI/Tokenization/#1","title":"1. \ucef4\ud4e8\ud130\ub294 \uae00\uc790\ub97c \uc9c1\uc811 \uc774\ud574\ud558\uc9c0 \ubabb\ud55c\ub2e4.","text":"<p>AI\ub3c4 \uacb0\uad6d \ucef4\ud4e8\ud130 \ud504\ub85c\uadf8\ub7a8\uc774\ub77c \uae00\uc790 \uc790\uccb4\ub97c \uc774\ud574\ud558\uc9c0 \ubabb\ud569\ub2c8\ub2e4.  \ucef4\ud4e8\ud130\ub294 \uc22b\uc790\ub9cc \uc774\ud574\ud558\uc8e0. \ud1a0\ud070\ud654\ub294 \ud14d\uc2a4\ud2b8\ub97c AI\uac00 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \uc22b\uc790\ub85c \ubc14\uafb8\ub294 \uccab \ub2e8\uacc4\uc785\ub2c8\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4, \"\uc548\ub155\ud558\uc138\uc694\"\ub97c \ucef4\ud4e8\ud130\uc5d0\uac8c \uadf8\ub0e5 \uc8fc\uba74 \uc774\ud574\ud558\uc9c0 \ubabb\ud558\uc9c0\ub9cc,  \ud1a0\ud070\ud654\ub97c \ud1b5\ud574 [8275]\uc640 \uac19\uc740 \uc22b\uc790\ub85c \ubc14\uafd4\uc8fc\uba74 \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#2","title":"2. \uc804\uccb4 \uc0ac\uc804\uc744 \uc678\uc6b8 \uc218\ub294 \uc5c6\ub2e4.","text":"<p>\uc138\uc0c1\uc5d0\ub294 \ub108\ubb34 \ub9ce\uc740 \ub2e8\uc5b4\uac00 \uc788\uc2b5\ub2c8\ub2e4.  \ud55c\uad6d\uc5b4\ub9cc \ud574\ub3c4 \uc218\uc2ed\ub9cc \uac1c\uc758 \ub2e8\uc5b4\uac00 \uc788\uace0, \uc0c8\ub85c\uc6b4 \ub2e8\uc5b4\ub4e4\uc774 \uacc4\uc18d \uc0dd\uaca8\ub0a9\ub2c8\ub2e4.  \ubaa8\ub4e0 \ub2e8\uc5b4\ub97c \uac01\uac01 \ud558\ub098\uc758 \uc870\uac01\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uac74 \ud604\uc2e4\uc801\uc73c\ub85c \ubd88\uac00\ub2a5\ud574\uc694.</p> <p>\ub300\uc2e0 AI\ub294 \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \ub2e8\uc5b4\ub098 \ub2e8\uc5b4\uc758 \uc77c\ubd80\ubd84(\uc11c\ube0c\uc6cc\ub4dc)\uc744 \uae30\uc5b5\ud569\ub2c8\ub2e4.  \ub9c8\uce58 \uc6b0\ub9ac\uac00 \"\ud0c8\ubaa8\ubc29\uc9c0\uc0f4\ud478\"\ub77c\ub294 \ub2e8\uc5b4\ub97c \"\ud0c8\ubaa8\", \"\ubc29\uc9c0\", \"\uc0f4\ud478\"\ub85c \ub098\ub220 \uc774\ud574\ud558\ub294 \uac83\ucc98\ub7fc\uc694.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#3","title":"3. \ucc98\uc74c \ubcf4\ub294 \ub2e8\uc5b4\ub3c4 \uc774\ud574\ud560 \uc218 \uc788\ub2e4.","text":"<p>\uc774\ub7f0 \ubc29\uc2dd \ub355\ubd84\uc5d0 AI\ub294 \ud6c8\ub828 \uacfc\uc815\uc5d0\uc11c \ud55c \ubc88\ub3c4 \ubcf4\uc9c0 \ubabb\ud55c \ub2e8\uc5b4\ub3c4 \uc5b4\ub290 \uc815\ub3c4 \uc774\ud574\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4, \"\uba54\ud0c0\ubc84\uc2a4\ub77c\uc774\ud504\uc2a4\ud0c0\uc77c\"\uc774\ub77c\ub294 \uc0c8\ub85c\uc6b4 \ub2e8\uc5b4\ub97c \ub9c8\uc8fc\uccd0\ub3c4, \"\uba54\ud0c0\", \"\ubc84\uc2a4\", \"\ub77c\uc774\ud504\", \"\uc2a4\ud0c0\uc77c\"\uacfc \uac19\uc740 \uc775\uc219\ud55c \uc870\uac01\ub4e4\ub85c \ubd84\ud574\ud574 \uc758\ubbf8\ub97c \ucd94\uce21\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#4","title":"4. \ud6a8\uc728\uc801\uc778 \uc815\ubcf4 \ucc98\ub9ac\uac00 \uac00\ub2a5\ud558\ub2e4.","text":"<p>\uc6b0\ub9ac\uac00 \uc7a5\ubb38\uc758 \uae00\uc744 \uc77d\uc744 \ub54c \ud55c \uae00\uc790\uc529 \uc77d\uc9c0 \uc54a\uace0 \ub2e8\uc5b4\ub098 \uad6c\uc808 \ub2e8\uc704\ub85c \uc77d\ub294 \uac83\ucc98\ub7fc, AI\ub3c4 \uc801\uc808\ud55c \ud06c\uae30\uc758 \uc870\uac01\uc73c\ub85c \ud14d\uc2a4\ud2b8\ub97c \ucc98\ub9ac\ud558\uba74 \ub354 \ud6a8\uc728\uc801\uc785\ub2c8\ub2e4.</p> <p>\ud1a0\ud070\uc774 \ub108\ubb34 \uc791\uc73c\uba74(\uc608: \ud55c \uae00\uc790\uc529) \ucc98\ub9ac\ud574\uc57c \ud560 \uc870\uac01\uc774 \ub108\ubb34 \ub9ce\uc544\uc9c0\uace0, \ub108\ubb34 \ud06c\uba74(\uc608: \ubb38\uc7a5 \uc804\uccb4) \ube44\uc2b7\ud55c \ud328\ud134\uc744 \uc778\uc2dd\ud558\uae30 \uc5b4\ub824\uc6cc\uc9d1\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#5","title":"5. \ub2e4\uc591\ud55c \uc5b8\uc5b4\ub97c \ud558\ub098\uc758 \uc2dc\uc2a4\ud15c\uc73c\ub85c \ucc98\ub9ac\ud55c\ub2e4.","text":"<p>\ud1a0\ud070\ud654\ub294 \uc601\uc5b4, \ud55c\uad6d\uc5b4, \uc77c\ubcf8\uc5b4 \ub4f1 \uc11c\ub85c \ub2e4\ub978 \uc5b8\uc5b4\ub97c \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \uae00\uc790 \uccb4\uacc4\uac00 \uc644\uc804\ud788 \ub2e4\ub978 \uc5b8\uc5b4\ub4e4\ub3c4 \uac19\uc740 AI \ubaa8\ub378\uc774 \uc774\ud574\ud560 \uc218 \uc788\uac8c \ub418\ub294 \uac70\uc8e0.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#ai","title":"\ud1a0\ud070\ud654\uac00 AI\uc758 \ub2a5\ub825\uc5d0 \ubbf8\uce58\ub294 \uc601\ud5a5","text":"<p>\uc88b\uc740 \ud1a0\ud070\ud654 \uc2dc\uc2a4\ud15c\uc740</p> <ul> <li>\ub354 \uc801\uc740 \uba54\ubaa8\ub9ac\ub85c \ub354 \ub9ce\uc740 \ub2e8\uc5b4\ub97c \uc774\ud574\ud560 \uc218 \uc788\uac8c \ud569\ub2c8\ub2e4</li> <li>\uc0c8\ub85c\uc6b4 \ub2e8\uc5b4\ub098 \uac1c\ub150\ub3c4 \ucd94\ub860\ud560 \uc218 \uc788\uac8c \ud569\ub2c8\ub2e4</li> <li>\ub2e4\uc591\ud55c \uc5b8\uc5b4\uc640 \ubc29\uc5b8\ub3c4 \ucc98\ub9ac\ud560 \uc218 \uc788\uac8c \ud569\ub2c8\ub2e4</li> <li>\ub354 \ube60\ub974\uace0 \uc815\ud655\ud558\uac8c \ud14d\uc2a4\ud2b8\ub97c \ucc98\ub9ac\ud560 \uc218 \uc788\uac8c \ud569\ub2c8\ub2e4</li> </ul> <p>\uc27d\uac8c \ub9d0\ud574, \ud1a0\ud070\ud654\ub294 AI\uac00 \uc778\uac04\uc758 \uc5b8\uc5b4\ub97c \uc774\ud574\ud558\uace0 \uc0dd\uc131\ud558\ub294 \uccab \ub2e8\uacc4\uc774\uc790 \uac00\uc7a5 \uc911\uc694\ud55c \uae30\ucd08 \uc791\uc5c5\uc785\ub2c8\ub2e4. </p> <p>\uc88b\uc740 \ud1a0\ud070\ud654 \uc5c6\uc774\ub294 \uc544\ubb34\ub9ac \ub6f0\uc5b4\ub09c AI \ubaa8\ub378\ub3c4 \uc5b8\uc5b4\ub97c \uc81c\ub300\ub85c \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#transformer","title":"\uadf8\ub7f0\ub370 \uc5ec\uae30\uc11c Transformer\ub294 \ubb50\uae38\ub798 \uc5ec\uae30\uc800\uae30 \ub4f1\uc7a5\ud560\uae4c\uc694?","text":"<p>Transformer\ub294 2017\ub144\uc5d0 \uc18c\uac1c\ub41c \uc778\uacf5\uc9c0\ub2a5 \ubaa8\ub378 \uad6c\uc870\ub85c, \ud604\uc7ac ChatGPT, Claude\uc640 \uac19\uc740 \ucd5c\uc2e0 AI \uc5b8\uc5b4 \ubaa8\ub378\uc758 \ud575\uc2ec \uae30\uc220\uc785\ub2c8\ub2e4. \ud14d\uc2a4\ud2b8\ub97c \uc774\ud574\ud558\uace0 \uc0dd\uc131\ud558\ub294 \ub370 \ud601\uc2e0\uc801\uc778 \ubc29\ubc95\uc744 \uc81c\uc2dc\ud588\uc2b5\ub2c8\ub2e4.</p> <ol> <li>\ubb38\ub9e5\uc744 \ub354 \uc798 \uc774\ud574\ud55c\ub2e4. -\u201d\uc8fc\ubcc0\uc744 \ub458\ub7ec\ubcf4\ub294 \ub2a5\ub825\u201d</li> <li>\ubcd1\ub82c \ucc98\ub9ac\uac00 \uac00\ub2a5\ud558\ub2e4. - \u201c\ub3d9\uc2dc\uc5d0 \uc5ec\ub7ec \uc77c\uc744 \ucc98\ub9ac\u201d</li> <li>\uc7a5\uac70\ub9ac \uc758\uc874\uc131\uc744 \uc798 \uc7a1\uc544\ub0b8\ub2e4. - \u201c\uba40\ub9ac \ub5a8\uc5b4\uc9c4 \uc5f0\uacb0 \uad00\uacc4 \ud30c\uc545\u201d</li> <li>\ud655\uc7a5\uc131\uc774 \ub6f0\uc5b4\ub098\ub2e4. - \u201c\ud06c\uac8c \ud0a4\uc6b8 \uc218 \uc788\ub294 \uc7a0\uc7ac\ub825\u201d</li> <li>\ub2e4\uc591\ud55c \ubd84\uc57c\uc5d0 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4. - \u201c\ub9cc\ub2a5 \ub3c4\uad6c\u201d</li> </ol> <p></p> <p>\ub531 \ubcf4\uae30\ub9cc\ud574\ub3c4 \uc5c4\uccad\ud55c \uce5c\uad6c\ub77c\ub294\uac8c \ub290\uaef4\uc9c0\uc2dc\uc8e0. \uc774\ub7ec\ud55c \uc7a5\uc810\ub4e4\uc740 \uc774\ud6c4 \ud3ec\uc2a4\ud130\uc5d0\uc11c \ub2e4\ub904\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uc790 \uc774\uc81c, LLM\uc758 \uc644\uc804 \uae30\ubc18\uc774 \ub418\ub294 \ud1a0\ud070\ud654\uc5d0 \ub300\ud574\uc11c \uad6c\uccb4\uc801\uc73c\ub85c \uc54c\uc544\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#b-tokenization","title":"B. \ud1a0\ud070\ud654(Tokenization)\ub294 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud560\uae4c?","text":""},{"location":"D.%20AI/Tokenization/#1_1","title":"1. \uc790\uc5f0\uc5b4\ucc98\ub9ac\uc758 \uc804\ud1b5\uc801\uc778 \ud750\ub984","text":"<p>\uc790\uc5f0\uc5b4\ub97c \ucc98\ub9ac\ud558\ub294 \uacfc\uc815\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4.</p> <p>\ud83d\udd25 Sentence -&gt; Tokens -&gt; Embedding -&gt; Transformer -&gt; Down-Stream Layer -&gt; Output</p> <ul> <li>sentence\u00a0: \uc0ac\ub78c\uc774 \uc77d\uc744 \uc218 \uc788\ub294 \ubb38\uc7a5(\ud14d\uc2a4\ud2b8)</li> <li>Tokens\u00a0: \ubb38\uc7a5\uc744 \uc77c\uc815\ud55c \uae30\uc900(\ub744\uc5b4\uc4f0\uae30, \uc11c\ube0c\uc6cc\ub4dc \ub4f1)\uc5d0 \ub530\ub77c \ub098\ub208 \ub2e8\uc704\ub4e4</li> <li>Embedding\u00a0: \ud1a0\ud070(Token)\uc744 \ubca1\ud130(Vector)\ub85c \ubcc0\ud658\ud574\uc8fc\ub294 \ub2e8\uacc4</li> <li>Transformer\u00a0: Embedding \uc744 \uc785\ub825\ubc1b\uc544 Attention \uba54\ucee4\ub2c8\uc998\uc744 \ud1b5\ud574 \ubb38\ub9e5 \uc815\ubcf4\ub97c \ud559\uc2b5</li> <li>Down-Stream Layer\u00a0: \ubd84\ub958, \ud68c\uadc0, \uc9c8\ubb38 \ub2f5\ubcc0 \ub4f1 \uc6d0\ud558\ub294 \ucd5c\uc885 \uacfc\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud55c \ucd94\uac00 \ub808\uc774\uc5b4</li> <li>Output: \ucd5c\uc885 \uc608\uce21 \uacb0\uacfc(\ub808\uc774\ube14, \uc810\uc218, \ub2f5\ubcc0 \ub4f1)</li> </ul> <p></p> <p>\uacfc\uac70\uc5d0\ub294 Word2Vec \ucc98\ub7fc \uc784\ubca0\ub529\uc744 \ubcc4\ub3c4\ub85c \ud559\uc2b5\ud55c \ub4a4, \ud559\uc2b5\ub41c \uc784\ubca0\ub529\uc744 \ub2e4\ub978 \ubaa8\ub378\uc5d0 \uc785\ub825\uc744 \ub123\ub294 \ubc29\uc2dd\uc774 \ub9ce\uc558\uc2b5\ub2c8\ub2e4. </p> <p>\uadf8\ub7ec\ub098 \ucd5c\uadfc\uc758 \ub300\ud615 \uc5b8\uc5b4 \ubaa8\ub378(LLM)\uc740 \ub0b4\ubd80\uc5d0 \uc784\ubca0\ub529 \ub808\uc774\uc5b4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc5b4,  \ud14d\uc2a4\ud2b8(\ud1a0\ud070)\ub97c \uc22b\uc790 \ubca1\ud130\ub85c \ubcc0\ud658\ud558\ub294 \uacfc\uc815\uc744 \ubaa8\ub378 \uad6c\uc870\uc758 \uc77c\ubd80\ub85c \uc9c1\uc811 \uc218\ud589\ud569\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#2_1","title":"2. \ud1a0\ud06c\ub098\uc774\uc800\uc640 \uc784\ubca0\ub529","text":"<p>\uc790\uc5f0\uc5b4\ub97c \uae30\uacc4\uac00 \uc774\ud574\ud558\uae30 \uc704\ud574\uc11c\ub294 \uc6b0\uc120 \ubb38\uc7a5\uc744 \ud1a0\ud070(token) \ub2e8\uc704\ub85c \ub098\ub204\uc5b4\uc57c \ud569\ub2c8\ub2e4.</p> <p>\uc774 \uacfc\uc815\uc744\u00a0\ud1a0\ud06c\ub098\uc774\uc9d5(tokenizing)\uc774\ub77c\uace0 \ud558\uba70, \uc8fc\ub85c \ub2e4\uc74c\uacfc \uac19\uc740 \ubc29\uc2dd\uc774 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>1.\u00a0\ub2e8\uc21c \ub744\uc5b4\uc4f0\uae30 \uae30\ubc18(whitespace tokenization)</p> <p>\ub2e8\uc21c\ud558\uace0 \ube60\ub974\uc9c0\ub9cc \ud615\ud0dc\uc18c \ubd84\uc11d\uc774 \uc5c6\uc5b4\uc11c \"\ub098\ub294\"\uacfc \"\ub098\"\ub97c \uad6c\ubd84\ud558\uc9c0 \ubabb\ud558\ub294 \ub2e8\uc810\uc774 \uc788\ub2e4. \ub610\ud55c \ubb38\uc7a5\ubd80\ud638\ub3c4 \ud568\uaed8 \ud3ec\ud568\ub418\ub294 \ubb38\uc81c\uac00 \uc788\ub2e4.</p> <pre><code>\uc785\ub825 \ubb38\uc7a5: \"\ub098\ub294 \uc624\ub298 \uc601\ud654\ub97c \ubd24\ub2e4.\"\n\ud1a0\ud070\ud654 \uacb0\uacfc: [\"\ub098\ub294\", \"\uc624\ub298\", \"\uc601\ud654\ub97c\", \"\ubd24\ub2e4.\"]\n</code></pre> <p></p> <p>2.\u00a0\ub2e8\uc5b4 \uae30\ubc18(tokenization by words)</p> <p>\uc5b4\ud718\ub2e8\uc704\ub85c \ubd84\ub9ac\uac00 \uac00\ub2a5\ud558\uc9c0\ub9cc, \uc0c8\ub85c\uc6b4 \ub2e8\uc5b4(\uc2e0\uc870\uc5b4, \ubcf5\ud569\uba85\uc0ac \ub4f1)\uc5d0 \ucde8\uc57d\ud558\ub2e4.</p> <pre><code>//\ud55c\uae00 \ud615\ud0dc\uc18c \ubd84\uc11d\uae30 \ud65c\uc6a9\n\uc785\ub825 \ubb38\uc7a5: \"\ub098\ub294 \uc624\ub298 \uc601\ud654\ub97c \ubd24\ub2e4.\"\n\ud1a0\ud070\ud654 \uacb0\uacfc: [\"\ub098\", \"\ub294\", \"\uc624\ub298\", \"\uc601\ud654\", \"\ub97c\", \"\ubcf4\ub2e4\", \"\u3146\ub2e4\"]\n</code></pre> <p></p> <p>3.\u00a0\uc11c\ube0c\uc6cc\ub4dc \uae30\ubc18(subword)</p> <p>\ub2e8\uc5b4\ubcf4\ub2e4 \uc791\uc740 \ub2e8\uc704\ub85c \ubd84\ub9ac\ud558\uc5ec \ud76c\uadc0 \ub2e8\uc5b4 \ucc98\ub9ac(OOV)\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \uc218\ud589\ud558\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4.</p> <p>BPE(Byte Pair Encoding)\ub098 WordPiece \uac19\uc740 \uae30\ubc95\uc774 \ub300\ud45c\uc801\uc774\uba70. BERT, GPT \ub4f1\uc758 NLP \ubaa8\ub378\uc5d0\uc11c \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</p> <p>\uc2e0\uc870\uc5b4, \ud76c\uadc0 \ub2e8\uc5b4\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ucc98\ub9ac \uac00\ub2a5\ud558\uc9c0\ub9cc, \uc0ac\uc804 \uad6c\ucd95\uc744 \uc704\ud574 \ud559\uc2b5 \uacfc\uc815\uc774 \ud544\uc694\ud558\ub2e4.</p> <ul> <li>BPE \ud1a0\ud06c\ub098\uc774\uc800</li> </ul> <pre><code>\uc785\ub825 \ubb38\uc7a5: \"\ub098\ub294 \uc624\ub298 \uc601\ud654\ub97c \ubd24\ub2e4.\"\n\ucd08\uae30 \ud1a0\ud070\ud654: [\"\ub098\", \"\ub294\", \"\uc624\ub298\", \"\uc601\ud654\", \"\ub97c\", \"\ubd24\", \"\ub2e4.\"]\n\uc790\uc8fc \ub098\uc624\ub294 \ubb38\uc790 \uc870\ud569 \ubcd1\ud569 \ud6c4: [\"\ub098\ub294\", \"\uc624\ub298\", \"\uc601\ud654\", \"\ub97c\", \"\ubd24\ub2e4.\"]\n</code></pre> <p>\uc5ec\uae30\uc11c \"\uc790\uc8fc \ub098\uc624\ub294 \ubb38\uc790 \uc870\ud569 \ubcd1\ud569\" \uc774\ub77c\ub294 \ub9d0\uc740 \uac00\uc7a5 \uc790\uc8fc \ub4f1\uc7a5\ud558\ub294 \ubb38\uc790 \ub610\ub294 \ub2e8\uc5b4 \uc30d\uc744 \ubcd1\ud569\ud558\uba74\uc11c \ud1a0\ud070\uc744 \uad6c\uc131\ud558\ub294 \uac81\ub2c8\ub2e4.</p> <p>\uc989, \ucc98\uc74c\uc5d0\ub294 \ubaa8\ub4e0 \ub2e8\uc5b4\ub97c \uac00\uc7a5 \uc791\uc740 \ub2e8\uc704(\uc790\ubaa8 \ub610\ub294 \uac1c\ubcc4 \ubb38\uc790)\ub85c \ucabc\uac20 \ud6c4, \ube48\ub3c4\ub97c \uae30\ubc18\uc73c\ub85c \uc810\uc9c4\uc801\uc73c\ub85c \ubcd1\ud569\ud569\ub2c8\ub2e4.</p> <ul> <li>WordPiecee - BERT</li> </ul> <pre><code>\uc785\ub825 \ubb38\uc7a5: \"\ube44\ud589\uae30\uac00 \ub0a0\uc544\uac00\uace0 \uc788\ub2e4.\"\n\ud1a0\ud070\ud654 \uacb0\uacfc: [\"\ube44\ud589\", \"##\uae30\uac00\", \"\ub0a0\uc544\", \"##\uac00\uace0\", \"\uc788\", \"##\ub2e4\", \".\"]\n</code></pre> <p></p> <p>4.\u00a0\ubb38\uc790 \uae30\ubc18(character)</p> <p>\uac01 \ubb38\uc790\ub97c \ud558\ub098\uc758 \ud1a0\ud070\uc73c\ub85c \uac04\uc8fc\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \ub2e8\uc5b4\ub97c \ub354 \uc791\uc740 \ub2e8\uc704\ub85c \ucabc\uac1c\uc5b4 \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc0ac\uc804\uc5d0 \uc5c6\ub294 \ub2e8\uc5b4\ub3c4 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \uc7a5\uc810\uc740 \uc788\uc9c0\ub9cc, \ub108\ubb34 \uae38\uc5b4\uc9c8 \uacbd\uc6b0 \ubaa8\ub378\uc774 \ubb38\ub9e5\uc744 \ud559\uc2b5\ud558\uae30 \uc5b4\ub824\uc6cc\uc9d1\ub2c8\ub2e4.</p> <pre><code>\uc785\ub825 \ubb38\uc7a5: \"\ub098\ub294 \uc624\ub298 \uc601\ud654\ub97c \ubd24\ub2e4.\"\n\ud1a0\ud070\ud654 \uacb0\uacfc: [\"\ub098\", \"\ub294\", \" \", \"\uc624\", \"\ub298\", \" \", \"\uc601\", \"\ud654\", \"\ub97c\", \" \", \"\ubd24\", \"\ub2e4\", \".\"]\n</code></pre> <p>\uc790, \ub300\ucda9 \uc5b4\ub5a4 \ubc29\uc2dd\uc758 \ud1a0\ud06c\ub098\uc774\uc9d5\uc774 \uc788\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uc558\uace0, \uc880 \ub354 \ub514\ud14c\uc77c\ud558\uac8c BPE\ub97c \uac00\uc9c0\uace0 \ub2e4\ub904\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p></p> <p>\"\uae00\uc790\"\u00a0\ub97c BPE \ubc29\uc2dd\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubcf4\uc790\uba74,</p> <p>\ucd08\uae30 \uc0c1\ud0dc(\ubaa8\ub4e0 \ubb38\uc790 \uac1c\ubcc4 \ubd84\ub9ac)</p> <p>[\"\u3131\",\u00a0\"\u3161\",\u00a0\"\u3139\",\u00a0\"\u3148\",\u00a0\"\u314f\"] </p> <p>\ube48\ub3c4\ub97c \ubd84\uc11d\ud558\uc5ec \uac00\uc7a5 \uc790\uc8fc \ub4f1\uc7a5\ud558\ub294 \uc30d\uc744 \ubcd1\ud569</p> <p>[\"\uadf8\", \"\u3139\", \"\u3148\", \"\u314f\"] -&gt; \uac00\uc815\uc801\uc73c\ub85c \"\u3131\" + \"-\" \uac00 \uc790\uc8fc \ub4f1\uc7a5\ud55c\ub2e4\uace0 \ud558\uba74, \uc774\ub97c \ud558\ub098\uc758 \ud1a0\ud070\uc73c\ub85c \ubcd1\ud569\ud569\ub2c8\ub2e4. </p> <p>\uadf8 \ub2e4\uc74c\uc73c\ub85c \"\u3139\" + \"\u3148\"\uc774 \uc790\uc8fc \ub4f1\uc7a5\ud558\uba74 \ubcd1\ud569</p> <p>[\"\uadf8\",\u00a0\"\u3139\uc790\"] </p> <p>\uadf8 \ub2e4\uc74c\uc73c\ub85c \"\uadf8\" + \"\u3139\uc790\" \uac00 \uc790\uc8fc \ub4f1\uc7a5\ud558\uba74 \ubcd1\ud569</p> <p>[\"\uae00\uc790\"] </p> <p></p> <p>\uc774\uc81c \"\uae00\uc790\"\ub294 \ud558\ub098\uc758 \ud1a0\ud070\uc774 \ub418\uc5b4 vocabulary(\uc5b4\ud718 \uc0ac\uc804)\uc5d0 \ucd94\uac00\ub429\ub2c8\ub2e4.</p> <p>\uc2e4\uc81c NLP \ubaa8\ub378\uc5d0\uc11c\ub294 \ub2e8 \ud558\ub098\uc758 \ub2e8\uc5b4\uac00 \uc544\ub2c8\ub77c \uc218\ubc31\ub9cc \uac1c\uc758 \ub2e8\uc5b4\uac00 \ud3ec\ud568\ub41c Corpus(\ucf54\ud37c\uc2a4, \ub9d0\ubb49\uce58)\uc5d0\uc11c \uc774\ub7ec\ud55c \ubcd1\ud569\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.</p> <p>\uc774\ub7ec\ud55c \ubc29\uc2dd\uc73c\ub85c \ubaa9\ud45c \uc5b4\ud718 \ud06c\uae30(Vocab Num \uc608: 30\ub9cc\uac1c \ub2e8\uc5b4)\uac00 \ub420 \ub54c\uae4c\uc9c0 \ubcd1\ud569\uc744 \ubc18\ubcf5\ud569\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#3_1","title":"3. \uc65c \uc774\ub7f0 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud560\uae4c\uc694?","text":"<p>1. \uc2e0\uc870\uc5b4, \ud76c\uadc0 \ub2e8\uc5b4 \ucc98\ub9ac</p> <ul> <li>\uc608\ub97c \ub4e4\uc5b4 \"\ucf54\ub85c\ub09819\" \ub77c\ub294 \ub2e8\uc5b4\uac00 \ucc98\uc74c \ub4f1\uc7a5\ud588\uc744 \ub54c, \uae30\uc874 \uc0ac\uc804\uc5d0 \uc5c6\ub354\ub77c\ub3c4 \"\ucf54\", \"\ub85c\", \"\ub098\", \"19\" \uac19\uc740 \uc870\ud569\uc73c\ub85c \ucc98\ub9ac\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.</li> <li>\uc0c8\ub85c\uc6b4 \ub2e8\uc5b4\ub3c4 \uc11c\ube0c\uc6cc\ub4dc \ub2e8\uc704\ub85c \ucc98\ub9ac\ud558\uc5ec Out-Of-Vocabulary \ubb38\uc81c\ub97c \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> <p>2. \uc5b4\ud718 \ud06c\uae30 \uac10\uc18c</p> <ul> <li>\ud55c\uad6d\uc5b4\ub294 \uc870\uc0ac(\uc744, \ub97c, \uc740, \ub294 \ub4f1)\uc640 \ub3d9\uc0ac \ubcc0\ud654(\uba39\ub2e4, \uba39\uace0, \uba39\uc5c8\ub2e4 \ub4f1)\uac00 \ub9ce\uc2b5\ub2c8\ub2e4.</li> <li>\"\uba39\ub2e4\", \"\uba39\uace0\", \"\uba39\uc5c8\ub2e4\" \ub97c \uac01\uac01 \uc800\uc7a5\ud558\ub294 \ub300\uc2e0, \"\uba39\" + [\"##\ub2e4\", \"##\uace0\", \"##\uc5c8\ub2e4\"] \ub85c \uc800\uc7a5\ud558\uba74 \uc0ac\uc804\uc744 \uc904\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> <p>3. \ubaa8\ub378\uc758 \ubc94\uc6a9\uc131 \ud5a5\uc0c1</p> <ul> <li>\ubb38\uc7a5\uc744 \ub2e8\uc5b4 \ub2e8\uc704\ub85c \ucabc\uac1c\ub294 \ubc29\uc2dd\ubcf4\ub2e4, \uc11c\ube0c\uc6cc\ub4dc \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud558\uba74 \ud6e8\uc52c \ub2e4\uc591\ud55c \uc5b8\uc5b4 \ud328\ud134\uc744 \ud6a8\uacfc\uc801\uc73c\ub85c \ud559\uc2b5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li> </ul> <p> </p>"},{"location":"D.%20AI/Tokenization/#c","title":"C. \ub274\uc2a4 \uae30\uc0ac\ub97c \uc774\uc6a9\ud55c \uac04\ub2e8\ud55c \ud1a0\ud06c\ub098\uc774\uc800 \ub9cc\ub4e4\uae30","text":"<p>\ub274\uc2a4 \uae30\uc0ac\ub97c \uae30\ubc18\uc73c\ub85c \uc9c1\uc811 \ud1a0\ud06c\ub098\uc774\uc800\ub97c \ub9cc\ub4e4\uc5b4 \ubcf4\uace0, \ub3d9\uc791\ud558\ub294 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\uba74\uc11c\u00a0\ud1a0\ud070\ud654 \uacfc\uc815\uc744 \ubcf4\uc5ec\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\ub9c8\uc9c0\ub9c9\uc5d0\ub294 \ud1a0\ud06c\ub098\uc774\uc800 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud558\uc5ec \uac04\ub2e8\ud558\uac8c \ud1a0\ud070\ud654 \ud558\ub294 \ubc29\ubc95\ub3c4 \uc54c\ub824\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.</p>"},{"location":"D.%20AI/Tokenization/#1-corpus-2","title":"1. \ub274\uc2a4 \uae30\uc0ac Corpus \uc900\ube44\ud558\uae30(\ub274\uc2a4 \uae30\uc0ac 2\uac1c)","text":"<pre><code># \ub274\uc2a4 \uae30\uc0ac Corpus (2\uac1c\uc758 \uae30\uc0ac)\ncorpus = [\n    \"\"\"(\ub300\uc804=\uc5f0\ud569\ub274\uc2a4) \uc591\uc601\uc11d \uae30\uc790 = \uad50\ub0b4\uc5d0\uc11c 8\uc0b4 \uae40\ud558\ub298 \uc591\uc744 \ud749\uae30\ub85c \uc0b4\ud574\ud558\uace0 \uc790\ud574\ub97c \uc2dc\ub3c4\ud588\ub358 \ub300\uc804 \ubaa8 \ucd08\ub4f1\ud559\uad50 \uc5ec\uad50\uc0ac\uac00\n    \ub098\ud758 \uc804\uc5d0\ub3c4 \ud3ed\ub825\uc801\uc778 \uc131\ud5a5\uc744 \ubcf4\uc5ec \uc8fc\ubcc0\uc744 \uae34\uc7a5\uc2dc\ucf30\ub358 \uac83\uc73c\ub85c \uc804\ud574\uc84c\ub2e4.\n    11\uc77c \ub300\uc804\uc2dc\uad50\uc721\uccad\uacfc \uacbd\ucc30 \ub4f1\uc5d0 \ub530\ub974\uba74 \ud574\ub2f9 \uad50\uc0ac\ub294 \uc9c0\ub09c 6\uc77c \ub3d9\ub8cc \uad50\uc0ac\uc758 \ud314\uc744 \uaebe\ub294 \ub4f1 \ud3ed\ub825\uc801\uc778 \ud589\ub3d9\uc744 \ubcf4\uc600\ub2e4.\"\"\",\n\n    \"\"\"\ucd5c\uc0c1\ubaa9 \ub300\ud1b5\ub839 \uad8c\ud55c\ub300\ud589\uc774 \"\ubb34\uc5c7\ubcf4\ub2e4 \uc2dc\uae09\ud55c \uac83\uc740 \uc5f0\uae08\uac1c\ud601\"\uc774\ub77c\uba70 \"\ud558\ub8e8\uc18d\ud788 \uad6d\ud68c\uac00 \ud569\uc758\uc548\uc744 \ub3c4\ucd9c\ud574\ub2ec\ub77c\"\uace0 \ucd09\uad6c\ud588\uc2b5\ub2c8\ub2e4.\n    \ucd5c\uc0c1\ubaa9 \uad8c\ud55c\ub300\ud589\uc740 \uc624\ub298(11\uc77c) \uc815\ubd80\uc11c\uc6b8\uccad\uc0ac\uc5d0\uc11c \uad6d\ubb34\ud68c\uc758\ub97c \uc8fc\uc7ac\ud55c \uc790\ub9ac\uc5d0\uc11c \"\uad6d\ubbfc\uc5f0\uae08\uc774 \uc9c0\uae08\ucc98\ub7fc \uc6b4\uc601\ub41c\ub2e4\uba74 2041\ub144\uc5d0 \uc801\uc790\ub85c \uc804\ud658\ub418\uace0\n    2056\ub144\uc5d0\ub294 \uae30\uae08\uc774 \uc644\uc804\ud788 \uc18c\uc9c4\ub420 \uac83\"\uc774\ub77c\uba70 \uc774\uac19\uc774 \ubc1d\ud614\uc2b5\ub2c8\ub2e4.\"\"\"\n]\n</code></pre> <p>\uc774\uc81c \uc774\ub97c \uc2e4\uc81c \ud1a0\ud070\uc73c\ub85c \ubd84\ub9ac\ud558\ub294 \uacfc\uc815\uc744 \uc9c4\ud589\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#2-tokenization","title":"2. \ub274\uc2a4 \uae30\uc0ac \ud1a0\ud06c\ub098\uc774\uc9d5(Tokenization)","text":"<p>\uc774\uc81c \uc5b4\ub5a0\ud55c \ucd5c\uc18c\ub2e8\uc704\ub85c Sentence\ub97c \ubaa8\ub450 \ucabc\uac1c\uc57c \ud569\ub2c8\ub2e4.</p> <p>\uc5ec\uae30\uc11c\ub294 \uac00\uc7a5 \uac04\ub2e8\ud55c \uc791\uc5c5\uc744 \uc218\ud589\ud560 \uac83\uc774\uae30 \ub54c\ubb38\uc5d0, \ud55c\uae00\uc744 \uc81c\uc678\ud55c \ud2b9\uc218\ubb38\uc790\ub97c \ubaa8\ub450 \uc81c\uc678\ud558\uace0 \uc74c\uc808 \ub2e8\uc704\ub85c \ubaa8\ub4e0 \ubb38\uc7a5\uc744 \ubd84\ub9ac\ud558\uc600\ub2e4.</p> <p>\uc2e4\uc81c\ub85c\ub294 \uc774 \uacfc\uc815\uc774 \uc0c1\ub2f9\ud788 \uc911\uc694\ud55c \uacfc\uc815\uc778\ub370. \ud55c\uae00\uc758 \uacbd\uc6b0 \uc774 \uacfc\uc815\uc774 \ud2b9\ud788 \uc5b4\ub835\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\uc720\ub294 \uc601\uc5b4\uc640 \ub2e4\ub974\uac8c '\uc870\uc0ac'\uc758 \uc874\uc7ac\ub85c \uc758\ubbf8\uac00 \uc0c1\ub2f9\ud788 \ud06c\uac8c \ub2ec\ub77c\uc9c0\uae30\ub3c4 \ud558\uba70 \ub744\uc5b4\uc4f0\uae30\uac00 \uc798 \uc9c0\ucf1c\uc9c0\uc9c0 \uc54a\ub294 \uc5b8\uc5b4\uc774\uae30 \ub54c\ubb38\uc774\ub2e4.</p> <p>BPE \ubc29\uc2dd\uc758 \ud1a0\ud06c\ub098\uc774\uc9d5\uc744 \ub2e8\uacc4\uc801\uc73c\ub85c \uc218\ud589\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <pre><code>import re\n\ndef tokenize_syllables(corpus):\n    \"\"\"\ubb38\uc7a5\uc744 \uc74c\uc808 \ub2e8\uc704\ub85c \ubd84\ub9ac\ud558\uc5ec \ud1a0\ud070\ud654\ud558\ub294 \ud568\uc218\"\"\"\n    tokenized = []\n\n    for sentence in corpus:\n# \ud55c\uae00\uacfc \uacf5\ubc31\ub9cc \ub0a8\uae30\uace0 \uc81c\uac70\n        sentence = re.sub(r\"[^\uac00-\ud7a3\\s]\", \"\", sentence)\n# \uc5f0\uc18d\ub41c \uacf5\ubc31\uc744 \ud558\ub098\uc758 \uacf5\ubc31\uc73c\ub85c \ubcc0\ud658 \ud6c4, \uc591\ucabd \uacf5\ubc31 \uc81c\uac70\n        sentence = re.sub(r\"\\s+\", \" \", sentence).strip()\n# \uc74c\uc808 \ub2e8\uc704\ub85c \ubd84\ub9ac\n        syllables = list(sentence)\n        tokenized.append(syllables)\n\n    return tokenized\n\n# \ud1a0\ud070\ud654 \uc2e4\ud589\ntokenized_corpus = tokenize_syllables(corpus)\n\n# \uacb0\uacfc \ucd9c\ub825for idx, tokens in enumerate(tokenized_corpus):\n    print(f\"\ubb38\uc7a5 {idx + 1}: {tokens}\")\n</code></pre> <pre><code>\ubb38\uc7a5 1: ['\ub300', '\uc804', '\uc5f0', '\ud569', '\ub274', '\uc2a4', ' ', '\uc591', '\uc601', '\uc11d', ' ', '\uae30', '\uc790', ' ', '\uad50', '\ub0b4', '\uc5d0', '\uc11c', ' ', '\ud314', '\uc744', ' ', '\uaebe', '\ub294', ' ', '\ub4f1', ' ', '\ud3ed', '\ub825', '\uc801', '\uc778', ' ', '\ud589', '\ub3d9', '\uc744', ' ', '\ubcf4', '\uc600', '\ub2e4']\n\ubb38\uc7a5 2: ['\ucd5c', '\uc0c1', '\ubaa9', ' ', '\ub300', '\ud1b5', '\ub839', ' ', '\uad8c', '\ud55c', '\ub300', '\ud589', '\uc774', ' ', '\uc2dc', '\uae09', '\ud55c', ' ', '\uac83', '\uc740', ' ', '\uc5f0', '\uae08', '\uac1c', '\ud601', '\uc774', '\ub77c', '\uba70', ' ', '\uad6d', '\ud68c', '\uac00', ' ', '\ud569', '\uc758', '\uc548', '\uc744', ' ', '\ub3c4', '\ucd9c', '\ud574', '\ub2ec', '\ub77c', '\uace0']\n</code></pre> <p></p>"},{"location":"D.%20AI/Tokenization/#3_2","title":"3. \uc74c\uc808 \uc30d\uc758 \ube48\ub3c4 \uacc4\uc0b0\ud558\uae30","text":"<p>\ub3d9\uc2dc\ucd9c\ud604 \ube48\ub3c4 \uacc4\uc0b0\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <pre><code>from collections import defaultdict\n\ndef get_pair_frequencies(tokenized_corpus):\n    \"\"\"\uc74c\uc808 \uc30d\uc758 \ub3d9\uc2dc\ucd9c\ud604 \ube48\ub3c4\ub97c \uacc4\uc0b0\ud558\ub294 \ud568\uc218\"\"\"\n    pair_frequencies = defaultdict(int)\n\n    for sentence in tokenized_corpus:\n        for i in range(len(sentence) - 1):\n            pair = (sentence[i], sentence[i + 1])# \uc5f0\uc18d\ub41c \ub450 \uac1c\uc758 \uc74c\uc808 \uc30d\n            pair_frequencies[pair] += 1# \ube48\ub3c4 \uc99d\uac00return pair_frequencies\n\n# \ub3d9\uc2dc\ucd9c\ud604 \ube48\ub3c4 \uacc4\uc0b0 \uc2e4\ud589\npair_frequencies = get_pair_frequencies(tokenized_corpus)\n\n# \uacb0\uacfc \ucd9c\ub825 (\ube48\ub3c4\uc218\uac00 \ub192\uc740 \uc21c\uc73c\ub85c \uc815\ub82c)\nsorted_frequencies = sorted(pair_frequencies.items(), key=lambda x: x[1], reverse=True)\nfor pair, freq in sorted_frequencies[:10]:# \uc0c1\uc704 10\uac1c\ub9cc \ucd9c\ub825\n    print(f\"\uc30d: {pair}, \ube48\ub3c4: {freq}\")\n</code></pre> <pre><code>\uc30d: ('\ub300', '\uc804'), \ube48\ub3c4: 6\n\uc30d: ('\uc804', '\uc5f0'), \ube48\ub3c4: 1\n\uc30d: ('\uc5f0', '\ud569'), \ube48\ub3c4: 1\n\uc30d: ('\ud569', '\ub274'), \ube48\ub3c4: 1\n\uc30d: ('\ub274', '\uc2a4'), \ube48\ub3c4: 1\n\uc30d: (' ', '\uc591'), \ube48\ub3c4: 2\n\uc30d: ('\uc591', '\uc601'), \ube48\ub3c4: 1\n\uc30d: ('\uc601', '\uc11d'), \ube48\ub3c4: 1\n\uc30d: ('\ud558', '\uc9c0'), \ube48\ub3c4: 1\n\uc30d: ('\uc54a', '\ub3c4'), \ube48\ub3c4: 1\n</code></pre> <p>'\ub300'\uc640 '\uc804'\uc740\u00a06\ubc88 \ub4f1\uc7a5\ud558\uba70, \ud558\ub098\uc758 \ub2e8\uc5b4(\"\ub300\uc804\")\ub85c \ubcd1\ud569\ud558\ub294 \uac83\uc774 \uc720\ub9ac\ud569\ub2c8\ub2e4.</p> <p>\ub300\ubd80\ubd84\uc758 \ub2e4\ub978 \uc30d\uc740 1~2\ud68c \ub4f1\uc7a5 \u2192 \uc544\uc9c1 \ubcd1\ud569\ud560 \ud544\uc694 \uc5c6\uc2b5\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#4_1","title":"4. \uc74c\uc808 \uc30d\uc758 \ube48\ub3c4 \uacc4\uc0b0\ud558\uae30","text":"<p>\uc6b0\ub9ac\uac00 \uac00\uc9c4 \ub370\uc774\ud130\uc5d0\uc11c \uac00\uc7a5 \uc790\uc8fc \ub4f1\uc7a5\ud558\ub294 \uc74c\uc808 \uc30d\uc744 \ubcd1\ud569\ud558\uc5ec \uc0c8\ub85c\uc6b4 \ud1a0\ud070\uc744 \uc0dd\uc131\ud558\ub294 \uacfc\uc815\uc785\ub2c8\ub2e4.</p> <pre><code>def merge_most_frequent_pair(tokenized_corpus, pair):\n    \"\"\"\uac00\uc7a5 \ube48\ubc88\ud55c \uc74c\uc808 \uc30d\uc744 \ud558\ub098\uc758 \ud1a0\ud070\uc73c\ub85c \ubcd1\ud569\ud558\ub294 \ud568\uc218\"\"\"\n    new_corpus = []\n    new_token = \"\".join(pair)# \uc30d\uc744 \ud558\ub098\uc758 \ub2e8\uc5b4\ub85c \ubcd1\ud569for sentence in tokenized_corpus:\n        new_sentence = []\n        i = 0\n        while i &lt; len(sentence):\n# \uac00\uc7a5 \ube48\ubc88\ud55c \uc30d\uc744 \ubc1c\uacac\ud558\uba74 \ubcd1\ud569\ud558\uc5ec \ucd94\uac00if i &lt; len(sentence) - 1 and (sentence[i], sentence[i + 1]) == pair:\n                new_sentence.append(new_token)\n                i += 2# \ubcd1\ud569\ub41c \ubd80\ubd84\uc744 \uac74\ub108\ub700else:\n                new_sentence.append(sentence[i])\n                i += 1\n        new_corpus.append(new_sentence)\n\n    return new_corpus\n</code></pre> <p>(\"\ub300\", \"\uc804\") \uacfc \uac19\uc774 \uac00\uc7a5 \ube48\ubc88\ud55c \uc74c\uc808 \uc30d\uc744 \ucc3e\uc544 \"\ub300\uc804\"\uc73c\ub85c \ubcd1\ud569\ud569\ub2c8\ub2e4.</p> <p>Corpus\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uba74\uc11c \uc810\uc9c4\uc801\uc73c\ub85c \uc0c8\ub85c\uc6b4 \uc11c\ube0c\uc6cc\ub4dc \ud1a0\ud070\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4.</p> <p></p>"},{"location":"D.%20AI/Tokenization/#5-wordpiece","title":"5. WordPiece \ud1a0\ud06c\ub098\uc774\uc800 \ud559\uc2b5\ud558\uae30","text":"<p>\uc774\uc81c \ubaa9\ud45c\ud558\ub294 \uc5b4\ud718(Vocab) \ud06c\uae30\uae4c\uc9c0 \ubc18\ubcf5\ud558\uc5ec \uc0c8\ub85c\uc6b4 \ud1a0\ud070\uc744 \ub9cc\ub4e4\uc5b4 \ub0b4\ub294 \uacfc\uc815\uc744 \uad6c\ud604\ud569\ub2c8\ub2e4.</p> <pre><code>def train_wordpiece(corpus, vocab_size):\n    \"\"\"WordPiece \ud1a0\ud06c\ub098\uc774\uc800 \ud559\uc2b5\"\"\"\n    tokenized_corpus = tokenize_syllables(corpus)# \uc74c\uc808 \ub2e8\uc704 \ud1a0\ud070\ud654\n    vocab = []\n\n    while len(vocab) &lt; vocab_size:\n        pair_frequencies = get_pair_frequencies(tokenized_corpus)\n\n        if not pair_frequencies:# \ubcd1\ud569\ud560 \uc30d\uc774 \ub354 \uc774\uc0c1 \uc5c6\uc73c\uba74 \uc885\ub8ccbreak\n\n# \uac00\uc7a5 \ube48\ubc88\ud55c \uc74c\uc808 \uc30d \ucc3e\uae30\n        most_frequent_pair = max(pair_frequencies, key=pair_frequencies.get)\n\n# \ud574\ub2f9 \uc30d\uc744 \ubcd1\ud569\ud558\uc5ec \uc0c8\ub85c\uc6b4 \ud1a0\ud070 \uc0dd\uc131\n        tokenized_corpus = merge_most_frequent_pair(tokenized_corpus, most_frequent_pair)\n\n# \uc0c8\ub85c\uc6b4 \ubcd1\ud569\ub41c \ud1a0\ud070\uc744 Vocabulary\uc5d0 \ucd94\uac00\n        merged_token = \"\".join(most_frequent_pair)\n        vocab.append(merged_token)\n\n# \uc911\ubcf5 \uc81c\uac70 \ud6c4 \uc815\ub82c\n        vocab = list(set(vocab))\n\n    return sorted(vocab), tokenized_corpus\n</code></pre> <p></p>"},{"location":"D.%20AI/Tokenization/#6-wordpiece","title":"6. WordPiece \ud559\uc2b5 \uacb0\uacfc","text":"<p>\uc704 \ucf54\ub4dc\uac00 \uc2e4\ud589\ub418\uba74 \uc790\uc5f0\uc2a4\ub7fd\uac8c \uc0c8\ub85c\uc6b4 \ub2e8\uc5b4 \ub2e8\uc704(Token)\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4.</p> <pre><code>final_vocab, final_tokenized_corpus = train_wordpiece(corpus, vocab_size=100)\n\nprint(\"\ucd5c\uc885 Vocab:\", final_vocab)\nprint(\"Vocab Len:\", len(final_vocab))\n</code></pre> <p>\ucd9c\ub825 \uacb0\uacfc</p> <pre><code>\ucd5c\uc885 Vocab: [' \uacbd\ucc30 ', ' \uad50', ' \uad50\uc0ac', ' \ub300', ' \ub300\uc804', ' \ub3d9\ub8cc \uad50\uc0ac', ' \uc0ac', ' \uc0ac\uac74', ' \uc591', ' \uc788', ' \uc815', '\uac00 ', '\uac83\uc774', '\uac8c ', '\uacbd\ucc30', '\uacbd\ucc30 ', '\uace0 ',\n'\uad00\ub828', '\uad6d\ubbfc', '\uad6d\ubbfc\uc5f0\uae08', '\ub294 ', '\ub2e4 ', '\ub2e4\uace0 ', '\ub2e4\uace0 \ub9d0', '\ub2e4\ub294 ', '\ub300\uc804', '\ub358 ', '\ub3c4 ', '\ub3d9\ub8cc', '\ub3d9\ub8cc \uad50\uc0ac', '\ub4e4\uc774 ', '\ub4f1 ', '\ub77c\uba70 ', '\ub85c ',\n'\ub97c ', '\uba70 ', '\uba74 ', '\uc11c ', '\uc2b5\ub2c8', '\uc2dc ', '\uc2dc\uad50', '\uc2dc\uad50\uc721\uccad', '\uc558\ub2e4 ', '\uc57c ', '\uc57c \ud560', '\uc5d0 ', '\uc5d0\uac8c ', '\uc5d0\uc11c ', '\uc5ec\uad50', '\uc5ec\uad50\uc0ac', '\uc5f0\uae08', '\uc640 ',\n'\uc721\uccad', '\uc73c\ub85c ', '\uc740 ', '\uc744 ', '\uc744 \uac15', '\uc744 \uac15\ud558', '\uc744 \uac15\ud558\uac8c ', '\uc744 \ubcf4', '\uc758 ', '\uc758 \ud314', '\uc758 \ud314\uc744 ', '\uc758 \ud314\uc744 \uaebe', '\uc758 \ud314\uc744 \uaebe\ub294 ',\n'\uc758 \ud314\uc744 \uaebe\ub294 \ub4f1 ', '\uc774 ', '\uc77c \ub300\uc804', '\uc801\uc778', '\uc801\uc778 ', '\uc804\ud574', '\uc84c\ub2e4 ', '\uc8fc\ubcc0', '\uc9c0 ', '\uc9c0 \uc54a', '\uc9c0\ub09c', '\uc9c0\ub9cc', '\ucd08\ub4f1', '\ucd5c \ub300', '\ucd5c \ub300\ud589\uc740 ',\n'\ud3ed\ub825', '\ud3ed\ub825\uc801\uc778 ', '\ud558\uace0 ', '\ud558\ub298', '\ud559\uad50', '\ud559\uad50 ', '\ud559\uad50 \uce21', '\ud55c ', '\ud55c \uac83', '\ud55c \uac83\uc73c\ub85c ', '\ud55c \uac83\uc73c\ub85c \uc54c', '\ud574 ', '\ud574\ub2f9', '\ud574\ub2f9 \uad50\uc0ac',\n'\ud574\ub2f9 \uad50\uc0ac\ub294 ', '\ud588\uc2b5\ub2c8', '\ud588\uc2b5\ub2c8\ub2e4 ', '\ud589\uc740 ', '\ud734\uc9c1', '\ud788 \u2018]\n\nVocab Len: 100\n</code></pre> <p>\u2705 \"\ub300\uc804\" \u2192\u00a0\ube48\ubc88\ud558\uac8c \ub4f1\uc7a5\ud558\uc5ec \ubcd1\ud569\ub428</p> <p>\u2705 \"\ub3d9\ub8cc \uad50\uc0ac\" \u2192\u00a0\ub2e8\uc5b4 \uc870\ud569\uc774 \uc790\uc8fc \ub4f1\uc7a5\ud558\uc5ec \ubcd1\ud569\ub428</p> <p>\u2705 \"\uad6d\ubbfc\uc5f0\uae08\" \u2192\u00a0\ub274\uc2a4\uc5d0\uc11c \ubc18\ubcf5\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\uc5b4 \ud558\ub098\uc758 \ub2e8\uc5b4\ub85c \ubcd1\ud569\ub428</p> <p>\u2705 \"\uc758 \ud314\uc744 \uaebe\ub294 \ub4f1\" \u2192\u00a0Corpus\uac00 \uc801\uc5b4 \uc77c\ubc18\uc801\uc778 NLP\uc5d0\uc11c\ub294 \ub098\uc624\uc9c0 \uc54a\ub294 \ud615\ud0dc\ub3c4 \ud3ec\ud568\ub428</p> <p> </p>"},{"location":"D.%20AI/Tokenization/#d","title":"D. \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ud1b5\ud574 \uc27d\uac8c \ud1a0\ud070\ud654 \uc9c4\ud589","text":"<p>\uc2e4\uc81c\ub85c Hugging face\uc758 <code>tokenizers</code> \ub77c\uc774\ube0c\ub7ec\ub9ac\uc640 <code>datasets</code> \ub97c \ud65c\uc6a9\ud558\uc5ec \ud1a0\ud070\ud654\ub97c \uad6c\ud604\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p></p> <p>\ud544\uc694\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58</p> <pre><code>pip install transformers tokenizers datasets\n</code></pre> <p></p> <p>\ub370\uc774\ud130\uc14b \ub85c\ub4dc\ud558\uae30</p> <p>\uc6b0\uc120 \ud559\uc2b5\uc5d0 \uc0ac\uc6a9\ud560 \ub370\uc774\ud130\uc14b\uc744 \ubd88\ub7ec\uc635\ub2c8\ub2e4. \uc5ec\uae30\uc11c\ub294 Hugging Face\uc758 <code>datasets</code> \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\uad6d\uc5b4/\uc601\uc5b4 \ub370\uc774\ud130\uc14b\uc744 \ub85c\ub4dc\ud569\ub2c8\ub2e4.</p> <pre><code>from datasets import load_dataset\n\n# \ub370\uc774\ud130\uc14b \ub85c\ub4dc\ndataset = load_dataset(\"bongsoo/social_science_en_ko\", split='train')\n\n# \ud2b9\uc815 \uceec\ub7fc\uc758 \ub370\uc774\ud130 \ucd94\ucd9c\ndataset_corpus = dataset['\uc81c2\ud56d\uc744 \ud568\uaed8 \ub450\ub294 \uac83\uc774 \uc801\uc808\ud55c\uc9c0\uc5d0 \ub300\ud558\uc5ec \ub17c\uc758 \uacfc\uc815\uc5d0\uc11c \uc758\ubb38\uc774 \uc81c\uae30\ub418\uae30\ub3c4 \ud558\uc600\ub2e4.']\n\n# \ub370\uc774\ud130 \uc0d8\ud50c\ub9c1 (\uba54\ubaa8\ub9ac \uad00\ub9ac\ub97c \uc704\ud574)\ndataset_sample = dataset_corpus[:1000000]\n</code></pre> <p></p> <p>\ud1a0\ud06c\ub098\uc774\uc800 \ud559\uc2b5\uc2dc\ud0a4\uae30</p> <p>\uc774\uc81c BPE(Byte Pair Encoding) \uc54c\uace0\ub9ac\uc998\uc744 \uc0ac\uc6a9\ud558\ub294 \ud1a0\ud06c\ub098\uc774\uc800\ub97c \uc815\uc758\ud558\uace0 \ud559\uc2b5\uc2dc\ucf1c \ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <pre><code>from tokenizers import Tokenizer\nfrom tokenizers.models import BPE\nfrom tokenizers.trainers import BpeTrainer\nfrom tokenizers.pre_tokenizers import Whitespace\n\n# BPE \ud1a0\ud06c\ub098\uc774\uc800 \ucd08\uae30\ud654\ntokenizer = Tokenizer(BPE(unk_token=\"[UNK]\"))\n\n# \uacf5\ubc31 \uae30\uc900 pre-tokenizing \uc124\uc815\ntokenizer.pre_tokenizer = Whitespace()\n\n# \ud1a0\ud06c\ub098\uc774\uc800 \ud2b8\ub808\uc774\ub108 \uc124\uc815\ntrainer = BpeTrainer(\n    vocab_size=32000,  # \uc5b4\ud718 \ud06c\uae30\n    special_tokens=[\"[PAD]\", \"[UNK]\", \"[CLS]\", \"[SEP]\", \"[MASK]\"],  # \ud2b9\uc218 \ud1a0\ud070\n)\n\n# \ub370\uc774\ud130\ub85c\ubd80\ud130 \ud1a0\ud06c\ub098\uc774\uc800 \ud559\uc2b5\ntokenizer.train_from_iterator(dataset_sample, trainer)\n</code></pre> <p></p> <p>\ud559\uc2b5\ub41c \ud1a0\ud06c\ub098\uc774\uc800 \uc0ac\uc6a9\ud558\uae30</p> <p>\uc774\uc81c \ud559\uc2b5\ub41c \ud1a0\ud06c\ub098\uc774\uc800\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud14d\uc2a4\ud2b8\ub97c \ud1a0\ud070\ud654\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <pre><code># \ud1a0\ud06c\ub098\uc774\uc800 \uc800\uc7a5\ntokenizer.save(\"my_tokenizer.json\")\n\n# \ud1a0\ud06c\ub098\uc774\uc800 \ub85c\ub4dc\nloaded_tokenizer = Tokenizer.from_file(\"my_tokenizer.json\")\n\n# \ud55c\uad6d\uc5b4 \ud1a0\ud070\ud654 \uc608\uc2dc\ntext = \"\uc774\ub7f0 \uac83\ub3c4 \uc798 \ubd84\ud574\ud558\ub098?\"\ntokens = loaded_tokenizer.encode(text)\nprint(\"\uc785\ub825 \ubb38\uc7a5:\", text)\nprint(\"\ud1a0\ud070\ud654 \uacb0\uacfc:\", tokens.tokens)\nprint(\"\ud1a0\ud070 ID:\", tokens.ids)\n\n# \uacb0\uacfc \uc608\uc2dc:\n# \uc785\ub825 \ubb38\uc7a5: \uc774\ub7f0 \uac83\ub3c4 \uc798 \ubd84\ud574\ud558\ub098?\n# \ud1a0\ud070\ud654 \uacb0\uacfc: ['\uc774\ub7f0', '\uac83\ub3c4', '\uc798', '\ubd84\ud574', '\ud558\ub098', '?']\n# \ud1a0\ud070 ID: [3970, 4321, 2574, 7554, 3521, 35]\n</code></pre> <p>\uc704 \uc608\uc2dc\uc5d0\uc11c \u201c\uc774\ub7f0 \uac83\ub3c4 \uc798 \ubd84\ud574\ud558\ub098?\u201d \ub77c\ub294 \ubb38\uc7a5\uc774 \uc5b4\ub5bb\uac8c \ud1a0\ud070\ud654\ub418\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <pre><code>\uc785\ub825 \ubb38\uc7a5: \uc774\ub7f0 \uac83\ub3c4 \uc798 \ubd84\ud574\ud558\ub098?\n\ud1a0\ud070\ud654 \uacb0\uacfc: ['\uc774\ub7f0', '\uac83\ub3c4', '\uc798', '\ubd84\ud574', '\ud558\ub098', '?']\n\ud1a0\ud070 ID: [3970, 4321, 2574, 7554, 3521, 35]\n</code></pre> <p></p> <p>\uc774\uc81c \ud1a0\ud070\ud654 \uacb0\uacfc\ub97c \uc790\uc138\ud788 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4. \uc704 \uc608\uc2dc\uc5d0\uc11c \uc6b0\ub9ac\ub294 \uba87 \uac00\uc9c0 \ud765\ubbf8\ub85c\uc6b4 \uc810\ub4e4\uc744 \ubc1c\uacac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>1. \uc758\ubbf8 \ub2e8\uc704\uc758 \ubd84\ub9ac</p> <p>BPE \ud1a0\ud06c\ub098\uc774\uc800\ub294 \ud55c\uad6d\uc5b4 \ubb38\uc7a5\uc744 \ub9e4\uc6b0 \ud6a8\uacfc\uc801\uc73c\ub85c \uc758\ubbf8 \ub2e8\uc704\ub85c \ubd84\ub9ac\ud588\uc2b5\ub2c8\ub2e4. \"\uc774\ub7f0\", \"\uac83\ub3c4\", \"\uc798\", \"\ubd84\ud574\", \"\ud558\ub098\"\uc640 \uac19\uc774 \uac01\uac01\uc758 \uc758\ubbf8\ub97c \uac00\uc9c4 \ub2e8\uc704\ub85c \uae54\ub054\ud558\uac8c \ud1a0\ud070\ud654\ub418\uc5c8\uc8e0.</p> <p></p> <p>2. \uc870\uc0ac \ucc98\ub9ac\uc758 \ud2b9\uc9d5</p> <p>'\uac83\ub3c4'\ucc98\ub7fc \uba85\uc0ac\uc640 \uc870\uc0ac\uac00 \uacb0\ud569\ub41c \ud615\ud0dc\ub97c \ud558\ub098\uc758 \ud1a0\ud070\uc73c\ub85c \uc778\uc2dd\ud55c \uc810\uc774 \uc778\uc0c1\uc801\uc785\ub2c8\ub2e4. \uc774\ub294 \ud1a0\ud06c\ub098\uc774\uc800\uac00 \ud55c\uad6d\uc5b4\uc758 \ud2b9\uc131\uc744 \uc798 \ud559\uc2b5\ud588\ub2e4\ub294 \uc99d\uac70\uc785\ub2c8\ub2e4.</p> <p></p> <p>3. \ub3d9\uc0ac \ubd84\ud574 \ubc29\uc2dd</p> <p>\ud765\ubbf8\ub86d\uac8c\ub3c4 '\ubd84\ud574\ud558\ub098'\uac00 '\ubd84\ud574'\uc640 '\ud558\ub098'\ub85c \ubd84\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc774\ub294 \ud1a0\ud06c\ub098\uc774\uc800\uac00 \uba85\uc0ac '\ubd84\ud574'\uc640 \ub3d9\uc0ac '\ud558\ub2e4'\uc758 \ud65c\uc6a9\ud615\uc744 \uad6c\ubd84\ud560 \uc218 \uc788\uc74c\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.</p> <p></p> <p>4. \ud2b9\uc218\ubb38\uc790 \ucc98\ub9ac \ubc29\ubc95</p> <p>\ubb3c\uc74c\ud45c('?')\ub97c \ubcc4\ub3c4\uc758 \ud1a0\ud070\uc73c\ub85c \ubd84\ub9ac\ud55c \uac83\ub3c4 \uc8fc\ubaa9\ud560 \ub9cc\ud569\ub2c8\ub2e4. \uc774\ucc98\ub7fc \ud2b9\uc218\ubb38\uc790\ub3c4 \uac1c\ubcc4 \ud1a0\ud070\uc73c\ub85c \ucc98\ub9ac\ub418\uc5b4 \ubb38\uc7a5\uc758 \uc758\ubbf8\ub97c \ub354\uc6b1 \uc815\ud655\ud558\uac8c \ud30c\uc545\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p></p> <p>5. \ud1a0\ud070 ID \uc2dc\uc2a4\ud15c</p> <p>\uac01 \ud1a0\ud070\uc5d0\ub294 \uace0\uc720\ud55c ID\uac00 \ubd80\uc5ec\ub429\ub2c8\ub2e4. \uc774 ID\ub294 \ubaa8\ub378\uc774 \ud14d\uc2a4\ud2b8\ub97c \ucc98\ub9ac\ud560 \ub54c \uc0ac\uc6a9\ub418\uba70, \uc791\uc740 \uc22b\uc790\uc77c\uc218\ub85d \ud559\uc2b5 \ub370\uc774\ud130\uc5d0\uc11c \uc790\uc8fc \ub4f1\uc7a5\ud588\uac70\ub098 \uc911\uc694\ud55c \ud2b9\uc218 \ud1a0\ud070\uc77c \uac00\ub2a5\uc131\uc774 \ub192\uc2b5\ub2c8\ub2e4.  \uc774\ub7ec\ud55c \uacfc\uc815\uc744 \uc6b0\ub9ac\ub294 <code>\uc778\ucf54\ub529(encoding)</code> \uc774\ub77c\uace0 \ud569\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \uc774\ub807\uac8c \uc778\ucf54\ub529\ub41c \uc22b\uc790 ID\ub97c \ub2e4\uc2dc \ud14d\uc2a4\ud2b8\ub85c \ubcc0\ud658\ud558\ub294 \uc791\uc5c5\uc744 <code>\ub514\ucf54\ub529(decoding)</code> \uc774\ub77c\uace0\ud569\ub2c8\ub2e4.</p> <p></p> <p>\uc704\uc5d0\uc11c \uc0dd\uc131\ub41c \ud1a0\ud070 ID (\uc608: [3970, 4321, 2574, 7554, 3521, 35])\uac00 \ubc14\ub85c Transformer \ubaa8\ub378\uc758 \uc2e4\uc81c \uc785\ub825\uac12\uc774 \ub429\ub2c8\ub2e4. </p> <p>\ud83d\udd25 Sentence -&gt; Tokens -&gt; Embedding -&gt; Transformer -&gt; Down-Stream Layer -&gt; Output</p> <p>\ub2e4\uc74c \uacfc\uc815\uc778 <code>Embdding</code> \uc5d0 \ub300\ud574\uc120 \ub2e4\uc74c \uc2dc\uac04\uc5d0 \ub2e4\ucdb0\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.</p> <p>\uac10\uc0ac\ud569\ub2c8\ub2e4.</p>"},{"location":"D.%20AI/BERT/Query%2C%20Key%2C%20Value%20%ED%96%89%EB%A0%AC%EC%9D%80%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%83%9D%EC%84%B1%ED%95%98%EB%8A%94%EA%B0%80%3F/","title":"Query, Key, Value \ud589\ub82c\uc740 \uc5b4\ub5bb\uac8c \uc0dd\uc131\ud558\ub294\uac00?","text":""},{"location":"D.%20AI/BERT/Query%2C%20Key%2C%20Value%20%ED%96%89%EB%A0%AC%EC%9D%80%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%83%9D%EC%84%B1%ED%95%98%EB%8A%94%EA%B0%80%3F/#1","title":"1. \uc785\ub825 \uc784\ubca0\ub529 \ud655\ubcf4 \ub2e8\uacc4","text":"<ul> <li>\ubb38\uc7a5\uc758 \uac01 \ud1a0\ud070\uc744 \uc784\ubca0\ub529 \ubca1\ud130\ub85c \ubcc0\ud658\ud55c \ub4a4, \uc704\uce58 \uc778\ucf54\ub529\uc744 \ub354\ud574 \uc785\ub825 \ud589\ub82c X\ub97c \uc900\ube44\ud55c\ub2e4.  </li> <li>X\uc758 \ud06c\uae30\ub294 <code>n \u00d7 d_model</code>\uc774\uba70, n\uc740 \ud1a0\ud070 \uc218, d_model\uc740 \ubaa8\ub378 \ucc28\uc6d0\uc774\ub2e4.</li> </ul>"},{"location":"D.%20AI/BERT/Query%2C%20Key%2C%20Value%20%ED%96%89%EB%A0%AC%EC%9D%80%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%83%9D%EC%84%B1%ED%95%98%EB%8A%94%EA%B0%80%3F/#2","title":"2. \uc804\uc6a9 \uac00\uc911\uce58 \ud589\ub82c \uc815\uc758 \ub2e8\uacc4","text":"<ul> <li>\ucffc\ub9ac\u00b7\ud0a4\u00b7\ubc38\ub958 \uac01\uac01\uc5d0 \ub300\uc751\ud558\ub294 \uac00\uc911\uce58 \ud589\ub82c <code>W_Q</code>, <code>W_K</code>, <code>W_V</code>\ub97c \ud559\uc2b5 \uac00\ub2a5\ud55c \ud30c\ub77c\ubbf8\ud130\ub85c \ucd08\uae30\ud654\ud55c\ub2e4.  </li> <li>\uc77c\ubc18\uc801\uc778 \ud06c\uae30\ub294 <code>d_model \u00d7 d_h</code>\uc774\uba70, <code>d_h</code>\ub294 \ud5e4\ub4dc\ubcc4 \ucc28\uc6d0\uc774\ub2e4.</li> </ul>"},{"location":"D.%20AI/BERT/Query%2C%20Key%2C%20Value%20%ED%96%89%EB%A0%AC%EC%9D%80%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%83%9D%EC%84%B1%ED%95%98%EB%8A%94%EA%B0%80%3F/#3","title":"3. \uc120\ud615 \ud22c\uc601 \uc218\ud589 \ub2e8\uacc4","text":"<ul> <li>\uc785\ub825 \ud589\ub82c X\uc5d0 \uac01 \uac00\uc911\uce58 \ud589\ub82c\uc744 \uacf1\ud574 \uc138 \uac1c\uc758 \ud589\ub82c\uc744 \uc5bb\ub294\ub2e4.  </li> <li><code>Q = X \u00b7 W_Q</code> </li> <li><code>K = X \u00b7 W_K</code> </li> <li><code>V = X \u00b7 W_V</code> </li> <li>\uc774 \uc5f0\uc0b0\uc740 \uc644\uc804\uc5f0\uacb0\uce35\uacfc \ub3d9\uc77c\ud558\uba70 GPU \ubcd1\ub82c\ud654\uac00 \uc6a9\uc774\ud558\ub2e4.</li> </ul>"},{"location":"D.%20AI/BERT/Query%2C%20Key%2C%20Value%20%ED%96%89%EB%A0%AC%EC%9D%80%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%83%9D%EC%84%B1%ED%95%98%EB%8A%94%EA%B0%80%3F/#4","title":"4. \uba40\ud2f0 \ud5e4\ub4dc \ubd84\ud560 \ub2e8\uacc4","text":"<ul> <li>\ud45c\ud604 \ub2e4\uc591\uc131\uc744 \uc704\ud574 <code>h</code>\uac1c\uc758 \ud5e4\ub4dc\ub85c \ubd84\ub9ac\ud55c\ub2e4.  </li> <li>\uad6c\ud604 \ubc29\uc2dd  </li> <li>\ubcd1\ud569 \ubc29\uc2dd: \ud55c \ubc88\uc758 \ud589\ub82c \uacf1\uc73c\ub85c <code>Q</code>, <code>K</code>, <code>V</code>\ub97c <code>n \u00d7 (h\u00b7d_k)</code> \ud06c\uae30\ub85c \ub9cc\ub4e0 \ub4a4 \ub9c8\uc9c0\ub9c9 \ucc28\uc6d0\uc744 <code>(h, d_k)</code>\ub85c \ub9ac\uc250\uc774\ud504\ud55c\ub2e4.  </li> <li>\ubd84\ub9ac \ubc29\uc2dd: \ud5e4\ub4dc\ub9c8\ub2e4 \uace0\uc720\ud55c <code>(W_{Q_i}, W_{K_i}, W_{V_i})</code>\ub97c \ub450\uace0 \ub3c5\ub9bd\uc801\uc73c\ub85c \ud22c\uc601\ud55c\ub2e4.</li> </ul>"},{"location":"D.%20AI/BERT/Query%2C%20Key%2C%20Value%20%ED%96%89%EB%A0%AC%EC%9D%80%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%83%9D%EC%84%B1%ED%95%98%EB%8A%94%EA%B0%80%3F/#5","title":"5. \ud559\uc2b5\uacfc \uc5c5\ub370\uc774\ud2b8 \ub2e8\uacc4","text":"<ul> <li><code>W_Q</code>, <code>W_K</code>, <code>W_V</code>\ub294 \uc5ed\uc804\ud30c\ub97c \ud1b5\ud574 \uc190\uc2e4 \ud568\uc218\uc758 \uadf8\ub798\ub514\uc5b8\ud2b8\ub97c \ubc1b\uc544 \uc9c0\uc18d\uc801\uc73c\ub85c \uac31\uc2e0\ub41c\ub2e4.  </li> <li>\uc635\ud2f0\ub9c8\uc774\uc800(\uc608: AdamW)\uac00 \uac00\uc911\uce58\ub97c \uc870\uc815\ud558\uc5ec \ud1a0\ud070 \uac04 \uc758\ubbf8 \uad00\uacc4\ub97c \ub0b4\uc7ac\ud654\ud55c\ub2e4.</li> </ul> <p>\uc704 \uc808\ucc28\ub97c \ud1b5\ud574 \uc0dd\uc131\ub41c Q, K, V \ud589\ub82c\uc740 \uc774\ud6c4 \uc2a4\ucf00\uc77c\ub4dc \ub2f7 \ud504\ub85c\ub355\ud2b8 \uc5b4\ud150\uc158\uc5d0 \uc785\ub825\ub418\uc5b4 \ubb38\ub9e5 \uc815\ubcf4\ub97c \uacc4\uc0b0\ud558\uac8c \ub41c\ub2e4.</p>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./","title":"Scaled Dot Product Attention \ub97c \uc815\uc758\ud558\uc2dc\uc624.","text":"<p>\uc2a4\ucf00\uc77c\ub4dc \ub2f7 \ud504\ub85c\ub355\ud2b8 \uc5b4\ud150\uc158\uc740 \ucffc\ub9ac(Query), \ud0a4(Key), \ubc38\ub958(Value) \uc0bc\uc911 \uad6c\uc870\ub97c \uc0ac\uc6a9\ud574, \uc720\uc0ac\ub3c4 \uacc4\uc0b0 \u2192 \uc2a4\ucf00\uc77c \uc870\uc815 \u2192 \ud655\ub960 \uc815\uaddc\ud654 \u2192 \uac00\uc911\ud569\uc758 \ub124 \ub2e8\uacc4\ub97c \uac70\uccd0 \ubb38\ub9e5 \uc815\ubcf4\ub97c \ucd94\ucd9c\ud558\ub294 \uc5b4\ud150\uc158 \uba54\ucee4\ub2c8\uc998\uc774\ub2e4. </p> <p>\ud2b8\ub79c\uc2a4\ud3ec\uba38 \uacc4\uc5f4 \ubaa8\ub378\uc5d0\uc11c \uae30\ubcf8 \ube14\ub85d\uc73c\ub85c \ucc44\ud0dd\ub418\ub294 \uc774\uc720\ub294 \uacc4\uc0b0 \ud6a8\uc728\uc131\uacfc \ubcd1\ub82c\ud654 \uc6a9\uc774\uc131\uc5d0 \uc788\ub2e4.</p>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./#1","title":"1. \uc785\ub825 \uad6c\uc131 \ub2e8\uacc4","text":"<ul> <li> <p>\uc785\ub825 \uc2dc\ud000\uc2a4\uc758 \uac01 \ud1a0\ud070 \uc784\ubca0\ub529\uc744 \ucffc\ub9ac, \ud0a4, \ubc38\ub958\ub85c \ub3c5\ub9bd \ud22c\uc601\ud55c\ub2e4.</p> </li> <li> <p>\ucffc\ub9ac\ub294 \u201c\uc9c8\ubb38\uc790\u201d, \ud0a4\ub294 \u201c\ud6c4\ubcf4 \ub2f5\ubcc0\uc790\u201d, \ubc38\ub958\ub294 \u201c\uc2e4\uc81c \ub2f5\ubcc0 \ub0b4\uc6a9\u201d \uc5ed\ud560\uc744 \ub2f4\ub2f9\ud55c\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./#2-dot-product","title":"2. Dot-Product \uc720\uc0ac\ub3c4 \uacc4\uc0b0 \ub2e8\uacc4","text":"<ul> <li> <p>\ud55c \ud1a0\ud070\uc758 \ucffc\ub9ac\uc640 \ubaa8\ub4e0 \ud1a0\ud070\uc758 \ud0a4 \uac04\uc5d0 \ub0b4\uc801(\ub2f7 \ud504\ub85c\ub355\ud2b8)\uc744 \uc218\ud589\ud574 \uc720\uc0ac\ub3c4 \ud589\ub82c\uc744 \ub9cc\ub4e0\ub2e4.</p> </li> <li> <p>\ub0b4\uc801\uc740 \ub450 \ubca1\ud130\uc758 \ubc29\ud5a5 \uc720\uc0ac\ub3c4\ub97c \ub2e8\uc77c \uc22b\uc790\ub85c \ube60\ub974\uac8c \ud658\uc0b0\ud558\ubbc0\ub85c, \ub300\uaddc\ubaa8 \uc2dc\ud000\uc2a4\uc5d0\uc11c \ud6a8\uc728\uc801\uc774\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./#3","title":"3. \uc2a4\ucf00\uc77c\ub9c1 \ub2e8\uacc4","text":"<ul> <li> <p>\ud0a4 \ubca1\ud130 \ucc28\uc6d0\uc758 \uc81c\uacf1\uadfc\uc73c\ub85c \uc720\uc0ac\ub3c4 \uac12\uc744 \ub098\ub204\uc5b4 \uc2a4\ucf00\uc77c\uc744 \uc870\uc815\ud55c\ub2e4.</p> </li> <li> <p>\ucc28\uc6d0\uc774 \ud074\uc218\ub85d \ub0b4\uc801\uac12\uc774 \uacfc\ub3c4\ud558\uac8c \ucee4\uc838 \uc18c\ud504\ud2b8\ub9e5\uc2a4\uac00 \ud55c\ub450 \ud56d\ubaa9\uc5d0\ub9cc \uce58\uc6b0\uce58\ub294 \ud604\uc0c1\uc774 \uc0dd\uae30\ubbc0\ub85c, \uc774\ub97c \ubc29\uc9c0\ud574 \ud559\uc2b5 \uc548\uc815\uc131\uc744 \ub192\uc778\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./#4","title":"4. \uc18c\ud504\ud2b8\ub9e5\uc2a4 \uc815\uaddc\ud654 \ub2e8\uacc4","text":"<ul> <li> <p>\uc2a4\ucf00\uc77c\ub9c1\ub41c \uc720\uc0ac\ub3c4 \ud589\ub82c\uc5d0 \uc18c\ud504\ud2b8\ub9e5\uc2a4\ub97c \uc801\uc6a9\ud574 \uac01 \ud589\uc774 0~1 \ud655\ub960 \ubd84\ud3ec\uac00 \ub418\ub3c4\ub85d \ub9cc\ub4e0\ub2e4.</p> </li> <li> <p>\uacb0\uacfc \ubd84\ud3ec\ub294 \u201c\uac01 \ud1a0\ud070\uc774 \ub2e4\ub978 \ud1a0\ud070\uc5d0 \uc5bc\ub9c8\ub9cc\ud07c \uc8fc\ubaa9\ud560\uc9c0\u201d\ub97c \ub098\ud0c0\ub0b4\ub294 \uac00\uc911\uce58 \uc5ed\ud560\uc744 \ud55c\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./#5","title":"5. \uac00\uc911\ud569 \ub2e8\uacc4","text":"<ul> <li> <p>\uc815\uaddc\ud654\ub41c \uac00\uc911\uce58\ub97c \ubc38\ub958 \ubca1\ud130\uc5d0 \uacf1\ud574 \uac00\uc911\ud569\uc744 \uc218\ud589\ud55c\ub2e4.</p> </li> <li> <p>\uc774 \uac00\uc911\ud569 \uacb0\uacfc\uac00 \ubc14\ub85c \uac01 \ud1a0\ud070\uc774 \uc2dc\ud000\uc2a4 \uc804\uccb4 \ubb38\ub9e5\uc744 \ubc18\uc601\ud574 \uc0c8\ub85c \uc5bb\uc740 \ud45c\ud604(\uc5b4\ud150\uc158 \uacb0\uacfc)\uc774\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/Scaled%20Dot-Product%20Attention%20%EB%A5%BC%20%EC%A0%95%EC%9D%98%ED%95%98%EC%8B%9C%EC%98%A4./#_1","title":"\ud575\uc2ec \ud2b9\uc9d5 \uc815\ub9ac","text":"\uad6c\ubd84 \ubaa9\uc801 \ud6a8\uacfc \ub2f7 \ud504\ub85c\ub355\ud2b8 \ud1a0\ud070 \uac04 \uc720\uc0ac\ub3c4 \uc0b0\ucd9c \uacc4\uc0b0\ub7c9\uc774 \uc791\uace0 GPU \ubcd1\ub82c\ud654\uc5d0 \uc801\ud569\ud558\ub2e4 \uc2a4\ucf00\uc77c\ub9c1 \ud070 \ucc28\uc6d0\uc5d0\uc11c\uc758 \uac12 \ud3ed\uc8fc \ubc29\uc9c0 \uadf8\ub798\ub514\uc5b8\ud2b8 \uc548\uc815\uc131 \ud655\ubcf4 \uc18c\ud504\ud2b8\ub9e5\uc2a4 \uac00\uc911\uce58 \ud655\ub960 \ubd84\ud3ec\ud654 \uc9c1\uad00\uc801 \ud574\uc11d\u00b7\uc5ed\uc804\ud30c \uc6a9\uc774 \ubc38\ub958 \uac00\uc911\ud569 \ubb38\ub9e5 \uc815\ubcf4 \uacb0\ud569 \uc785\ub825 \ud1a0\ud070\uc744 \ubb38\ub9e5 \uae30\ubc18\uc73c\ub85c \uc7ac\ud45c\ud604 <p>\uc2a4\ucf00\uc77c\ub4dc \ub2f7 \ud504\ub85c\ub355\ud2b8 \uc5b4\ud150\uc158\uc740 \uc774\ub807\ub4ef \u201c\uc720\uc0ac\ub3c4 \uce21\uc815 \u2192 \uc2a4\ucf00\uc77c \uc870\uc815 \u2192 \ud655\ub960\ud654 \u2192 \ubb38\ub9e5 \ud1b5\ud569\u201d\uc758 \uba85\ud655\ud55c \uc808\ucc28\ub97c \ud1b5\ud574, \uc785\ub825 \uc2dc\ud000\uc2a4 \ub0b4\ubd80 \uad00\uacc4\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ubaa8\ub378\ub9c1\ud558\ub294 \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc774\ub2e4.</p>"},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/","title":"\uc140\ud504 \uc5b4\ud150\uc158\uc758 \uc804\uccb4 \ub2e8\uacc4\ub97c \uc124\uba85\ud558\ub77c","text":""},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/#_1","title":"\uc140\ud504 \uc5b4\ud150\uc158, \uc65c \uc911\uc694\ud55c\uac00","text":"<p>\uc140\ud504 \uc5b4\ud150\uc158\uc740 \uc785\ub825 \uc2dc\ud000\uc2a4 \ub0b4\ubd80\uc5d0\uc11c \uac01 \ud1a0\ud070\uc774 \ub2e4\ub978 \ubaa8\ub4e0 \ud1a0\ud070\uacfc\uc758 \uad00\uacc4\ub97c \ud559\uc2b5\ud574 \ubb38\ub9e5 \uc815\ubcf4\ub97c \uc7ac\uad6c\uc131\ud558\ub294 \uba54\ucee4\ub2c8\uc998\uc774\ub2e4. \uc774 \uacfc\uc815\uc744 \uac70\uce5c \ucd9c\ub825\uc740 \uc774\ud6c4 \ud53c\ub4dc\ud3ec\uc6cc\ub4dc \ub124\ud2b8\uc6cc\ud06c\ub098 \ub2e4\uc74c \ub808\uc774\uc5b4\ub85c \uc804\ub2ec\ub418\uc5b4 \ubb38\uc7a5 \uc218\uc900\uc758 \uc758\ubbf8\ub97c \uc815\uad50\ud558\uac8c \ud45c\ud604\ud558\uac8c \ub41c\ub2e4.</p>"},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/#0-querykeyvalue","title":"0\ub2e8\uacc4. \ucffc\ub9ac(Query)\u00b7\ud0a4(Key)\u00b7\ubc38\ub958(Value) \ucd94\ucd9c \ub2e8\uacc4","text":"<ul> <li> <p>\ubb34\uc5c7\uc744 \ud558\ub294 \ub2e8\uacc4\uc778\uac00     \uc785\ub825 \uc784\ubca0\ub529\uc5d0 \uc138 \uc885\ub958\uc758 \uac00\uc911\uce58 \ud589\ub82c\uc744 \uacf1\ud574 \ucffc\ub9ac, \ud0a4, \ubc38\ub958 \ubca1\ud130\ub97c \uc0dd\uc131\ud558\ub294 \ub2e8\uacc4\uc774\ub2e4.</p> </li> <li> <p>\uc774 \ub2e8\uacc4\uac00 \ud544\uc694\ud55c \uc774\uc720     \uc140\ud504 \uc5b4\ud150\uc158\uc740 \u201c\uc9c8\ubb38\u00b7\ub2f5\ubcc0\u00b7\uc815\ubcf4\u201d\ub77c\ub294 \uc138 \uac00\uc9c0 \uad00\uc810\uc73c\ub85c \uc785\ub825\uc744 \ubc14\ub77c\ubcf8\ub2e4. \ucffc\ub9ac\ub294 \uc9c8\ubb38\uc790, \ud0a4\ub294 \uc9c8\ubb38\uc5d0 \uc751\ub2f5\ud560 \uc218 \uc788\ub294 \uc751\ub2f5\uc790, \ubc38\ub958\ub294 \uc2e4\uc81c \uc815\ubcf4\ub97c \ub2f4\ub294 \uc5ed\ud560\uc744 \ub2f4\ub2f9\ud55c\ub2e4. \uc774\ub807\uac8c \uc5ed\ud560\uc744 \ubd84\ub9ac\ud568\uc73c\ub85c\uc368 \ud1a0\ud070 \uac04 \uc0c1\ud638\uc791\uc6a9\uc744 \uc720\uc5f0\ud558\uac8c \ubaa8\ub378\ub9c1\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uacb0\uacfc     \ud1a0\ud070\ub9c8\ub2e4 \uc138 \uac1c\uc758 \ubca1\ud130\uac00 \uc0dd\uae30\uba70, \uc774\ud6c4 \ub2e8\uacc4\uc5d0\uc11c \uc0c1\ub300\uc801 \uc911\uc694\ub3c4\ub97c \uacc4\uc0b0\ud558\ub294 \uc7ac\ub8cc\uac00 \ub41c\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/#1","title":"1\ub2e8\uacc4. \ucffc\ub9ac\u2013\ud0a4 \ub0b4\uc801 \uc5f0\uc0b0 \ub2e8\uacc4","text":"<ul> <li> <p>\ubb34\uc5c7\uc744 \ud558\ub294 \ub2e8\uacc4\uc778\uac00     \ucffc\ub9ac \ubca1\ud130\uc640 \ubaa8\ub4e0 \ud0a4 \ubca1\ud130\uc758 \ub0b4\uc801\uc744 \uacc4\uc0b0\ud574 \uc720\uc0ac\ub3c4 \ud589\ub82c\uc744 \uc5bb\ub294 \ub2e8\uacc4\uc774\ub2e4.</p> </li> <li> <p>\ub0b4\uc801\uc744 \uc0ac\uc6a9\ud558\ub294 \uc774\uc720     \ub0b4\uc801\uc740 \ub450 \ubca1\ud130\uc758 \ubc29\ud5a5 \uc720\uc0ac\ub3c4(\ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4\uc5d0 \ube44\ub840)\ub97c \ube60\ub974\uac8c \uce21\uc815\ud560 \uc218 \uc788\ub294 \uacc4\uc0b0\ub7c9\uc774 \uc801\uc740 \uc5f0\uc0b0\uc774\ub2e4. \uac01 \ud1a0\ud070\uc774 \uc790\uc2e0\uacfc \ub2e4\ub978 \ud1a0\ud070 \uac04 \uc758\ubbf8\uc801 \uad00\ub828\ub3c4\ub97c \uc9c1\uad00\uc801\uc73c\ub85c \ud30c\uc545\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c \uc5b4\ud150\uc158 \uac00\uc911\uce58\uc758 \uae30\ucd08 \uc790\ub8cc\ub85c \uc801\ud569\ud558\ub2e4.</p> </li> <li> <p>\uacb0\uacfc     \ud589\ub9c8\ub2e4 n\uac1c\uc758 \uc2a4\ucf54\uc5b4(\uac01 \ud1a0\ud070\uc774 \ub2e4\ub978 \ud1a0\ud070\uc744 \uc5bc\ub9c8\ub098 \ucc38\uace0\ud560\uc9c0\uc5d0 \ub300\ud55c \uc810\uc218)\ub97c \ud3ec\ud568\ud55c \ud589\ub82c\uc774 \ub9cc\ub4e4\uc5b4\uc9c4\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/#2-dk","title":"2\ub2e8\uacc4. \uc2a4\ucf00\uc77c\ub9c1(\u221adk\ub85c \ub098\ub204\uae30) \ub2e8\uacc4","text":"<ul> <li> <p>\ubb34\uc5c7\uc744 \ud558\ub294 \ub2e8\uacc4\uc778\uac00     \ub0b4\uc801 \uacb0\uacfc\ub97c \ud0a4 \ubca1\ud130 \ucc28\uc6d0\uc758 \uc81c\uacf1\uadfc \uac12\uc73c\ub85c \ub098\ub204\uc5b4 \uac12\uc744 \ucd95\uc18c\ud558\ub294 \ub2e8\uacc4\uc774\ub2e4.</p> </li> <li> <p>\ub098\ub204\ub294 \uc774\uc720     \ubca1\ud130 \ucc28\uc6d0\uc774 \ucee4\uc9c8\uc218\ub85d \ub0b4\uc801\uac12 \ubd84\ud3ec\uac00 \ub113\uc5b4\uc838 \uc18c\ud504\ud2b8\ub9e5\uc2a4 \uc785\ub825\uc774 \uacfc\ub3c4\ud558\uac8c \ucee4\uc9c8 \uc218 \uc788\ub2e4. \uac12\uc774 \ucee4\uc9c0\uba74 \uc18c\ud504\ud2b8\ub9e5\uc2a4\uac00 \ub9e4\uc6b0 \uc791\uc740 \uc601\uc5ed\uc5d0\uc11c\ub9cc \ubcc0\ud654\ud558\uc5ec \ud559\uc2b5\uc774 \ubd88\uc548\uc815\ud574\uc9c4\ub2e4. \ucc28\uc6d0\uc758 \uc81c\uacf1\uadfc\uc73c\ub85c \ub098\ub204\uba74 \uac12\uc758 \ubc94\uc704\ub97c \uc801\uc808\ud788 \uc881\ud600 \uadf8\ub798\ub514\uc5b8\ud2b8 \uc18c\uc2e4\u00b7\ud3ed\ubc1c \uc704\ud5d8\uc744 \uc904\uc77c \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uacb0\uacfc     \uc218\uce58\uc801\uc73c\ub85c \uc548\uc815\uc801\uc778 \uc2a4\ucf54\uc5b4 \ud589\ub82c\uc744 \ub2e4\uc74c \ub2e8\uacc4\uc5d0 \uc804\ub2ec\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/#3","title":"3\ub2e8\uacc4. \uc18c\ud504\ud2b8\ub9e5\uc2a4 \uc815\uaddc\ud654 \ub2e8\uacc4","text":"<ul> <li> <p>\ubb34\uc5c7\uc744 \ud558\ub294 \ub2e8\uacc4\uc778\uac00     \uc2a4\ucf00\uc77c\ub9c1\ub41c \uc2a4\ucf54\uc5b4 \ud589\ub82c\uc758 \uac01 \ud589\uc5d0 \uc18c\ud504\ud2b8\ub9e5\uc2a4\ub97c \uc801\uc6a9\ud574 \ud655\ub960 \ubd84\ud3ec\ub85c \ubcc0\ud658\ud558\ub294 \ub2e8\uacc4\uc774\ub2e4.</p> </li> <li> <p>\uc18c\ud504\ud2b8\ub9e5\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720     \uc18c\ud504\ud2b8\ub9e5\uc2a4\ub294 \uc74c\uc218\u00b7\uc591\uc218 \uac12\uc744 \ubaa8\ub450 0~1 \ubc94\uc704\uc758 \ud655\ub960\uac12\uc73c\ub85c \ubcc0\ud658\ud558\uace0, \ud589\ub9c8\ub2e4 \ucd1d\ud569\uc774 1\uc778 \ubd84\ud3ec\ub97c \ub9cc\ub4e0\ub2e4. \uc774\ub97c \ud1b5\ud574 \u201c\uc5b4\ub290 \ud1a0\ud070\uc5d0 \uc5bc\ub9c8\ub9cc\ud07c \uc9d1\uc911\ud560\uc9c0\u201d\ub97c \uc9c1\uad00\uc801\uc73c\ub85c \ud574\uc11d\ud560 \uc218 \uc788\uc73c\uba70, \uc5ed\uc804\ud30c \uc2dc \uc548\uc815\uc801 \uadf8\ub798\ub514\uc5b8\ud2b8\ub97c \ubcf4\uc7a5\ud55c\ub2e4.</p> </li> <li> <p>\uacb0\uacfc     \uac01 \ud1a0\ud070\uc774 \ub2e4\ub978 \ud1a0\ud070\uc5d0 \ubd80\uc5ec\ud560 \uc8fc\ubaa9\ub3c4\uac00 \uba85\ud655\ud55c \ud655\ub960 \ubd84\ud3ec \ud615\ud0dc\ub85c \uc644\uc131\ub41c\ub2e4.</p> </li> </ul>"},{"location":"D.%20AI/BERT/%EC%85%80%ED%94%84%20%EC%96%B4%ED%85%90%EC%85%98%EC%9D%98%20%EC%A0%84%EC%B2%B4%20%EB%8B%A8%EA%B3%84%EB%A5%BC%20%EC%84%A4%EB%AA%85%ED%95%98%EB%9D%BC/#4-z","title":"4\ub2e8\uacc4. \uc5b4\ud150\uc158 \uac00\uc911\ud569(Z) \uacc4\uc0b0 \ub2e8\uacc4","text":"<ul> <li> <p>\ubb34\uc5c7\uc744 \ud558\ub294 \ub2e8\uacc4\uc778\uac00     \uc18c\ud504\ud2b8\ub9e5\uc2a4\ub85c \uc5bb\uc740 \uac00\uc911\uce58\ub97c \ubc38\ub958 \ubca1\ud130\ub4e4\uc5d0 \uacf1\ud55c \ub4a4 \ud569\uc0b0\ud574 \ucd5c\uc885 \uc5b4\ud150\uc158 \ucd9c\ub825\uc744 \uc0dd\uc131\ud558\ub294 \ub2e8\uacc4\uc774\ub2e4.</p> </li> <li> <p>\uc774 \ub2e8\uacc4\uac00 \ud544\uc694\ud55c \uc774\uc720     \uac00\uc911\ud569 \uacb0\uacfc\ub294 \uac01 \ud1a0\ud070\uc774 \uc2dc\ud000\uc2a4 \uc804\ubc18\uc5d0\uc11c \uc5bb\uc740 \ubb38\ub9e5 \uc815\ubcf4\ub97c \ubc18\uc601\ud55c \uc0c8\ub85c\uc6b4 \ud45c\ud604\uc774\ub2e4. \uc774\ud6c4 \ub808\uc774\uc5b4\uc5d0\uc11c \uc774 \ud45c\ud604\uc744 \uc0ac\uc6a9\ud574 \ubb38\uc7a5 \uc758\ubbf8\ub97c \ub354\uc6b1 \uae4a\uc774 \uc788\uac8c \uc774\ud574\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uacb0\uacfc     \uc5b4\ud150\uc158 \ucd9c\ub825 Z\uac00 \uc0dd\uc131\ub418\uba70, \uc774\ub294 \uc794\ucc28 \uc5f0\uacb0\u00b7\ub808\uc774\uc5b4 \uc815\uaddc\ud654\ub97c \uac70\uccd0 \ub2e4\uc74c \uc11c\ube0c\ub808\uc774\uc5b4\ub098 \ub2e4\uc74c \ud2b8\ub79c\uc2a4\ud3ec\uba38 \ube14\ub85d\uc73c\ub85c \uc804\ub2ec\ub41c\ub2e4.</p> </li> </ul> <p>0\ub2e8\uacc4\uc5d0\uc11c \ucffc\ub9ac\u00b7\ud0a4\u00b7\ubc38\ub958\ub97c \ubd84\ub9ac \ud22c\uc601\ud558\uace0,  1\ub2e8\uacc4\uc640 2\ub2e8\uacc4\uc5d0\uc11c \uc720\uc0ac\ub3c4\ub97c \uc548\uc815\uc801\uc73c\ub85c \uacc4\uc0b0\ud558\uba70,  3\ub2e8\uacc4\uc5d0\uc11c \uc815\uaddc\ud654\ub41c \uac00\uc911\uce58\ub97c \ub9cc\ub4e4\uace0,  4\ub2e8\uacc4\uc5d0\uc11c \ubb38\ub9e5\uc774 \ubc18\uc601\ub41c \ud45c\ud604\uc744 \uc5bb\uac8c \ub418\ub294 \ud750\ub984\uc774 \uc140\ud504 \uc5b4\ud150\uc158\uc758 \ud575\uc2ec\uc774\ub2e4. </p> <p>\uc774\ub7ec\ud55c \ub2e8\uacc4\uc801 \uc124\uacc4 \ub355\ubd84\uc5d0 \ud2b8\ub79c\uc2a4\ud3ec\uba38 \ubaa8\ub378\uc740 \uae34 \ubb38\uc7a5\uc5d0\uc11c\ub3c4 \uad00\uacc4\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ud559\uc2b5\ud558\uace0,  \ubc88\uc5ed\u00b7\uc694\uc57d\u00b7\uc9c8\ubb38 \ub2f5\ubcc0 \ub4f1 \ub2e4\uc591\ud55c \uc790\uc5f0\uc5b4 \ucc98\ub9ac \uacfc\uc81c\uc5d0\uc11c \ub192\uc740 \uc131\ub2a5\uc744 \ubc1c\ud718\ud558\uac8c \ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangChain/Document%20Loader/PDF/","title":"PDF","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangChain/Document%20Loader/PDF/#pdfminerhigh_level","title":"pdfminer.high_level","text":"<pre><code>from pdfminer.high_level import extract_text\nfrom pdfminer.layout import LAParams\nimport os\nimport sys\n\ndef extract_korean_text_from_pdf(pdf_path, output_path=None):\n    \"\"\"\n    \ud55c\uae00 PDF \ud30c\uc77c\uc5d0\uc11c \ud14d\uc2a4\ud2b8\ub97c \ucd94\ucd9c\ud558\ub294 \ud568\uc218\n\n    Args:\n        pdf_path (str): PDF \ud30c\uc77c \uacbd\ub85c\n        output_path (str, optional): \ucd94\ucd9c\ub41c \ud14d\uc2a4\ud2b8\ub97c \uc800\uc7a5\ud560 \ud30c\uc77c \uacbd\ub85c\n\n    Returns:\n        str: \ucd94\ucd9c\ub41c \ud14d\uc2a4\ud2b8\n    \"\"\"\n    try:\n        # LAParams \uc124\uc815 (\ud55c\uae00 \ucc98\ub9ac\ub97c \uc704\ud55c \ucd5c\uc801\ud654)\n        laparams = LAParams(\n            boxes_flow=0.5,        # \ud14d\uc2a4\ud2b8 \ubc15\uc2a4 \ud750\ub984 \uc870\uc815\n            word_margin=0.1,       # \ub2e8\uc5b4 \uac04 \uc5ec\ubc31\n            char_margin=2.0,       # \ubb38\uc790 \uac04 \uc5ec\ubc31\n            line_margin=0.5,       # \uc904 \uac04 \uc5ec\ubc31\n            detect_vertical=True   # \uc138\ub85c \ud14d\uc2a4\ud2b8 \uac10\uc9c0\n        )\n\n        # PDF\uc5d0\uc11c \ud14d\uc2a4\ud2b8 \ucd94\ucd9c\n        text = extract_text(pdf_path, laparams=laparams)\n\n        # \ucd94\ucd9c\ub41c \ud14d\uc2a4\ud2b8 \uc815\ub9ac\n        cleaned_text = text.strip()\n\n        # \ud30c\uc77c\ub85c \uc800\uc7a5 (\uc120\ud0dd\uc0ac\ud56d)\n        if output_path:\n            with open(output_path, 'w', encoding='utf-8') as f:\n                f.write(cleaned_text)\n            print(f\"\ud14d\uc2a4\ud2b8\uac00 {output_path}\uc5d0 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\")\n\n        return cleaned_text\n\n    except Exception as e:\n        print(f\"\uc624\ub958 \ubc1c\uc0dd: {e}\")\n        return None\n\ndef extract_text_by_pages(pdf_path):\n    \"\"\"\n    \ud398\uc774\uc9c0\ubcc4\ub85c \ud14d\uc2a4\ud2b8\ub97c \ucd94\ucd9c\ud558\ub294 \ud568\uc218\n\n    Args:\n        pdf_path (str): PDF \ud30c\uc77c \uacbd\ub85c\n\n    Returns:\n        list: \ud398\uc774\uc9c0\ubcc4 \ud14d\uc2a4\ud2b8 \ub9ac\uc2a4\ud2b8\n    \"\"\"\n    from pdfminer.high_level import extract_pages\n    from pdfminer.layout import LTTextContainer\n\n    pages_text = []\n\n    try:\n        for page_layout in extract_pages(pdf_path):\n            page_text = \"\"\n            for element in page_layout:\n                if isinstance(element, LTTextContainer):\n                    page_text += element.get_text()\n            pages_text.append(page_text.strip())\n\n        return pages_text\n\n    except Exception as e:\n        print(f\"\uc624\ub958 \ubc1c\uc0dd: {e}\")\n        return []\n\ndef main():\n    # \uc0ac\uc6a9 \uc608\uc2dc\n    pdf_file = \"sample_korean.pdf\"  # \ud55c\uae00 PDF \ud30c\uc77c \uacbd\ub85c\n\n    # \ud30c\uc77c \uc874\uc7ac \ud655\uc778\n    if not os.path.exists(pdf_file):\n        print(f\"\ud30c\uc77c\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4: {pdf_file}\")\n        return\n\n    print(\"PDF \ud14d\uc2a4\ud2b8 \ucd94\ucd9c \uc2dc\uc791...\")\n\n    # \uc804\uccb4 \ud14d\uc2a4\ud2b8 \ucd94\ucd9c\n    extracted_text = extract_korean_text_from_pdf(pdf_file, \"extracted_korean_text.txt\")\n\n    if extracted_text:\n        print(\"\\n=== \ucd94\ucd9c\ub41c \ud14d\uc2a4\ud2b8 \ubbf8\ub9ac\ubcf4\uae30 ===\")\n        print(extracted_text[:500])  # \ucc98\uc74c 500\uc790\ub9cc \ucd9c\ub825\n        print(f\"\\n\uc804\uccb4 \ud14d\uc2a4\ud2b8 \uae38\uc774: {len(extracted_text)} \ubb38\uc790\")\n\n    # \ud398\uc774\uc9c0\ubcc4 \ud14d\uc2a4\ud2b8 \ucd94\ucd9c\n    pages = extract_text_by_pages(pdf_file)\n    print(f\"\\n\ucd1d {len(pages)}\ud398\uc774\uc9c0\uac00 \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\")\n\n    # \uac01 \ud398\uc774\uc9c0\uc758 \ud14d\uc2a4\ud2b8 \ubbf8\ub9ac\ubcf4\uae30\n    for i, page_text in enumerate(pages):\n        if page_text.strip():  # \ube48 \ud398\uc774\uc9c0\uac00 \uc544\ub2cc \uacbd\uc6b0\ub9cc\n            print(f\"\\n--- \ud398\uc774\uc9c0 {i+1} ---\")\n            print(page_text[:200])  # \ucc98\uc74c 200\uc790\ub9cc \ucd9c\ub825\n\ndef batch_extract_pdfs(pdf_folder, output_folder):\n    \"\"\"\n    \ud3f4\ub354 \ub0b4\uc758 \ubaa8\ub4e0 PDF \ud30c\uc77c\uc5d0\uc11c \ud14d\uc2a4\ud2b8 \ucd94\ucd9c\n\n    Args:\n        pdf_folder (str): PDF \ud30c\uc77c\ub4e4\uc774 \uc788\ub294 \ud3f4\ub354 \uacbd\ub85c\n        output_folder (str): \ucd94\ucd9c\ub41c \ud14d\uc2a4\ud2b8\ub97c \uc800\uc7a5\ud560 \ud3f4\ub354 \uacbd\ub85c\n    \"\"\"\n    if not os.path.exists(output_folder):\n        os.makedirs(output_folder)\n\n    pdf_files = [f for f in os.listdir(pdf_folder) if f.endswith('.pdf')]\n\n    for pdf_file in pdf_files:\n        pdf_path = os.path.join(pdf_folder, pdf_file)\n        output_path = os.path.join(output_folder, f\"{os.path.splitext(pdf_file)[0]}.txt\")\n\n        print(f\"\ucc98\ub9ac \uc911: {pdf_file}\")\n        extract_korean_text_from_pdf(pdf_path, output_path)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/","title":"LangGraph \ud65c\uc6a9\ucc98","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#1-rag","title":"1. \ubb38\uc11c \uae30\ubc18 \uace0\ub3c4\ud654 RAG \ud30c\uc774\ud504\ub77c\uc778","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_1","title":"\uc0c1\ud669","text":"<ul> <li> <p>\uc0ac\uc6a9\uc790\uac00 \"LangGraph\uac00 \ubb34\uc5c7\uc778\uac00\uc694?\"\ub77c\uace0 \uc9c8\ubb38</p> </li> <li> <p>\uc5ec\ub7ec chunk\ub85c \ub098\ub25c \uae30\uc220\ubb38\uc11c\uc5d0\uc11c \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud574\uc57c \ud560 \ub54c</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38\n \u2193\n[Retrieve node] \u2192 \uad00\ub828 chunk 3\uac1c \uac80\uc0c9\n \u2193\n[Filter node] \u2192 \uc911\uc694\ub3c4 \ub0ae\uc740 chunk \uc81c\uac70\n \u2193\n[Summary node] \u2192 \uac01 chunk \uc694\uc57d\n \u2193\n[Answer node] \u2192 \uc694\uc57d\ub41c \uc815\ubcf4 \uae30\ubc18 \ub2f5\ubcc0 \uc0dd\uc131\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_2","title":"\uc774\uc810","text":"<ul> <li> <p>\ubb34\uc758\ubbf8\ud55c chunk\ub97c \uc81c\uac70\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\ube44\uc6a9 \uc808\uac10\uacfc \uc815\ud655\ub3c4 \ud5a5\uc0c1\uc774 \uac00\ub2a5\ud558\ub2e4.</p> </li> <li> <p>\uac01 \ub178\ub4dc\uc5d0\uc11c \uac1c\ubcc4 \ub85c\uc9c1\uc744 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4. (\uc608: chunk\ubcc4 \uc694\uc57d \uc2a4\ud0c0\uc77c\uc744 \ub2e4\ub974\uac8c \ud560 \uc218 \uc788\ub2e4.)</p> </li> </ul> <p>\ubb38\uc11c \uae30\ubc18 \uace0\ub3c4\ud654 RAG \ud30c\uc774\ud504\ub77c\uc778\uc740 \ubb38\uc11c \uac80\uc0c9\uacfc \uc815\ubcf4 \uc694\uc57d\uc744 \uacb0\ud569\ud558\uc5ec, \uc0ac\uc6a9\uc790\uc758 \uc9c8\ubb38\uc5d0 \ub300\ud574 \ubcf4\ub2e4 \uc815\ud655\ud558\uace0 \uad00\ub828\uc131 \ub192\uc740 \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud558\ub294 \uace0\uae09 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uad6c\uc131\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4. </p> <p>\uc774 \uc2dc\uc2a4\ud15c\uc740 \uc5ec\ub7ec \ubb38\uc11c chunk\ub85c \ub098\ub204\uc5b4\uc9c4 \ucf58\ud150\uce20\ub97c \ucc98\ub9ac\ud558\uc5ec, \uc9c8\ubb38\uc5d0 \ub9de\ub294 chunk\ub9cc \uc120\ud0dd\uc801\uc73c\ub85c \ud65c\uc6a9\ud558\uace0, \ud544\uc694\ud55c \ubd80\ubd84\uc744 \uc694\uc57d\ud55c \ud6c4 \ucd5c\uc885\uc801\uc73c\ub85c \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_3","title":"\uad6c\uccb4\uc801\uc778 \uc0c1\ud669 \uc124\uba85","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_4","title":"\uc0c1\ud669","text":"<ul> <li> <p>\uc0ac\uc6a9\uc790\uac00 \"LangGraph\uac00 \ubb34\uc5c7\uc778\uac00\uc694?\"\ub77c\uace0 \uc9c8\ubb38\ud558\ub294 \uacbd\uc6b0</p> </li> <li> <p>\uc774 \uc9c8\ubb38\uc5d0 \ub300\ud574 \uc5ec\ub7ec \uac1c\uc758 \uae30\uc220 \ubb38\uc11c\uc5d0\uc11c \uc815\ubcf4\ub97c \uac80\uc0c9\ud574\uc57c \ud558\uba70, \uac01 \ubb38\uc11c\ub294 chunk\ub85c \ub098\ub258\uc5b4\uc838 \uc788\ub2e4.</p> </li> <li> <p>\uac01 chunk\ub294 \ubb38\uc11c \ub0b4\uc5d0\uc11c \ub3c5\ub9bd\uc801\uc73c\ub85c \uc720\uc758\ubbf8\ud55c \uc815\ubcf4\ub97c \ud3ec\ud568\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0, \uc774\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uac80\uc0c9\ud558\uace0 \uc694\uc57d\ud558\uc5ec \ucd5c\uc801\uc758 \ub2f5\ubcc0\uc744 \ub3c4\ucd9c\ud574\uc57c \ud55c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_1","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<ol> <li> <p>[Retrieve node] - \uad00\ub828 chunk \uac80\uc0c9</p> <ul> <li> <p>\uae30\uc220 \ubb38\uc11c\uc5d0\uc11c \uc0ac\uc6a9\uc790\uc758 \uc9c8\ubb38\uacfc \uad00\ub828\ub41c \uc815\ubcf4\ub97c \ub2f4\uace0 \uc788\uc744 \uac00\ub2a5\uc131\uc774 \ub192\uc740 chunk\ub4e4\uc744 \ubca1\ud130 \uac80\uc0c9\uc744 \ud1b5\ud574 \ucd94\ucd9c\ud55c\ub2e4.</p> </li> <li> <p>\uc774 \ub2e8\uacc4\uc5d0\uc11c \uc0ac\uc6a9\uc790\ub294 <code>top-k</code> \ubc29\uc2dd \ub610\ub294 \uc720\uc0ac\ub3c4 \uae30\ubc18 \uac80\uc0c9\uc744 \ud1b5\ud574 \uad00\ub828\ub41c \ubb38\uc11c\ub4e4\uc744 \ucc3e\ub294\ub2e4.</p> </li> </ul> </li> <li> <p>[Filter node] - \uc911\uc694\ub3c4 \ub0ae\uc740 chunk \uc81c\uac70</p> <ul> <li> <p>\uac80\uc0c9\ub41c chunk\ub4e4 \uc911\uc5d0\uc11c, \uc9c8\ubb38\uacfc \uad00\ub828\uc774 \uc801\uc740 \ubd80\ubd84\uc744 \ud544\ud130\ub9c1\ud55c\ub2e4.</p> </li> <li> <p>\ubb38\uc11c \uae38\uc774\uac00 \uae38\uac70\ub098, \ub0b4\uc6a9\uc774 \ub108\ubb34 \uc77c\ubc18\uc801\uc778 \ubd80\ubd84\uc740 \uc81c\uc678\ud558\uace0, \uc2e4\uc81c \uc9c8\ubb38\uc5d0 \uad00\ub828\ub41c \ud575\uc2ec \uc815\ubcf4\ub97c \ub2f4\uace0 \uc788\ub294 \ubd80\ubd84\ub9cc \ub0a8\uae34\ub2e4.</p> </li> </ul> </li> <li> <p>[Summary node] - \uac01 chunk \uc694\uc57d</p> <ul> <li> <p>\uc120\ud0dd\ub41c chunk\ub4e4\uc744 \uc694\uc57d\ud558\uc5ec \ubd88\ud544\uc694\ud55c \uc138\ubd80 \uc815\ubcf4\ub97c \uc81c\uac70\ud558\uace0 \ud575\uc2ec\ub9cc \ub0a8\uae34\ub2e4.</p> </li> <li> <p>\uc608\ub97c \ub4e4\uc5b4, \uae30\uc220\uc801\uc778 \uc6a9\uc5b4\ub098 \ubcf5\uc7a1\ud55c \ubb38\uc7a5\uc740 \uac04\uacb0\ud558\uac8c \uc7ac\uad6c\uc131\ud558\uc5ec \uc9c8\ubb38\uc5d0 \ub300\ud55c \ub2f5\ubcc0\uc744 \ubcf4\ub2e4 \uba85\ud655\ud558\uac8c \ub3c4\ucd9c\ud560 \uc218 \uc788\ub3c4\ub85d \ud55c\ub2e4.</p> </li> </ul> </li> <li> <p>[Answer node] - \ucd5c\uc885 \ub2f5\ubcc0 \uc0dd\uc131</p> <ul> <li> <p>\uc694\uc57d\ub41c \uc815\ubcf4\ub97c \uae30\ubc18\uc73c\ub85c \ucd5c\uc885\uc801\uc778 \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud55c\ub2e4.</p> </li> <li> <p>\uc815\ud655\ud55c \ub2f5\ubcc0\uc744 \uc81c\uacf5\ud558\uae30 \uc704\ud574, \uc694\uc57d\ub41c \ub0b4\uc6a9\uc744 \uc870\ud569\ud558\uac70\ub098 \ub2e4\uc591\ud55c \uad00\uc810\uc744 \uc81c\uc2dc\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_5","title":"\uac01 \ub178\ub4dc\uc758 \uad6c\uccb4\uc801 \uc5ed\ud560\uacfc \uc774\uc810","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#1-retrieve-node-chunk","title":"1. [Retrieve node] - \uad00\ub828 chunk \uac80\uc0c9","text":"<ul> <li> <p>\uc5ed\ud560: \uc0ac\uc6a9\uc790\uc758 \uc9c8\ubb38\uc5d0 \uad00\ub828\ub41c \ubb38\uc11c\uc758 chunk\ub4e4\uc744 \uac80\uc0c9\ud558\ub294 \ub2e8\uacc4.</p> <ul> <li> <p>\uc608\ub97c \ub4e4\uc5b4, \uc0ac\uc6a9\uc790\uac00 \"LangGraph\uac00 \ubb34\uc5c7\uc778\uac00\uc694?\"\ub77c\uace0 \uc9c8\ubb38\ud558\uba74, <code>LangGraph</code>\uc5d0 \ub300\ud55c \uc815\uc758, \ud2b9\uc9d5, \ud65c\uc6a9 \uc0ac\ub840 \ub4f1\uc774 \ud3ec\ud568\ub41c chunk\ub97c \uac80\uc0c9\ud558\uc5ec \uc120\ud0dd\ud55c\ub2e4.</p> </li> <li> <p>\uc774\ub54c \ubca1\ud130 \uac80\uc0c9, \ubb38\uc11c \uc784\ubca0\ub529 \ub4f1\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc758\ubbf8\uc801\uc73c\ub85c \uac00\uae4c\uc6b4 chunk\ub97c \ucc3e\ub294\ub2e4.</p> </li> </ul> </li> <li> <p>\uc774\uc810</p> <ul> <li> <p>\uc815\ud655\ub3c4: \uc815\ud655\ud55c chunk\ub97c \uc120\ud0dd\ud558\uc5ec \ubd88\ud544\uc694\ud55c \ub370\uc774\ud130 \ucc98\ub9ac \ube44\uc6a9\uc744 \uc808\uac10\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc720\uc5f0\uc131: \uc0ac\uc6a9\uc790\uc758 \uc9c8\ubb38\uc5d0 \ub9de\ub294 \ubb38\uc11c\ub9cc \uc120\ud0dd\uc801\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4, \uc751\ub2f5\uc758 \uad00\ub828\uc131\uc744 \ub192\uc77c \uc218 \uc788\ub2e4.</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#2-filter-node-chunk","title":"2. [Filter node] - \uc911\uc694\ub3c4 \ub0ae\uc740 chunk \uc81c\uac70","text":"<ul> <li> <p>\uc5ed\ud560: \uac80\uc0c9\ub41c chunk \uc911\uc5d0\uc11c \uc9c8\ubb38\uacfc \uad00\ub828\uc131\uc774 \ub0ae\uc740 \ubd80\ubd84\uc744 \uc81c\uac70\ud558\ub294 \ub2e8\uacc4.</p> <ul> <li>\uc608\ub97c \ub4e4\uc5b4, \uae30\uc220 \ubb38\uc11c \ub0b4\uc5d0\uc11c \uc138\ubd80\uc801\uc778 \ucf54\ub4dc \uc608\uc2dc\ub098 \ubd88\ud544\uc694\ud55c \ubc30\uacbd \uc124\uba85 \ub4f1\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\ub2e4\uba74 \uc774\ub97c \uc81c\uac70\ud55c\ub2e4.</li> </ul> </li> <li> <p>\uc774\uc810</p> <ul> <li> <p>\ud6a8\uc728\uc131: \ud575\uc2ec\uc801\uc778 \uc815\ubcf4\ub9cc \ucd94\ucd9c\ud558\uc5ec \ubd88\ud544\uc694\ud55c chunk\ub97c \uac78\ub7ec\ub0b4\uace0 \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc815\ud655\ub3c4: \uc911\uc694\ud55c \uc815\ubcf4\ub9cc \ub0a8\uae30\uace0, \uc911\ubcf5\ub41c \ub0b4\uc6a9\uc774\ub098 \uc798\ubabb\ub41c \uc815\ubcf4\ub97c \uc81c\uc678\ud558\uc5ec \uc815\ud655\ub3c4\ub97c \ub192\uc77c \uc218 \uc788\ub2e4.</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#3-summary-node-chunk","title":"3. [Summary node] - \uac01 chunk \uc694\uc57d","text":"<ul> <li> <p>\uc5ed\ud560: \uac80\uc0c9\ub41c chunk\ub4e4\uc744 \ud575\uc2ec\uc801\uc778 \ub0b4\uc6a9\uc73c\ub85c \uc694\uc57d\ud558\uc5ec, \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud558\uae30 \uc27d\uac8c \ub9cc\ub4e0\ub2e4.</p> <ul> <li>\uc608\ub97c \ub4e4\uc5b4, \uae38\uace0 \ubcf5\uc7a1\ud55c \uae30\uc220\uc801\uc778 \uc124\uba85\uc744 \uac04\ub7b5\ud558\uac8c \uc7ac\uad6c\uc131\ud558\uc5ec \uc0ac\uc6a9\uc790\uac00 \uc27d\uac8c \uc774\ud574\ud560 \uc218 \uc788\ub294 \ud615\ud0dc\ub85c \ub9cc\ub4e0\ub2e4.</li> </ul> </li> <li> <p>\uc774\uc810</p> <ul> <li> <p>\uc2dc\uac04 \uc808\uc57d: \uae34 \ubb38\uc11c\ub098 chunk\ub97c \uc694\uc57d\ud558\uc5ec \uc0ac\uc6a9\uc790\uac00 \uc6d0\ud558\ub294 \ub2f5\ubcc0\uc744 \ube60\ub974\uac8c \uc81c\uacf5\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uac04\uacb0\uc131: \ud575\uc2ec \ub0b4\uc6a9\ub9cc \ud3ec\ud568\ub418\uc5b4 \ubd88\ud544\uc694\ud55c \uc124\uba85\uc774 \uc81c\uac70\ub418\ubbc0\ub85c, \uc815\ud655\ud558\uace0 \uac04\uacb0\ud55c \ub2f5\ubcc0\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#4-answer-node-","title":"4. [Answer node] - \ucd5c\uc885 \ub2f5\ubcc0 \uc0dd\uc131","text":"<ul> <li> <p>\uc5ed\ud560: \uc694\uc57d\ub41c \uc815\ubcf4\ub4e4\uc744 \uc870\ud569\ud558\uc5ec \uc0ac\uc6a9\uc790\uc758 \uc9c8\ubb38\uc5d0 \ub300\ud55c \ucd5c\uc885 \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud55c\ub2e4.</p> <ul> <li>\uc608\ub97c \ub4e4\uc5b4, \uc5ec\ub7ec \ubb38\uc11c\uc5d0\uc11c \ucd94\ucd9c\ud55c chunk\ub4e4\uc758 \uc694\uc57d\uc744 \ubc14\ud0d5\uc73c\ub85c \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc9c1\uc811\uc801\uc778 \ub2f5\ubcc0\uc744 \uc81c\uacf5\ud55c\ub2e4.</li> </ul> </li> <li> <p>\uc774\uc810</p> <ul> <li> <p>\uc720\uc5f0\uc131: \uc5ec\ub7ec \ub2e4\ub978 \uad00\uc810\uc5d0\uc11c \uc694\uc57d\ub41c \uc815\ubcf4\ub97c \uacb0\ud569\ud558\uc5ec \ucd5c\uc801\uc758 \ub2f5\ubcc0\uc744 \ub3c4\ucd9c\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc815\ud655\ub3c4: \ucd5c\uc885 \ub2f5\ubcc0\uc774 \ub354 \uc815\ud655\ud558\uace0 \uc720\uc758\ubbf8\ud55c \uc815\ubcf4\ub97c \ud3ec\ud568\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_6","title":"\uc2e4\uc81c \uc0ac\uc6a9 \uc608\uc2dc","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_2","title":"\uc608\uc2dc: \"LangGraph\uac00 \ubb34\uc5c7\uc778\uac00\uc694?\" \uc9c8\ubb38\uc5d0 \ub300\ud55c \ub2f5\ubcc0 \uc0dd\uc131","text":"<ol> <li> <p>Retrieve node:     \uc0ac\uc6a9\uc790 \uc9c8\ubb38\uc5d0 \ub9de\ub294 LangGraph \uad00\ub828 \ubb38\uc11c\ub97c \ubca1\ud130 \uac80\uc0c9\uc744 \ud1b5\ud574 \uac80\uc0c9\ud558\uc5ec 3\uac1c\uc758 \uad00\ub828 chunk\ub97c \ucc3e\ub294\ub2e4.</p> </li> <li> <p>Filter node:     \uac80\uc0c9\ub41c chunk \uc911\uc5d0\uc11c \ubd88\ud544\uc694\ud55c \ub0b4\uc6a9\uc774\ub098 \uc911\ubcf5\ub41c \uc124\uba85\uc744 \uc81c\uac70\ud558\uace0, \ud575\uc2ec\uc801\uc778 LangGraph\uc758 \ud2b9\uc9d5\uc5d0 \ud574\ub2f9\ud558\ub294 chunk\ub4e4\ub9cc \ub0a8\uae34\ub2e4.</p> </li> <li> <p>Summary node:     \uac01 chunk\ub97c \uac04\uacb0\ud558\uac8c \uc694\uc57d\ud558\uc5ec LangGraph\uc758 \uc8fc\uc694 \uac1c\ub150, \ud65c\uc6a9 \ubc29\uc2dd, \uc7a5\uc810 \ub4f1\uc744 \uac04\ub2e8\ud788 \uc815\ub9ac\ud55c\ub2e4.</p> </li> <li> <p>Answer node:     \uc694\uc57d\ub41c \ub0b4\uc6a9\uc744 \ubc14\ud0d5\uc73c\ub85c \"LangGraph\ub294 LLM \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc0c1\ud0dc \uae30\ubc18\uc73c\ub85c \uc124\uacc4\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4. \uc5ec\ub7ec \ub178\ub4dc\ub97c \ud1b5\ud574 \ubcf5\uc7a1\ud55c \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \uc124\uacc4\ud560 \uc218 \uc788\uc73c\uba70, \ubd84\uae30\uc640 \ubc18\ubcf5, \ubcd1\ub82c \ucc98\ub9ac \ub4f1\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.\"\uc640 \uac19\uc740 \ucd5c\uc885 \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud55c\ub2e4.</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_7","title":"\uc774\uc810 \ubc0f \ucd5c\uc801\ud654","text":"<ul> <li> <p>\uc815\ud655\ub3c4 \ud5a5\uc0c1: \ubb34\uc758\ubbf8\ud55c chunk\ub098 \uc815\ubcf4\ub97c \uac78\ub7ec\ub0b4\uace0, \uc911\uc694\ud55c \uc815\ubcf4\ub9cc\uc744 \uc0ac\uc6a9\ud558\ubbc0\ub85c \uc815\ud655\ud55c \ub2f5\ubcc0\uc744 \ub3c4\ucd9c\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\ube44\uc6a9 \uc808\uac10: \ubd88\ud544\uc694\ud55c chunk\ub97c \ucc98\ub9ac\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uc2dc\uc2a4\ud15c \uc790\uc6d0 \uc0ac\uc6a9\uc744 \ucd5c\uc18c\ud654\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc720\uc5f0\uc131: \uac01 \ub178\ub4dc\uc5d0\uc11c \ucc98\ub9ac\ud558\ub294 \ub85c\uc9c1\uc744 \uc0ac\uc6a9\uc790\uc758 \uc694\uad6c\uc0ac\ud56d\uc5d0 \ub9de\uac8c \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4. \uc608\ub97c \ub4e4\uc5b4, \uc694\uc57d \ubc29\uc2dd\uc774\ub098 \ud544\ud130\ub9c1 \uae30\uc900\uc744 \uc27d\uac8c \ubcc0\uacbd\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\ud6a8\uc728\uc131: \ud55c \ubc88\uc758 \uc9c8\uc758\uc5d0 \ub300\ud574 \ube60\ub974\uace0 \uac04\uacb0\ud55c \ub2f5\ubcc0\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#2-stateful-chatbot","title":"2. \uc0c1\ud0dc \uae30\ubc18 \ub300\ud654 \ud750\ub984 \uad00\ub9ac (Stateful Chatbot)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_8","title":"\uc0c1\ud669","text":"<ul> <li>\uace0\uac1d\uc13c\ud130 \ucc57\ubd07\uc774 \u201c\ubc18\ud488\uc744 \ud558\uace0 \uc2f6\uc5b4\uc694\u201d \ub77c\uace0 \ub9d0\ud558\uba74,     \u2192 \uc0ac\uc6a9\uc790\uc758 \ucd5c\uadfc \uc8fc\ubb38 \uc0c1\ud0dc\uc640 \uacc4\uc815 \uc0c1\ud0dc\uc5d0 \ub530\ub77c \ubd84\uae30 \ucc98\ub9ac\ud574\uc57c \ud560 \ub54c</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_3","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38\n \u2193\n[Intent \ud310\ub2e8 node]\n   \u251c\u2500\u2500 \"\ubc18\ud488\"\n   \u2502   \u251c\u2500\u2500 [\uc8fc\ubb38 \uc720\ubb34 node] \u2192 \ucd5c\uadfc \uc8fc\ubb38 \uc870\ud68c\n   \u2502   \u2502   \u251c\u2500\u2500 \uc788\uc74c \u2192 [\ubc18\ud488 \uc808\ucc28 \uc548\ub0b4]\n   \u2502   \u2502   \u2514\u2500\u2500 \uc5c6\uc74c \u2192 [\uc548\ub0b4 \ubd88\uac00 \uc751\ub2f5]\n   \u2514\u2500\u2500 \"\ubb38\uc758\" \u2192 \uace0\uac1d\uc13c\ud130 \uc5f0\uacb0\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_9","title":"\uc774\uc810","text":"<ul> <li> <p>\uc720\uc800 \uc0c1\ud0dc(\uc138\uc158, \uad6c\ub9e4 \uc774\ub825 \ub4f1)\ub97c \uadf8\ub798\ud504 \uc0c1\ud0dc\uc5d0 \ud3ec\ud568\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\ub2e4\ub2e8\uacc4 \ud310\ub2e8 \ud750\ub984\uc744 \uad6c\uc131\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#3","title":"3. \uba40\ud2f0 \ubb38\uc11c \ube44\uad50 \ubd84\uc11d \uc2dc\uc2a4\ud15c","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_10","title":"\uc0c1\ud669","text":"<ul> <li>\uc0ac\uc6a9\uc790\uac00 \"LangChain\uacfc LlamaIndex\uc758 \ucc28\uc774\uc810\uc740?\"\uc774\ub77c\uace0 \uc9c8\ubb38</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_4","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38\n \u2193\n[\uac80\uc0c9 \ub178\ub4dc] \u2192 \uac01\uac01 LangChain \ubb38\uc11c, LlamaIndex \ubb38\uc11c \uac80\uc0c9\n \u2193\n[\uc694\uc57d \ub178\ub4dc] \u2192 \uac01\uac01 \uc694\uc57d\n \u2193\n[\ube44\uad50 \ub178\ub4dc] \u2192 \uc720\uc0ac\uc810/\ucc28\uc774\uc810 \ube44\uad50 \uc815\ub9ac\n \u2193\n[\uc751\ub2f5 \ub178\ub4dc] \u2192 \ub2f5\ubcc0 \uc0dd\uc131\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_11","title":"\uc774\uc810","text":"<ul> <li> <p>\ubb38\uc11c 2\uac1c \uc774\uc0c1\uc744 \ubcd1\ub82c \ucc98\ub9ac\ud558\uc5ec \uc131\ub2a5 \ud5a5\uc0c1\uc774 \uac00\ub2a5\ud558\ub2e4.</p> </li> <li> <p>\ube44\uad50\uc6a9 \ud504\ub86c\ud504\ud2b8\uc640 \uc694\uc57d \ub85c\uc9c1\uc744 \ubd84\ub9ac\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#4-multi-hop-qa-chain-of-thought","title":"4. Multi-hop QA (Chain-of-Thought)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_12","title":"\uc0c1\ud669","text":"<ul> <li> <p>\uc0ac\uc6a9\uc790\uac00 \u201cQdrant\uc5d0 \ub370\uc774\ud130\ub97c \ub123\uace0 \uac80\uc0c9\ud558\ub824\uba74 \uc5b4\ub5a4 \uc808\ucc28\uac00 \ud544\uc694\ud558\ub098\uc694?\u201d\ub77c\uace0 \uc9c8\ubb38</p> </li> <li> <p>\ub2e8\uacc4\ubcc4\ub85c reasoning\uc774 \ud544\uc694\ud55c \uc9c8\ubb38</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_5","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38\n \u2193\n[1\ub2e8\uacc4: \ub370\uc774\ud130 \uc0bd\uc785 \uc774\ud574 \ub178\ub4dc]\n \u2193\n[2\ub2e8\uacc4: \ubca1\ud130 \uac80\uc0c9 \uc774\ud574 \ub178\ub4dc]\n \u2193\n[3\ub2e8\uacc4: \uc804\uccb4 \uc808\ucc28 \uc0dd\uc131 \ub178\ub4dc]\n \u2193\n[\uc751\ub2f5 \uc0dd\uc131]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_13","title":"\uc774\uc810","text":"<ul> <li> <p>\uc911\uac04 reasoning \uacb0\uacfc\ub4e4\uc744 \uc0c1\ud0dc\ub85c \uc720\uc9c0\ud558\uba74\uc11c \ub2f5\ubcc0\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\ub2e8\uacc4\ubcc4 \ucd94\ub860 \uc2e4\ud328\ub97c \ubc29\uc9c0\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#5","title":"5. \ucf54\ub4dc \ub9ac\ubdf0/\ud3b8\uc9d1 \ub3c4\uc6b0\ubbf8","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_14","title":"\uc0c1\ud669","text":"<ul> <li> <p>\uc0ac\uc6a9\uc790\uac00 \"\uc774 \ucf54\ub4dc\uc5d0\uc11c \uc131\ub2a5 \ubcd1\ubaa9\uc744 \ucc3e\uc544\uc918\"\ub77c\uace0 \uc694\uccad</p> </li> <li> <p>\uae34 \ucf54\ub4dc chunk\ubcc4\ub85c \ub098\ub220\uc11c \ubd84\uc11d\ud558\uace0, \uc774\uc288\uac00 \uc788\ub294 \ubd80\ubd84\ub9cc \uc751\ub2f5\ud558\uace0 \uc2f6\uc744 \ub54c</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_6","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38 + \ucf54\ub4dc\n \u2193\n[\ucf54\ub4dc chunking]\n \u2193\n[chunk \ubd84\uc11d node] (\uc5ec\ub7ec \uac1c, \ubcd1\ub82c \ucc98\ub9ac \uac00\ub2a5)\n \u2193\n[\uc131\ub2a5 \uc774\uc288\uac00 \uc788\ub294 chunk\ub9cc \ucd94\ub9bc]\n \u2193\n[\uc751\ub2f5 \uc0dd\uc131]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_15","title":"\uc774\uc810","text":"<ul> <li> <p>\uac01 chunk\ub97c \ub178\ub4dc\ub85c \ubd84\uc11d\ud560 \uc218 \uc788\uc5b4 \ubcd1\ubaa9 \uc9c0\uc810\ub9cc \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc0c1\ud0dc\ub85c \uc774\uc288 chunk, \uc0ac\uc720, \uac1c\uc120 \uc81c\uc548\uae4c\uc9c0 \ud3ec\ud568\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#6","title":"6. \uc0ac\uc6a9\uc790 \ubaa9\ud45c \uae30\ubc18 \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uc218\ud589","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_16","title":"\uc0c1\ud669","text":"<ul> <li>\uc0ac\uc6a9\uc790\uac00 \u201cQdrant \uc124\uce58\ud574\uc11c \uc0d8\ud50c \ubb38\uc11c \uac80\uc0c9\uae4c\uc9c0 \ud574\ubcf4\uace0 \uc2f6\uc5b4\uc694\u201d\ub77c\uace0 \uc694\uccad</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_7","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38\n \u2193\n[\ubaa9\ud45c \ucd94\ucd9c] \u2192 \"Qdrant \uc124\uce58 \ubc0f \ud14c\uc2a4\ud2b8\"\n \u2193\n[\uacc4\ud68d \uc218\ub9bd node] \u2192 Step 1~3 \uad6c\uc131\n \u2193\n[\uac01 \ub2e8\uacc4 \uc2e4\ud589 node]\n   \u251c\u2500 Step 1: \uc124\uce58 \uba85\ub839\uc5b4 \uc0dd\uc131\n   \u251c\u2500 Step 2: \ubb38\uc11c \uc5c5\ub85c\ub4dc \ucf54\ub4dc \uc791\uc131\n   \u2514\u2500 Step 3: \uac80\uc0c9 \ucf54\ub4dc \uc791\uc131\n \u2193\n[\ud1b5\ud569 \uc751\ub2f5]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_17","title":"\uc774\uc810","text":"<ul> <li> <p>\ub2e8\uacc4\ubcc4 \ud504\ub86c\ud504\ud2b8, \uc870\uac74 \ubd84\uae30\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc0ac\uc6a9\uc790\uc758 \ud53c\ub4dc\ubc31\uc744 \ubc1b\uc544 \ud750\ub984\uc744 \uc218\uc815\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#7-llm-ab-testing","title":"7. \uc790\ub3d9\ud654\ub41c LLM \ud3c9\uac00 \ud50c\ub85c\uc6b0 (A/B Testing)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_18","title":"\uc0c1\ud669","text":"<ul> <li>\ub450 \uac1c\uc758 LLM (\uc608: GPT-4 vs Gemini)\uc744 \uac19\uc740 \uc9c8\ubb38\uc73c\ub85c \ud3c9\uac00\ud558\uace0 \ube44\uad50</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#langgraph_8","title":"LangGraph \ud65c\uc6a9 \uad6c\uc870","text":"<pre><code>\uc9c8\ubb38\n \u2193\n[LLM A \uc751\ub2f5 \uc0dd\uc131 \ub178\ub4dc]\n[LLM B \uc751\ub2f5 \uc0dd\uc131 \ub178\ub4dc]\n \u2193\n[\uc751\ub2f5 \ube44\uad50 \ud3c9\uac00 \ub178\ub4dc] (\uc608: Rouge, BLEU, \ub610\ub294 \uc0ac\uc6a9\uc790 \ud53c\ub4dc\ubc31)\n \u2193\n[\ucd5c\uc885 \uacb0\uacfc \ubc18\ud658]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_19","title":"\uc774\uc810","text":"<ul> <li> <p>\ub3d9\uc77c \uc9c8\ubb38\uc73c\ub85c \uba40\ud2f0 LLM \ube44\uad50\uac00 \uac00\ub2a5\ud558\ub2e4.</p> </li> <li> <p>LangGraph \uc0c1\ud0dc\uc5d0 \uac01 \uacb0\uacfc\uc640 \uc810\uc218\ub97c \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/LangGraph/LangGraph%20%ED%99%9C%EC%9A%A9%EC%B2%98/#_20","title":"\uacb0\ub860","text":"<p>LangGraph\ub294 \ub2e8\uc21c\ud788 \uc5ec\ub7ec \ub178\ub4dc\ub97c \uc787\ub294 \uac83\uc774 \uc544\ub2c8\ub77c, \ub2e4\uc74c\uc774 \uac00\ub2a5\ud558\uac8c \ud574\uc900\ub2e4:</p> <ul> <li> <p>\uc0c1\ud0dc \uc720\uc9c0 \uae30\ubc18 \ud750\ub984 \uc81c\uc5b4</p> </li> <li> <p>\uc870\uac74 \ubd84\uae30, \ubc18\ubcf5, \ubcd1\ub82c \ud750\ub984 \uc124\uacc4</p> </li> <li> <p>\uc720\uc800 \uc785\ub825, \ud658\uacbd, \uc9c8\ubb38 \uc720\ud615\uc5d0 \ub530\ub77c \ub2e4\uc591\ud55c \ucc98\ub9ac \ud750\ub984 \uad6c\uc131</p> </li> </ul> <p>\u201c\uace0\uc815\ub41c \uc9c8\ubb38-\ub2f5 \uad6c\uc870\ub97c \ub118\uc5b4\uc11c\uace0 \uc2f6\ub2e4\u201d, \u201cchunk\ub9c8\ub2e4 \ub2e4\ub974\uac8c \ucc98\ub9ac\ud558\uac70\ub098 \uc0ac\uc6a9\uc790 \uc0c1\ud0dc\ub97c \ubc18\uc601\ud558\uace0 \uc2f6\ub2e4\u201d \u2192 \uc774\ub7f0 \uc0c1\ud669\uc774\uba74 LangGraph\ub294 \uc544\uc8fc \uac15\ub825\ud55c \uc120\ud0dd\uc774 \ub420 \uc218 \uc788\ub2e4.</p> <p>\uc5b4\ub5a4 \uc6cc\ud06c\ud50c\ub85c\uc6b0\uac00 \ud604\uc7ac \ud504\ub85c\uc81d\ud2b8\uc5d0 \uac00\uc7a5 \uc798 \ub9de\uc744\uc9c0 \uace0\ubbfc\ub41c\ub2e4\uba74, \ud544\uc694\ud55c \uc720\uc988\ucf00\uc774\uc2a4\uc5d0 \ub9de\ub294 LangGraph \uc608\uc81c\ub97c \ub9cc\ub4e4\uc5b4\uc904 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/","title":"Hybrid Search","text":"<p>OpenSearch 2.11\ubd80\ud130 \ub3c4\uc785\ub41c Hybrid Search(\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9) \uae30\ub2a5\uc740 \ud0a4\uc6cc\ub4dc \uae30\ubc18 \uac80\uc0c9\uacfc \uc2dc\ub9e8\ud2f1(\uc758\ubbf8 \uae30\ubc18) \uac80\uc0c9\uc744 \uacb0\ud569\ud558\uc5ec \ubcf4\ub2e4 \uc815\ubc00\ud558\uace0 \uc720\uc5f0\ud55c \uac80\uc0c9 \uacb0\uacfc\ub97c \uc81c\uacf5\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc758 \uac1c\ub150\ubd80\ud130 \uc790\ub3d9\ud654\ub41c \uc124\uc815 \ubc29\ubc95, \uc218\ub3d9 \uc124\uc815 \ubc29\uc2dd\uae4c\uc9c0 \uc804 \uacfc\uc815\uc744 \uc0c1\uc138\ud788 \uc18c\uac1c\ud569\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#_1","title":"\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc774\ub780?","text":"<p>\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc740 \uc804\ud1b5\uc801\uc778 \ud0a4\uc6cc\ub4dc \uac80\uc0c9(Query DSL \uae30\ubc18)\uacfc \uc2e0\uacbd\ub9dd \uc784\ubca0\ub529\uc744 \ud65c\uc6a9\ud55c \uc758\ubbf8 \uae30\ubc18 \uac80\uc0c9(Neural Search)\uc758 \uacb0\uacfc\ub97c \uacb0\ud569\ud558\uc5ec \uac80\uc0c9 \uc815\ud655\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a4\ub294 \ubc29\uc2dd\uc774\ub2e4.</p> <p>\uc774\ub97c \uc704\ud574 OpenSearch\ub294 search pipeline\uc744 \ud1b5\ud574 \ucffc\ub9ac \uc2e4\ud589 \uc911\uac04 \uacb0\uacfc\ub97c \uac00\ub85c\ucc44\uace0 \uc810\uc218(score)\ub97c \uc870\uc815\ud558\uac70\ub098 \uc7ac\uc815\ub82c\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#processor","title":"\uc81c\uacf5\ub418\ub294 Processor \uc720\ud615","text":"Processor \uc885\ub958 \ub3c4\uc785 \ubc84\uc804 \uc124\uba85 Normalization Processor 2.10 \uc5ec\ub7ec \ucffc\ub9ac \uacb0\uacfc\uc758 \uc810\uc218\ub97c \uc815\uaddc\ud654 \ubc0f \uacb0\ud569 (\uc608: min-max, mean \ub4f1) Score Ranker Processor 2.19 \ub7ad\ud06c \uae30\ubc18 \uacb0\uacfc\ub97c \uacb0\ud569\ud558\ub294 Rank Fusion \uae30\ubc95 \uc0ac\uc6a9"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#_2","title":"\uc0ac\uc804 \uc900\ube44","text":"<p>\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc744 \uc0ac\uc6a9\ud558\ub824\uba74 \uba3c\uc800 \ud14d\uc2a4\ud2b8 \uc784\ubca0\ub529 \ubaa8\ub378(text embedding model)\uc774 \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. \uc774\ubbf8 \ubca1\ud130 \uc784\ubca0\ub529\uc774 \uc0dd\uc131\ub41c \uc0c1\ud0dc\ub77c\uba74 \ubc14\ub85c \uac80\uc0c9 \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95\uc73c\ub85c \ub118\uc5b4\uac08 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#_3","title":"\uad6c\uc131 \ubc29\ubc95","text":"<p>\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 \uc124\uc815\uc740 \ub450 \uac00\uc9c0 \ubc29\uc2dd\uc73c\ub85c \uad6c\uc131\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#1","title":"1. \uc790\ub3d9\ud654 \uc6cc\ud06c\ud50c\ub85c\uc6b0 (\ucd94\ucc9c)","text":"<p>OpenSearch\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 <code>hybrid_search</code> \ud15c\ud50c\ub9bf\uc744 \ud65c\uc6a9\ud558\uc5ec \ub2e4\uc74c\uc744 \uc790\ub3d9 \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4.</p> <ul> <li> <p>Ingest pipeline (\ud14d\uc2a4\ud2b8 \uc784\ubca0\ub529 \ucc98\ub9ac)</p> </li> <li> <p>Vector index</p> </li> <li> <p>Search pipeline</p> </li> </ul> <pre><code>POST /_plugins/_flow_framework/workflow?use_case=hybrid_search&amp;provision=true\n{\n  \"create_ingest_pipeline.model_id\": \"\ubaa8\ub378_ID\"\n}\n</code></pre> <p>\uc131\uacf5 \uc2dc \ubc18\ud658\ub418\ub294 workflow_id \ub85c \uc0dd\uc131 \uc0c1\ud0dc\ub97c \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.</p> <pre><code>GET /_plugins/_flow_framework/workflow/&lt;workflow_id&gt;/_status\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#2","title":"2. \uc218\ub3d9 \uad6c\uc131 (\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \uac00\ub2a5)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#step-1-ingest-pipeline","title":"Step 1. Ingest Pipeline \uc0dd\uc131","text":"<pre><code>PUT /_ingest/pipeline/nlp-ingest-pipeline\n{\n  \"description\": \"\ud14d\uc2a4\ud2b8 \uc784\ubca0\ub529 \ud30c\uc774\ud504\ub77c\uc778\",\n  \"processors\": [\n    {\n      \"text_embedding\": {\n        \"model_id\": \"\ubaa8\ub378_ID\",\n        \"field_map\": {\n          \"passage_text\": \"passage_embedding\"\n        }\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#step-2-vector-index","title":"Step 2. Vector Index \uc0dd\uc131","text":"<pre><code>PUT /my-nlp-index\n{\n  \"settings\": {\n    \"index.knn\": true,\n    \"default_pipeline\": \"nlp-ingest-pipeline\"\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"id\": { \"type\": \"text\" },\n      \"passage_text\": { \"type\": \"text\" },\n      \"passage_embedding\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 768,\n        \"method\": {\n          \"engine\": \"lucene\",\n          \"space_type\": \"l2\",\n          \"name\": \"hnsw\",\n          \"parameters\": {}\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#step-3-search-pipeline","title":"Step 3. Search Pipeline \uc124\uc815","text":"<p><pre><code>PUT /_search/pipeline/nlp-search-pipeline\n{\n  \"description\": \"Hybrid Search\uc6a9 \ud3ec\uc2a4\ud2b8 \ud504\ub85c\uc138\uc11c\",\n  \"phase_results_processors\": [\n    {\n      \"normalization-processor\": {\n        \"normalization\": {\n          \"technique\": \"min_max\"\n        },\n        \"combination\": {\n          \"technique\": \"arithmetic_mean\",\n          \"parameters\": {\n            \"weights\": [0.3, 0.7]\n          }\n        }\n      }\n    }\n  ]\n}\n</code></pre> `</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#step-4","title":"Step 4. \ubb38\uc11c \uc0c9\uc778","text":"<pre><code>PUT /my-nlp-index/_doc/1\n{\n  \"passage_text\": \"Hello world\",\n  \"id\": \"s1\"\n}\n\nPUT /my-nlp-index/_doc/2\n{\n  \"passage_text\": \"Hi planet\",\n  \"id\": \"s2\"\n}\n</code></pre> <p>\uc0c9\uc778 \uc2dc ingest pipeline\uc774 \uc2e4\ud589\ub418\uc5b4 <code>passage_embedding</code> \ud544\ub4dc\uc5d0 \ubca1\ud130\uac00 \uc0dd\uc131\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#step-5-hybrid-search","title":"Step 5. Hybrid Search \uc2e4\ud589","text":"<pre><code>GET /my-nlp-index/_search?search_pipeline=nlp-search-pipeline\n{\n  \"_source\": {\n    \"exclude\": [\"passage_embedding\"]\n  },\n  \"query\": {\n    \"hybrid\": {\n      \"queries\": [\n        {\n          \"match\": {\n            \"passage_text\": {\n              \"query\": \"Hi world\"\n            }\n          }\n        },\n        {\n          \"neural\": {\n            \"passage_embedding\": {\n              \"query_text\": \"Hi world\",\n              \"model_id\": \"\ubaa8\ub378_ID\",\n              \"k\": 5\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre> <p>\ub2e4\uc74c\uc740 match \ucffc\ub9ac\uc640 neural \ucffc\ub9ac\ub97c \uacb0\ud569\ud55c \uc608\uc2dc\uc774\ub2e4. <pre><code>GET /my-nlp-index/_search?search_pipeline=nlp-search-pipeline\n{\n  \"_source\": {\n    \"exclude\": [\"passage_embedding\"]\n  },\n  \"query\": {\n    \"hybrid\": {\n      \"queries\": [\n        {\n          \"match\": {\n            \"passage_text\": {\n              \"query\": \"Hi world\"\n            }\n          }\n        },\n        {\n          \"neural\": {\n            \"passage_embedding\": {\n              \"query_text\": \"Hi world\",\n              \"model_id\": \"\ubaa8\ub378_ID\",\n              \"k\": 5\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre></p> <p>\uacb0\uacfc\uc5d0\ub294 \ud0a4\uc6cc\ub4dc \uae30\ubc18\uacfc \uc758\ubbf8 \uae30\ubc18 \ucffc\ub9ac \ubaa8\ub450\ub97c \uace0\ub824\ud55c \ubb38\uc11c\uac00 \ubc18\ud658\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#_4","title":"\ud655\uc7a5 \uc608\uc2dc","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#match-term","title":"Match + Term \ucffc\ub9ac \uacb0\ud569","text":"<pre><code>\"query\": {\n  \"hybrid\": {\n    \"queries\": [\n      { \"match\": { \"passage_text\": \"hello\" } },\n      { \"term\": { \"passage_text\": { \"value\": \"planet\" } } }\n    ]\n  }\n}\n</code></pre> <p>\uc774 \ubc29\uc2dd\uc73c\ub85c \ub2e4\uc591\ud55c \ucffc\ub9ac \uc720\ud615\uc744 \uc870\ud569\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/Hybrid%20Search/#_5","title":"\ub9c8\ubb34\ub9ac","text":"<p>OpenSearch\uc758 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 \uae30\ub2a5\uc740 \uc815\ubcf4 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc815\ud655\ub3c4 \ud5a5\uc0c1\uacfc \ub2e4\uc591\ud55c \uc0ac\uc6a9\uc790 \uc9c8\uc758 \ub300\uc751\uc744 \uac00\ub2a5\ud558\uac8c \ud558\ub294 \uac15\ub825\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4. \ud0a4\uc6cc\ub4dc \uac80\uc0c9\ub9cc\uc73c\ub85c\ub294 \ucc3e\uae30 \uc5b4\ub824\uc6b4 \ubb38\uc11c\ub3c4 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uacfc \uacb0\ud569\ud558\uc5ec \ub354 \uc815\ubc00\ud558\uac8c \ucc3e\uc544\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/","title":"OpenAI API \uc784\ubca0\ub529 \ubaa8\ub378 \ub4f1\ub85d \ubc0f \uc0ac\uc6a9 \uac00\uc774\ub4dc","text":"<p>\uc774 \uac00\uc774\ub4dc\ub294 OpenSearch\uc5d0\uc11c OpenAI API\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc784\ubca0\ub529 \ubaa8\ub378\uc744 \ub4f1\ub85d\ud558\uace0 \uc790\ub3d9 \uc784\ubca0\ub529 \uc0dd\uc131\uc744 \uc124\uc815\ud558\ub294 \uac80\uc99d\ub41c \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_1","title":"\uc0ac\uc804 \uc900\ube44\uc0ac\ud56d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1-opensearch","title":"1. OpenSearch \ud074\ub7ec\uc2a4\ud130 \uc124\uc815","text":"<pre><code>PUT _cluster/settings\n{\n  \"persistent\": {\n    \"plugins.ml_commons.only_run_on_ml_node\": \"false\",\n    \"plugins.ml_commons.model_access_control_enabled\": \"true\",\n    \"plugins.ml_commons.native_memory_threshold\": \"99\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-openai-api","title":"2. OpenAI API \ud0a4 \uc900\ube44","text":"<ul> <li>OpenAI API \ud0a4\ub97c \ubc1c\uae09\ubc1b\uc544 \uc900\ube44\ud569\ub2c8\ub2e4</li> <li>\uc0ac\uc6a9\ud560 \uc784\ubca0\ub529 \ubaa8\ub378\uc744 \uacb0\uc815\ud569\ub2c8\ub2e4 (\uc608: text-embedding-3-small, text-embedding-3-large)</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_2","title":"\ub2e8\uacc4\ubcc4 \uc124\uc815 (\uac80\uc99d\ub41c \ubc29\ubc95)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-1-openai","title":"Step 1: OpenAI \ucee4\ub125\ud130 \uc0dd\uc131","text":"<p>\uba3c\uc800 OpenAI API\uc640\uc758 \uc5f0\uacb0\uc744 \uc704\ud55c \ucee4\ub125\ud130\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc911\uc694: <code>pre_process_function</code>\uacfc <code>post_process_function</code>\uc744 \ubc18\ub4dc\uc2dc \ud3ec\ud568\ud574\uc57c \ud569\ub2c8\ub2e4.</p> <pre><code>POST /_plugins/_ml/connectors/_create\n{\n  \"name\": \"OpenAI Embedding Connector Fixed\",\n  \"description\": \"Fixed OpenAI API connector\",\n  \"version\": \"1.0.0\",\n  \"protocol\": \"http\",\n  \"parameters\": {\n    \"endpoint\": \"api.openai.com\",\n    \"model\": \"text-embedding-3-small\"\n  },\n  \"credential\": {\n    \"openAI_key\": \"\"\n  },\n  \"actions\": [\n    {\n      \"action_type\": \"predict\",\n      \"method\": \"POST\",\n      \"url\": \"https://api.openai.com/v1/embeddings\",\n      \"headers\": {\n        \"Authorization\": \"Bearer ${credential.openAI_key}\",\n        \"Content-Type\": \"application/json\"\n      },\n      \"request_body\": \"{ \\\"model\\\": \\\"${parameters.model}\\\", \\\"input\\\": ${parameters.input} }\",\n      \"pre_process_function\": \"connector.pre_process.openai.embedding\",\n      \"post_process_function\": \"connector.post_process.openai.embedding\"\n    }\n  ]\n}\n</code></pre> <p>\uc751\ub2f5 \uc608\uc2dc:</p> <pre><code>{\n  \"connector_id\": \"tc3IoJcBZGLRABg1c7Qo\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-2","title":"Step 2: \ubaa8\ub378 \ub4f1\ub85d \ubc0f \ubc30\ud3ec","text":"<p>\uc704\uc5d0\uc11c \uc0dd\uc131\ub41c \ucee4\ub125\ud130 ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub378\uc744 \ub4f1\ub85d\ud569\ub2c8\ub2e4:</p> <pre><code>POST /_plugins/_ml/models/_register?deploy=true\n{\n  \"name\": \"openai-embedding-fixed\",\n  \"function_name\": \"remote\",\n  \"connector_id\": \"tc3IoJcBZGLRABg1c7Qo\",\n  \"description\": \"Fixed OpenAI embedding model\"\n}\n</code></pre> <p>\uc751\ub2f5 \uc608\uc2dc:</p> <pre><code>{\n  \"task_id\": \"uc3IoJcBZGLRABg13rT2\",\n  \"status\": \"CREATED\",\n  \"model_id\": \"us3IoJcBZGLRABg137RI\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-3","title":"Step 3: \ubaa8\ub378 \ud14c\uc2a4\ud2b8","text":"<p>\ubaa8\ub378\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\ub3d9\ud558\ub294\uc9c0 \ud14c\uc2a4\ud2b8\ud569\ub2c8\ub2e4:</p> <pre><code>POST /_plugins/_ml/models/us3IoJcBZGLRABg137RI/_predict\n{\n  \"parameters\": {\n    \"input\": [\"\ud14c\uc2a4\ud2b8 \ud14d\uc2a4\ud2b8\"]\n  }\n}\n</code></pre> <p>\uc131\uacf5 \uc2dc 1536\ucc28\uc6d0\uc758 \uc784\ubca0\ub529 \ubca1\ud130\uac00 \ubc18\ud658\ub429\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-4","title":"Step 4: \uc778\uc81c\uc2a4\ud2b8 \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131","text":"<p>\uc704\uc5d0\uc11c \uc0dd\uc131\ub41c \ubaa8\ub378 ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc778\uc81c\uc2a4\ud2b8 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4:</p> <pre><code>PUT /_ingest/pipeline/openai-nlp\n{\n  \"description\": \"OpenAI NLP\",\n  \"processors\": [\n    {\n      \"text_embedding\": {\n        \"model_id\": \"us3IoJcBZGLRABg137RI\",\n        \"field_map\": {\n          \"text\": \"passage_embedding\"\n        },\n        \"description\": \"Generate embeddings for text field\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-5","title":"Step 5: \ubca1\ud130 \uc778\ub371\uc2a4 \uc0dd\uc131","text":"<p>\uc911\uc694: OpenSearch\uc5d0\uc11c\ub294 <code>space_type</code>\uc744 <code>cosinesimil</code>\ub85c \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4 (<code>cosine</code>\uc774 \uc544\ub2d8):</p> <pre><code>PUT /my-openai-nlp-index\n{\n  \"settings\": {\n    \"index.knn\": true,\n    \"default_pipeline\": \"openai-nlp\"\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"passage_embedding\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 1536,\n        \"space_type\": \"cosinesimil\"\n      },\n      \"text\": {\n        \"type\": \"text\"\n      },\n      \"title\": {\n        \"type\": \"text\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-6","title":"Step 6: \ubb38\uc11c \uc778\ub371\uc2f1 \ubc0f \ud14c\uc2a4\ud2b8","text":"<p>\uc774\uc81c \ubb38\uc11c\ub97c \uc778\ub371\uc2f1\ud558\uba74 \uc790\ub3d9\uc73c\ub85c \uc784\ubca0\ub529\uc774 \uc0dd\uc131\ub429\ub2c8\ub2e4:</p> <pre><code>PUT /my-openai-nlp-index/_doc/1\n{\n  \"title\": \"\ud14c\uc2a4\ud2b8\",\n  \"text\": \"\uac04\ub2e8\ud55c \ud14c\uc2a4\ud2b8 \ubb38\uc11c\uc785\ub2c8\ub2e4.\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-7","title":"Step 7: \ud30c\uc774\ud504\ub77c\uc778 \ud14c\uc2a4\ud2b8 (\uc120\ud0dd\uc0ac\ud56d)","text":"<p>\ud30c\uc774\ud504\ub77c\uc778\uc774 \uc815\uc0c1 \uc791\ub3d9\ud558\ub294\uc9c0 \uc2dc\ubbac\ub808\uc774\uc158\uc73c\ub85c \ud655\uc778</p> <pre><code>POST /_ingest/pipeline/openai-nlp/_simulate\n{\n  \"docs\": [\n    {\n      \"_source\": {\n        \"text\": \"\uac04\ub2e8\ud55c \ud14c\uc2a4\ud2b8 \ubb38\uc11c\uc785\ub2c8\ub2e4.\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#step-8","title":"Step 8: \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uc218\ud589","text":"<pre><code>GET /my-openai-nlp-index/_search\n{\n  \"_source\": {\n    \"excludes\": [\"passage_embedding\"]\n  },\n  \"query\": {\n    \"neural\": {\n      \"passage_embedding\": {\n        \"query_text\": \"AI \uae30\uc220\uc758 \ucd5c\uc2e0 \ub3d9\ud5a5\",\n        \"model_id\": \"us3IoJcBZGLRABg137RI\",\n        \"k\": 5\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_3","title":"\ud575\uc2ec \ubb38\uc81c \ud574\uacb0 \uc0ac\ud56d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1","title":"1. \ucee4\ub125\ud130 \uc124\uc815 \uc2dc \ud544\uc218 \uc694\uc18c","text":"<ul> <li><code>pre_process_function</code>: <code>connector.pre_process.openai.embedding</code></li> <li><code>post_process_function</code>: <code>connector.post_process.openai.embedding</code></li> <li>\uc774 \ud568\uc218\ub4e4\uc774 \uc5c6\uc73c\uba74 \uc751\ub2f5 \ucc98\ub9ac \uc624\ub958\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-opensearch","title":"2. OpenSearch \uac70\ub9ac \uba54\ud2b8\ub9ad","text":"<ul> <li><code>cosine</code> \u274c (\uc624\ub958 \ubc1c\uc0dd)</li> <li><code>cosinesimil</code> \u2705 (\uc62c\ubc14\ub978 \uc124\uc815)</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3","title":"3. \ubaa8\ub378 \ucc28\uc6d0 \uc124\uc815","text":"<ul> <li>text-embedding-3-small: 1536\ucc28\uc6d0</li> <li>text-embedding-3-large: 3072\ucc28\uc6d0</li> <li>text-embedding-ada-002: 1536\ucc28\uc6d0</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_4","title":"\uc2e4\uc81c \uc0ac\uc6a9 \uc608\uc81c","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_5","title":"\ub2e4\uc911 \ubb38\uc11c \uc778\ub371\uc2f1","text":"<pre><code>PUT /my-openai-nlp-index/_doc/1\n{\n  \"title\": \"\uc778\uacf5\uc9c0\ub2a5 \uae30\uc220 \ub3d9\ud5a5\",\n  \"text\": \"2024\ub144 \uc778\uacf5\uc9c0\ub2a5 \uae30\uc220\uc740 \ub300\uaddc\ubaa8 \uc5b8\uc5b4 \ubaa8\ub378\uc744 \uc911\uc2ec\uc73c\ub85c \ube60\ub974\uac8c \ubc1c\uc804\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.\"\n}\n\nPUT /my-openai-nlp-index/_doc/2\n{\n  \"title\": \"\uba38\uc2e0\ub7ec\ub2dd \uc751\uc6a9 \ubd84\uc57c\", \n  \"text\": \"\uba38\uc2e0\ub7ec\ub2dd\uc740 \uc790\uc5f0\uc5b4 \ucc98\ub9ac, \ucef4\ud4e8\ud130 \ube44\uc804, \ucd94\ucc9c \uc2dc\uc2a4\ud15c \ub4f1 \ub2e4\uc591\ud55c \ubd84\uc57c\uc5d0\uc11c \ud65c\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4.\"\n}\n\nPUT /my-openai-nlp-index/_doc/3\n{\n  \"title\": \"\uac80\uc0c9 \uae30\uc220\uc758 \uc9c4\ud654\",\n  \"text\": \"\uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uae30\uc220\uc758 \ubc1c\uc804\uc73c\ub85c \uc0ac\uc6a9\uc790\uc758 \uc758\ub3c4\ub97c \ub354 \uc815\ud655\ud558\uac8c \ud30c\uc545\ud560 \uc218 \uc788\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_6","title":"\uace0\uae09 \uc124\uc815 \uc635\uc158","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_bulk-api","title":"\ubc30\uce58 \ucc98\ub9ac (<code>_bulk</code> API \uc0ac\uc6a9)","text":"<pre><code>POST /my-openai-nlp-index/_bulk?pipeline=openai-nlp\n{\"index\":{\"_id\":\"4\"}}\n{\"title\":\"AI \uc5f0\uad6c\",\"text\":\"\ucd5c\uc2e0 AI \uc5f0\uad6c \ub3d9\ud5a5\uc5d0 \ub300\ud55c \ubd84\uc11d\uc785\ub2c8\ub2e4.\"}\n{\"index\":{\"_id\":\"5\"}}\n{\"title\":\"\uae30\uc220 \ud601\uc2e0\",\"text\":\"\uae30\uc220 \ud601\uc2e0\uc774 \uc0b0\uc5c5\uc5d0 \ubbf8\uce58\ub294 \uc601\ud5a5\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.\"}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_7","title":"\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 (\ud0a4\uc6cc\ub4dc + \uc2dc\ub9e8\ud2f1)","text":"<pre><code>GET /my-openai-nlp-index/_search\n{\n  \"_source\": {\n    \"excludes\": [\"passage_embedding\"]\n  },\n  \"query\": {\n    \"hybrid\": {\n      \"queries\": [\n        {\n          \"match\": {\n            \"text\": \"AI \uae30\uc220\"\n          }\n        },\n        {\n          \"neural\": {\n            \"passage_embedding\": {\n              \"query_text\": \"AI \uae30\uc220\uc758 \ucd5c\uc2e0 \ub3d9\ud5a5\",\n              \"model_id\": \"us3IoJcBZGLRABg137RI\",\n              \"k\": 5\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_8","title":"\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub514\ubc84\uae45","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_9","title":"\ubaa8\ub378 \uc0c1\ud0dc \ud655\uc778","text":"<pre><code>GET /_plugins/_ml/models/us3IoJcBZGLRABg137RI\nGET /_plugins/_ml/models/us3IoJcBZGLRABg137RI/_stats\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_10","title":"\ucee4\ub125\ud130 \uc0c1\ud0dc \ud655\uc778","text":"<pre><code>GET /_plugins/_ml/connectors/tc3IoJcBZGLRABg1c7Qo\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_11","title":"\ud30c\uc774\ud504\ub77c\uc778 \ud14c\uc2a4\ud2b8","text":"<pre><code>POST /_ingest/pipeline/openai-nlp/_simulate\n{\n  \"docs\": [\n    {\n      \"_source\": {\n        \"text\": \"\ud14c\uc2a4\ud2b8\ud560 \ud14d\uc2a4\ud2b8\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_12","title":"\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \ube44\uc6a9 \uad00\ub9ac","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#openai","title":"OpenAI \ubaa8\ub378\ubcc4 \ube44\uad50","text":"\ubaa8\ub378\uba85 \ucc28\uc6d0 \ucd5c\ub300 \ud1a0\ud070 \uc131\ub2a5 \ube44\uc6a9 \uad8c\uc7a5 \uc6a9\ub3c4 text-embedding-3-small 1536 8191 \ub192\uc74c \ub0ae\uc74c \uc77c\ubc18\uc801\uc778 \uc6a9\ub3c4 text-embedding-3-large 3072 8191 \ucd5c\uace0 \ub192\uc74c \uace0\ud488\uc9c8 \uac80\uc0c9 text-embedding-ada-002 1536 8191 \uc911\uac04 \uc911\uac04 \uae30\ubcf8 \uc784\ubca0\ub529"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_13","title":"\ube44\uc6a9 \ucd5c\uc801\ud654 \ud301","text":"<ol> <li>\ubc30\uce58 \ucc98\ub9ac: \uc5ec\ub7ec \ubb38\uc11c\ub97c \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud558\uc5ec API \ud638\ucd9c \ud69f\uc218 \ucd5c\uc18c\ud654</li> <li>\uce90\uc2f1: \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \uc784\ubca0\ub529 \uacb0\uacfc \uce90\uc2dc</li> <li>\ubaa8\ub378 \uc120\ud0dd: \uc6a9\ub3c4\uc5d0 \ub9de\ub294 \uc801\uc808\ud55c \ubaa8\ub378 \uc120\ud0dd</li> <li>\ud14d\uc2a4\ud2b8 \uae38\uc774 \ucd5c\uc801\ud654: \ubd88\ud544\uc694\ud55c \ud14d\uc2a4\ud2b8 \uc81c\uac70\ub85c \ud1a0\ud070 \uc0ac\uc6a9\ub7c9 \uc808\uc57d</li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_14","title":"\ubcf4\uc548 \ubc0f \uc6b4\uc601 \uace0\ub824\uc0ac\ud56d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#api","title":"API \ud0a4 \ubcf4\uc548","text":"<ul> <li>\ud658\uacbd \ubcc0\uc218 \ub610\ub294 \ubcf4\uc548 \uc800\uc7a5\uc18c \uc0ac\uc6a9</li> <li>\uc815\uae30\uc801\uc778 API \ud0a4 \uad50\uccb4</li> <li>\ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59 \uc801\uc6a9</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_15","title":"\ubaa8\ub2c8\ud130\ub9c1 \uc9c0\ud45c","text":"<ul> <li>API \ud638\ucd9c \uc131\uacf5\ub960</li> <li>\uc751\ub2f5 \uc2dc\uac04</li> <li>\ube44\uc6a9 \ucd94\uc801</li> <li>\uc624\ub958\uc728 \ubaa8\ub2c8\ud130\ub9c1</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_16","title":"\ubb38\uc81c \ud574\uacb0 \uac00\uc774\ub4dc","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_17","title":"\uc77c\ubc18\uc801\uc778 \uc624\ub958\uc640 \ud574\uacb0\ubc29\ubc95","text":"<ol> <li> <p>\"Unable to find space: cosine\" \uc624\ub958</p> <ul> <li>\ud574\uacb0: <code>space_type</code>\uc744 <code>cosinesimil</code>\ub85c \ubcc0\uacbd</li> <li> <p>\"failed while calling model\" \uc624\ub958</p> </li> <li> <p>\ud574\uacb0: \ucee4\ub125\ud130\uc5d0 <code>pre_process_function</code>\uacfc <code>post_process_function</code> \ucd94\uac00</p> </li> <li> <p>API \ud0a4 \uc778\uc99d \uc624\ub958</p> </li> <li> <p>\ud574\uacb0: OpenAI API \ud0a4 \uc720\ud6a8\uc131 \ubc0f \uc794\uc561 \ud655\uc778</p> </li> <li> <p>\ucc28\uc6d0 \ubd88\uc77c\uce58 \uc624\ub958</p> </li> <li> <p>\ud574\uacb0: \uc778\ub371\uc2a4 \ub9e4\ud551\uc758 <code>dimension</code> \uac12\uc744 \ubaa8\ub378 \ucc28\uc6d0\uacfc \uc77c\uce58\uc2dc\ud0a4\uae30</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_18","title":"\ub85c\uadf8 \ud655\uc778 \ubc29\ubc95","text":"<pre><code># OpenSearch \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1\ntail -f /var/log/opensearch/opensearch.log | grep -i \"embedding\\|neural\\|ml\"\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_19","title":"\uacb0\ub860","text":"<p>\uc774 \uac00\uc774\ub4dc\ub97c \ud1b5\ud574 OpenSearch\uc5d0\uc11c OpenAI API\ub97c \uc0ac\uc6a9\ud55c \uace0\ud488\uc9c8 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uad6c\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud575\uc2ec\uc740 \uc62c\ubc14\ub978 \ucee4\ub125\ud130 \uc124\uc815(\uc804\ucc98\ub9ac/\ud6c4\ucc98\ub9ac \ud568\uc218 \ud3ec\ud568)\uacfc \uc801\uc808\ud55c \uac70\ub9ac \uba54\ud2b8\ub9ad(<code>cosinesimil</code>) \uc0ac\uc6a9\uc785\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Hybrid%20Search/OpenAI%20API%20%EC%9E%84%EB%B2%A0%EB%94%A9%20%EB%AA%A8%EB%8D%B8%20%EB%93%B1%EB%A1%9D%20%EB%B0%8F%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_20","title":"\uac80\uc99d\ub41c \uc131\uacf5 \uc694\uc18c","text":"<p>\ucee4\ub125\ud130: <code>pre_process_function</code>\uacfc <code>post_process_function</code> \ud544\uc218 \uac70\ub9ac \uba54\ud2b8\ub9ad: <code>cosinesimil</code> \uc0ac\uc6a9 (<code>cosine</code> \uc544\ub2d8) \ucc28\uc6d0 \uc124\uc815: text-embedding-3-small = 1536\ucc28\uc6d0 \ubaa8\ub378 \ud14c\uc2a4\ud2b8: \ud30c\uc774\ud504\ub77c\uc778 \uc801\uc6a9 \uc804 \uac1c\ubcc4 \ubaa8\ub378 \ud638\ucd9c \ud14c\uc2a4\ud2b8</p> <p>\uc774\uc81c OpenAI\uc758 \uac15\ub825\ud55c \uc784\ubca0\ub529 \uae30\uc220\uc744 \ud65c\uc6a9\ud55c \uace0\ud488\uc9c8 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uc6b4\uc601\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4!</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/","title":"What is LTR","text":"<p>\ub2e4\uc74c\uc740 OpenSearch\uc758 Learning to Rank (LTR)\uc758 \ud575\uc2ec \uac1c\ub150\uc744 \uc124\uba85\ud558\ub294 \u201cML Ranking Core Concepts\u201d \ub0b4\uc6a9\uc744 \uc815\ub9ac\ud55c \uac83\uc774\ub2e4.</p> <p>\uc774 \uac00\uc774\ub4dc\ub294 OpenSearch\uc5d0\uc11c \uba38\uc2e0\ub7ec\ub2dd\uc744 \uc774\uc6a9\ud574 \uac80\uc0c9 \uacb0\uacfc\uc758 \uad00\ub828\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a4\uace0\uc790 \ud558\ub294 \uac1c\ubc1c\uc790 \ubc0f \ub370\uc774\ud130 \uacfc\ud559\uc790\ub97c \uc704\ud55c \uae30\ucd08 \uac1c\ub150\uc744 \ub2f4\uace0 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#1-ltr","title":"1. LTR\uc774\ub780?","text":"<p>Learning to Rank\ub294 \uac80\uc0c9 \uacb0\uacfc\ub97c \uc0ac\uc6a9\uc790 \uad00\uc810\uc5d0\uc11c \ub354 \uc720\uc758\ubbf8\ud55c \uc21c\uc11c\ub85c \uc815\ub82c\ud558\uae30 \uc704\ud574 \uba38\uc2e0\ub7ec\ub2dd\uc744 \ud65c\uc6a9\ud558\ub294 \uae30\ubc95\uc785\ub2c8\ub2e4.  </p> <p>\ub2e4\ub978 \uba38\uc2e0\ub7ec\ub2dd \ubb38\uc81c\uc640\uc758 \ucc28\uc774\uc810\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p> <ul> <li> <p>\ud68c\uadc0(Regression): \uc218\uce58 \uc608\uce21 (\uc608: \uc8fc\uac00 \uc608\uce21)</p> </li> <li> <p>\ubd84\ub958(Classification): \ubc94\uc8fc \uc608\uce21 (\uc608: \uc2a4\ud338 \uc5ec\ubd80)</p> </li> <li> <p>\ub7ad\ud0b9(LTR): \ud2b9\uc815 \ucffc\ub9ac\uc5d0 \ub300\ud574 \ubb38\uc11c\ub97c \uc5b4\ub5a4 \uc21c\uc11c\ub85c \uc815\ub82c\ud574\uc57c \uac00\uc7a5 \uc720\uc6a9\ud55c\uac00\ub97c \ud559\uc2b5</p> </li> </ul> <p>LTR\uc758 \ubaa9\uc801\uc740 \"\ubb38\uc11c\uac00 \uc5bc\ub9c8\ub098 \uc720\uc6a9\ud55c\uac00\"\ub97c \uc9c1\uc811 \uc608\uce21\ud558\ub294 \uac83\uc774 \uc544\ub2c8\ub77c,  \uc0c1\ub300\uc801 \uc21c\uc11c\ub97c \uc608\uce21\ud558\ub294 \ud568\uc218 f(query, document features)\ub97c \ud559\uc2b5\ud558\ub294 \uac83\uc785\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#2-judgment-list","title":"2. \uc815\ub2f5 \uc21c\uc11c \uc815\uc758: Judgment List (\uace8\ub4e0 \uc14b)","text":"<p>Judgment list\ub294 \ucffc\ub9ac\uc640 \uadf8\uc5d0 \ub300\ud55c \ubb38\uc11c \ubaa9\ub85d \ubc0f \ub4f1\uae09(grade)\uc744 \ud3ec\ud568\ud55c \ub370\uc774\ud130\ub85c, \"\uc774 \ucffc\ub9ac\uc5d0\ub294 \uc774 \ubb38\uc11c\ub4e4\uc774 \uc774\ub7f0 \uc21c\uc11c\ub85c \ub098\uc624\ub294 \uac83\uc774 \uc774\uc0c1\uc801\uc774\ub2e4\"\ub77c\ub294 \uae30\uc900\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>\uc608\uc2dc (\ucffc\ub9ac: Rambo):</p> <pre><code>grade,keywords,movie\n4,Rambo,First Blood       \u2192 \ub9e4\uc6b0 \uad00\ub828 \uc788\uc74c\n4,Rambo,Rambo\n3,Rambo,Rambo III         \u2192 \uc5b4\ub290 \uc815\ub3c4 \uad00\ub828 \uc788\uc74c\n2,Rambo,Rocky             \u2192 \uc57d\uac04 \uad00\ub828 \uc788\uc74c\n0,Rambo,Bambi             \u2192 \uc804\ud600 \ubb34\uad00\n</code></pre> <p>\uc774 \ub9ac\uc2a4\ud2b8\ub97c \uae30\uc900\uc73c\ub85c \ubaa8\ub378\uc758 \uc815\ub82c \ud488\uc9c8\uc744 NDCG, ERR \uac19\uc740 \ub7ad\ud0b9 \ud3c9\uac00 \uc9c0\ud45c\ub85c \uce21\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#3-feature","title":"3. \ub7ad\ud0b9 \ubaa8\ub378\uc758 \uc785\ub825: Feature","text":"<p>LTR \ubaa8\ub378\uc740 \uac80\uc0c9 \ucffc\ub9ac\uc640 \ubb38\uc11c \uac04\uc758 \uad00\ub828\ub3c4\ub97c \ud310\ub2e8\ud560 \uc218 \uc788\ub294 \ud53c\ucc98(\ud2b9\uc9d5\uac12)\uc744 \uc785\ub825\uc73c\ub85c \uc0ac\uc6a9\ud55c\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc601\ud654 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc774\ub77c\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ud53c\ucc98\uac00 \uc0ac\uc6a9\ub420 \uc218 \uc788\ub2e4.</p> <ul> <li> <p><code>titleScore</code>: \uc81c\ubaa9\uc5d0 \uac80\uc0c9\uc5b4\uac00 \uc5bc\ub9c8\ub098 \uc798 \ub9e4\uce6d\ub418\ub294\uc9c0</p> </li> <li> <p><code>descScore</code>: \uc124\uba85\uc5d0 \uc5bc\ub9c8\ub098 \ub9e4\uce6d\ub418\ub294\uc9c0</p> </li> <li> <p><code>popularity</code>: \uc601\ud654\uc758 \uc778\uae30\ub3c4</p> </li> <li> <p><code>rating</code>: \uc0ac\uc6a9\uc790 \ud3c9\uc810</p> </li> <li> <p><code>numKeywords</code>: \uac80\uc0c9\uc5b4 \uac1c\uc218</p> </li> <li> <p>(\uc608: <code>isSequel</code>: \uc18d\ud3b8 \uc5ec\ubd80 \ub4f1 \uc0c8\ub85c \uc815\uc758\ud55c \ud2b9\uc131\ub3c4 \uac00\ub2a5)</p> </li> </ul> <p>\uc774\ub7ec\ud55c \ud53c\ucc98\ub97c \uc774\uc6a9\ud574 \ud568\uc218 f(titleScore, descScore, popularity, rating, ...) \ud615\ud0dc\ub85c \uacb0\uacfc\ub97c \uc810\uc218\ud654\ud558\uace0, \uadf8 \uc810\uc218\ub97c \uae30\ubc18\uc73c\ub85c \ubb38\uc11c\ub97c \uc815\ub82c\ud569\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#4-feature","title":"4. \ud559\uc2b5 \ub370\uc774\ud130 \uad6c\ucd95: Feature \uac12 \ub85c\uae45","text":"<p>\ud559\uc2b5\uc744 \uc704\ud574\uc11c\ub294 judgment list\uc5d0 \uac01 \ubb38\uc11c\uc758 \ud53c\ucc98 \uac12\uc774 \ucd94\uac00\ub418\uc5b4\uc57c \ud55c\ub2e4.\\</p> <p>\uc608\ub97c \ub4e4\uc5b4,</p> <pre><code>grade,keywords,movie,titleScore,descScore,popularity\n4,Rambo,First Blood,0.0,21.5,100\n4,Rambo,Rambo,42.5,21.5,95\n3,Rambo,Rambo III,53.1,40.1,50\n</code></pre> <p>\ubaa8\ub378 \ud559\uc2b5\uc744 \uc704\ud55c \ub300\ud45c\uc801\uc778 \ud3ec\ub9f7\uc740 SVMRank \ud615\uc2dd\uc774\uba70 \ub2e4\uc74c\uacfc \uac19\uc740 \uad6c\uc870\ub85c \ud45c\ud604\ub41c\ub2e4.</p> <pre><code>4  qid:1  1:0.0  2:21.5  3:100\n4  qid:1  1:42.5 2:21.5  3:95\n3  qid:1  1:53.1 2:40.1  3:50\n</code></pre> <p>\uc774 \ub370\uc774\ud130\ub294 \ub85c\uadf8 \uae30\ubc18 \uc790\ub3d9 \uc218\uc9d1 \ub610\ub294 \uc218\ub3d9 \uc8fc\uc11d \ubc29\uc2dd\uc73c\ub85c \uc218\uc9d1\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#5","title":"5. \ub7ad\ud0b9 \ubaa8\ub378 \ud6c8\ub828","text":"<p>LTR\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ub300\ud45c\uc801\uc778 \ubaa8\ub378\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#_1","title":"\ud2b8\ub9ac \uae30\ubc18 \ubaa8\ub378 (\ucd94\ucc9c)","text":"<ul> <li> <p>LambdaMART, XGBoost \ub4f1</p> </li> <li> <p>\ub192\uc740 \uc815\ud655\ub3c4</p> </li> <li> <p>\ud559\uc2b5 \ubc0f \uc6b4\uc601 \ube44\uc6a9\uc740 \ud07c</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#svm","title":"SVM \uae30\ubc18 \ubaa8\ub378","text":"<ul> <li> <p>SVMRank</p> </li> <li> <p>\uc0c1\ub300\uc801\uc73c\ub85c \ub2e8\uc21c\ud558\uace0 \uac00\ubccd\uc9c0\ub9cc \uc815\ud655\ub3c4\ub294 \ub0ae\uc74c</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#_2","title":"\uc120\ud615 \ubaa8\ub378","text":"<ul> <li> <p>\uae30\ubcf8 \uc120\ud615 \ud68c\uadc0 \uae30\ubc18</p> </li> <li> <p>\ub300\ubd80\ubd84\uc758 \uc2e4\uc81c \ud658\uacbd\uc5d0\uc11c\ub294 \ubd80\uc815\ud655\ud558\ubbc0\ub85c \uad8c\uc7a5\ub418\uc9c0 \uc54a\uc74c</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#6","title":"6. \ubaa8\ub378 \ud488\uc9c8 \ud3c9\uac00 \ubc0f \uc77c\ubc18\ud654","text":"<p>\ubaa8\ub378\uc758 \uc131\ub2a5\uc744 \uc62c\ubc14\ub974\uac8c \ud3c9\uac00\ud558\ub824\uba74 \ub2e4\uc74c\uc744 \uace0\ub824\ud574\uc57c \ud55c\ub2e4.</p> <ul> <li> <p>\ud14c\uc2a4\ud2b8\uc6a9 Judgment List \uc720\uc9c0: \ud559\uc2b5\uc5d0 \uc0ac\uc6a9\ub418\uc9c0 \uc54a\uc740 \ub370\uc774\ud130\ub97c \ub530\ub85c \ud3c9\uac00\uc6a9\uc73c\ub85c \uc720\uc9c0</p> </li> <li> <p>Overfitting \ubc29\uc9c0: \ud6c8\ub828 \ub370\uc774\ud130\uc5d0\ub9cc \uc798 \ub9de\uace0 \uc2e4\uc81c \uc131\ub2a5\uc774 \ub5a8\uc5b4\uc9c0\ub294 \ubb38\uc81c\ub97c \ud53c\ud558\uae30 \uc704\ud574 \ud14c\uc2a4\ud2b8 NDCG \ucd94\uc801</p> </li> <li> <p>\uc2dc\uac04\uc801 \uc77c\ubc18\ud654(Temporal Generalization): \uacc4\uc808\uc131, \uc774\ubca4\ud2b8 \uae30\ubc18 \ucffc\ub9ac\uc5d0 \ub9de\ucdb0 \uc9c0\uc18d\uc801\uc778 \ud14c\uc2a4\ud2b8 \ud544\uc694</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Learning%20to%20Rank/What%20is%20LTR/#7","title":"7. \uc2e4\uc81c \uc2dc\uc2a4\ud15c\uc5d0\uc11c\uc758 \uace0\ub824\uc0ac\ud56d","text":"<ul> <li> <p>\uc815\ud655\ud55c judgment list \uc0dd\uc131 \ubc29\ubc95: \uc0ac\uc6a9\uc790 \ud53c\ub4dc\ubc31, \ud074\ub9ad \ub85c\uadf8 \ub4f1 \ud65c\uc6a9</p> </li> <li> <p>\ud488\uc9c8 \uce21\uc815 \uc9c0\ud45c \uc120\uc815: NDCG, Precision@k \ub4f1</p> </li> <li> <p>\ub370\uc774\ud130 \uc218\uc9d1 \uc778\ud504\ub77c: \uc0ac\uc6a9\uc790 \ud589\ub3d9 \ubc0f \ud53c\ucc98 \ub85c\uae45 \uad6c\uc870 \ud544\uc694</p> </li> <li> <p>\ubaa8\ub378 \uc7ac\ud559\uc2b5 \uae30\uc900: \uc131\ub2a5 \uc800\ud558 \uac10\uc9c0 \uc2dc \uc7ac\ud6c8\ub828 \uc8fc\uae30 \uc124\uc815</p> </li> <li> <p>A/B \ud14c\uc2a4\ud2b8 \uc804\ub7b5: \uae30\uc874 \uc2dc\uc2a4\ud15c\uacfc \ube44\uad50 \ud3c9\uac00 \ubc0f KPI \uc815\uc758 \ud544\uc694</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/","title":"OpenSearch UBI Schema \uc815\ub9ac","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#_1","title":"\uac1c\uc694","text":"<p>UBI(Universal Business Insights)\ub294 \uc0ac\uc6a9\uc790 \ud589\ub3d9 \ub370\uc774\ud130\ub97c \uad6c\uc870\ud654\ud558\uace0 \uac80\uc0c9\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \uc815\uc758\ub41c \uacf5\ud1b5 \uc2a4\ud0a4\ub9c8 \uccb4\uacc4\uc785\ub2c8\ub2e4. \uc774 \uc2a4\ud0a4\ub9c8\ub294 \uc0ac\uc6a9\uc790 \ud589\ub3d9 \ub85c\uadf8(\uc608: \ud074\ub9ad, \ubdf0, \uad6c\ub9e4 \ub4f1)\ub97c \uc815\ud615\ud654\ud558\uc5ec OpenSearch \ub0b4\uc5d0\uc11c \uac1c\uc120\ub41c \uac80\uc0c9 \ud488\uc9c8\uacfc \ucd94\ucc9c \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud558\ub294 \ub370 \ub3c4\uc6c0\uc744 \uc90d\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#_2","title":"\uc8fc\uc694 \uc2a4\ud0a4\ub9c8 \uce74\ud14c\uace0\ub9ac","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#1-event-schema","title":"1. Event schema (\uc774\ubca4\ud2b8 \uc2a4\ud0a4\ub9c8)","text":"<p>\uc0ac\uc6a9\uc790 \ud65c\ub3d9 \ub370\uc774\ud130\ub97c \uc815\uc758\ud569\ub2c8\ub2e4.</p> <ul> <li> <p>\ud544\ub4dc \uc608\uc2dc:</p> <ul> <li> <p><code>event_type</code>: \uc774\ubca4\ud2b8 \uc720\ud615 (click, view, purchase \ub4f1)</p> </li> <li> <p><code>event_timestamp</code>: \uc774\ubca4\ud2b8 \ubc1c\uc0dd \uc2dc\uc810</p> </li> <li> <p><code>session_id</code>: \uc138\uc158 \uc2dd\ubcc4\uc790</p> </li> <li> <p><code>user_id</code>: \uc0ac\uc6a9\uc790 \uc2dd\ubcc4\uc790</p> </li> <li> <p><code>item_id</code>: \ud074\ub9ad/\ub178\ucd9c\ub41c \ud56d\ubaa9 ID</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#2-item-schema","title":"2. Item schema (\uc544\uc774\ud15c \uc2a4\ud0a4\ub9c8)","text":"<p>\uac80\uc0c9/\ucd94\ucc9c \ub300\uc0c1\uc774 \ub418\ub294 \uc0c1\ud488, \ubb38\uc11c \ub4f1\uc758 \ud56d\ubaa9 \uc815\uc758\uc785\ub2c8\ub2e4.</p> <ul> <li> <p>\ud544\ub4dc \uc608\uc2dc:</p> <ul> <li> <p><code>item_id</code>: \ud56d\ubaa9 \uace0\uc720 ID</p> </li> <li> <p><code>title</code>, <code>description</code>: \ucf58\ud150\uce20 \uc815\ubcf4</p> </li> <li> <p><code>category</code>, <code>brand</code>, <code>price</code>: \uba54\ud0c0 \uc815\ubcf4</p> </li> <li> <p><code>embedding</code>: \ubca1\ud130 \uc784\ubca0\ub529 \uc815\ubcf4</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#3-query-schema","title":"3. Query schema (\uac80\uc0c9 \uc9c8\uc758 \uc2a4\ud0a4\ub9c8)","text":"<p>\uc0ac\uc6a9\uc790\uac00 \uc2e4\uc81c \uc785\ub825\ud55c \ucffc\ub9ac \uc815\ubcf4\uc785\ub2c8\ub2e4.</p> <ul> <li> <p>\ud544\ub4dc \uc608\uc2dc:</p> <ul> <li> <p><code>query_id</code>: \uace0\uc720 \ucffc\ub9ac ID</p> </li> <li> <p><code>query_text</code>: \uc0ac\uc6a9\uc790\uac00 \uc785\ub825\ud55c \ucffc\ub9ac</p> </li> <li> <p><code>query_vector</code>: \ubca1\ud130\ud654\ub41c \ucffc\ub9ac</p> </li> <li> <p><code>timestamp</code>: \uc785\ub825 \uc2dc\uac01</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#_3","title":"\uc65c \uc0ac\uc6a9\ud558\ub294\uac00?","text":"<ul> <li> <p>\uc0ac\uc6a9\uc790 \ud589\ub3d9 \uae30\ubc18 \ubd84\uc11d \ubc0f \ubaa8\ub378 \ud559\uc2b5\uc744 \uc704\ud55c \uc77c\uad00\ub41c \ub370\uc774\ud130 \uc218\uc9d1 \ud3ec\ub9f7 \uc81c\uacf5</p> </li> <li> <p>\ubca1\ud130 \uac80\uc0c9, \ud074\ub9ad \ubaa8\ub378, \ucd94\ucc9c \uc2dc\uc2a4\ud15c \ub4f1 \uace0\uae09 \uac80\uc0c9 \uae30\ub2a5\uacfc\uc758 \ud1b5\ud569 \uc6a9\uc774</p> </li> <li> <p>OpenSearch Neural Search \ubc0f LTR \ub4f1\uacfc \uc5f0\uacc4\ud558\uc5ec \uc0ac\uc6a9 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#_4","title":"\uc5f0\ub3d9 \uc608","text":"<ul> <li> <p>UBI \uc2a4\ud0a4\ub9c8 \uae30\ubc18\uc73c\ub85c \ub85c\uadf8 \ub370\uc774\ud130\ub97c \uc0c9\uc778\ud558\uc5ec,</p> <ul> <li> <p>Neural Search\uc5d0\uc11c \uc0ac\uc6a9\uc790 \uc9c8\uc758 \uae30\ubc18 \ubca1\ud130 \uac80\uc0c9 \uc218\ud589</p> </li> <li> <p>LTR\uc5d0\uc11c \ud074\ub9ad \ub85c\uadf8\ub97c \ud559\uc2b5 \ub370\uc774\ud130\ub85c \ud65c\uc6a9</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Plugin/UBI%20Schema/#_5","title":"\uc694\uc57d","text":"\uad6c\uc131 \uc694\uc18c \uc124\uba85 Event Schema \uc0ac\uc6a9\uc790 \ud589\ub3d9(\ud074\ub9ad, \uad6c\ub9e4 \ub4f1) \uc815\uc758 Item Schema \ubb38\uc11c/\uc0c1\ud488 \ub4f1\uc758 \ub300\uc0c1 \uc815\uc758 Query Schema \uc0ac\uc6a9\uc790\uc758 \uac80\uc0c9 \uc9c8\uc758 \uc815\ubcf4 \uc815\uc758 \ubaa9\uc801 \ud589\ub3d9 \ub85c\uadf8 \uad6c\uc870\ud654 \u2192 \uac80\uc0c9 \ud488\uc9c8 \ud5a5\uc0c1, \ubaa8\ub378 \ud559\uc2b5 \uc9c0\uc6d0 <p>\ud574\ub2f9 \uc2a4\ud0a4\ub9c8\ub294 \uac80\uc0c9 \ubc0f \ucd94\ucc9c \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud560 \ub54c \ub370\uc774\ud130 \ud45c\uc900\ud654\ub97c \uac00\ub2a5\ud558\uac8c \ud558\uba70, OpenSearch AI \uae30\ub2a5\uacfc\uc758 \ud1b5\ud569\uc744 \uc27d\uac8c \ud574\uc8fc\ub294 \uae30\ubc18 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4. \ub370\uc774\ud130 \ud300\uacfc \uac80\uc0c9\ud300\uc774 \uacf5\ud1b5 \ud3ec\ub9f7\uc73c\ub85c \ud611\uc5c5\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\ub294 \uad6c\uc870\uc785\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/","title":"Approximate k NN","text":"<p>OpenSearch\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \uc815\ud655\ud55c k-NN \uac80\uc0c9\uc744 \uc9c0\uc6d0\ud558\uc9c0\ub9cc, \ub370\uc774\ud130 \uc591\uc774 \ub9ce\uace0 \ubca1\ud130\uc758 \ucc28\uc6d0\uc774 \ub192\uc544\uc9c8\uc218\ub85d \uc131\ub2a5 \uc800\ud558 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4. \uc774 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud55c \ub300\uc548\uc73c\ub85c Approximate k-NN \uac80\uc0c9 \uae30\ub2a5\uc774 \uc81c\uacf5\ub41c\ub2e4.</p> <p>Approximate k-NN \uac80\uc0c9\uc740 \uc77c\ubd80 \uc815\ud655\uc131\uc744 \ud76c\uc0dd\ud558\ub294 \ub300\uc2e0, \uac80\uc0c9 \uc18d\ub3c4\ub97c \ud68d\uae30\uc801\uc73c\ub85c \ub192\uc774\ub294 \ubc29\uc2dd\uc73c\ub85c \uc218\uc2ed\ub9cc \uac1c \uc774\uc0c1\uc758 \ubca1\ud130 \ub370\uc774\ud130\ub97c \ub2e4\ub8f0 \ub54c \ud2b9\ud788 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#1-approximate-k-nn","title":"1. Approximate k-NN\uc774\ub780?","text":"<ul> <li> <p>\uc815\ud655\ud55c k-NN: \ubaa8\ub4e0 \ubca1\ud130 \uac04 \uac70\ub9ac \uacc4\uc0b0 \u2192 \uc815\ud655\ud558\uc9c0\ub9cc \ub290\ub9bc</p> </li> <li> <p>\uadfc\uc0ac k-NN (ANN): \uc778\ub371\uc2a4 \uad6c\uc870\ub97c \ucd5c\uc801\ud654\ud558\uc5ec \uc77c\ubd80 \uc815\ud655\ub3c4\ub97c \ud76c\uc0dd\ud558\uace0 \uc18d\ub3c4 \ud5a5\uc0c1</p> </li> </ul> <p>OpenSearch\ub294 \ub2e4\uc74c \ub77c\uc774\ube0c\ub7ec\ub9ac \uae30\ubc18 ANN \uc54c\uace0\ub9ac\uc998\uc744 \ud65c\uc6a9\ud55c\ub2e4.</p> <ul> <li> <p>NMSLIB</p> </li> <li> <p>Faiss</p> </li> <li> <p>Lucene</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#2","title":"2. \ubca1\ud130 \uc778\ub371\uc2a4 \uc0dd\uc131","text":"<p>\uba3c\uc800 \ubca1\ud130 \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud560 \ub54c <code>index.knn</code> \uc124\uc815\uc744 <code>true</code>\ub85c \uc9c0\uc815\ud574\uc57c \ud55c\ub2e4. \uc774\ub294 \ubca1\ud130\ub97c \uc778\ub371\uc2f1\ud560 \ub54c \ub124\uc774\ud2f0\ube0c \ub77c\uc774\ube0c\ub7ec\ub9ac \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud558\uaca0\ub2e4\ub294 \ub73b\uc774\ub2e4.</p> <pre><code>PUT my-knn-index-1\n{\n  \"settings\": {\n    \"index\": {\n      \"knn\": true,\n      \"knn.algo_param.ef_search\": 100\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"my_vector1\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 2,\n        \"space_type\": \"l2\",\n        \"method\": {\n          \"name\": \"hnsw\",\n          \"engine\": \"faiss\",\n          \"parameters\": {\n            \"ef_construction\": 128,\n            \"m\": 24\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>engine</code>: faiss, nmslib, lucene \uc911 \uc120\ud0dd</p> </li> <li> <p><code>space_type</code>: \uc720\uc0ac\ub3c4 \uacc4\uc0b0 \ubc29\uc2dd (\uc608: <code>l2</code>, <code>innerproduct</code>)</p> </li> <li> <p><code>dimension</code>: \ubca1\ud130 \ucc28\uc6d0 \uc218</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#3","title":"3. \ub370\uc774\ud130 \uc0c9\uc778 \ubc0f \uac80\uc0c9 \uc608\uc2dc","text":"<pre><code>POST _bulk\n{ \"index\": { \"_index\": \"my-knn-index-1\", \"_id\": \"1\" } }\n{ \"my_vector1\": [1.5, 2.5], \"price\": 12.2 }\n...\n</code></pre> <pre><code>GET my-knn-index-1/_search\n{\n  \"size\": 2,\n  \"query\": {\n    \"knn\": {\n      \"my_vector1\": {\n        \"vector\": [2.0, 3.0],\n        \"k\": 2\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>k</code>: \uc720\uc0ac \ubca1\ud130 \uc218</p> </li> <li> <p><code>size</code>: \ucd5c\uc885 \ubc18\ud658\ud560 \uacb0\uacfc \uc218 (\uc0e4\ub4dc \uc218\uc5d0 \ub530\ub77c \uacf1\ud574\uc9d0)</p> </li> </ul> <p>Lucene, Faiss, NMSLIB \uc5d4\uc9c4\ubcc4\ub85c <code>k</code>\uc640 <code>size</code> \ud574\uc11d \ubc29\uc2dd\uc5d0 \ucc28\uc774\uac00 \uc788\uc74c</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#4-training","title":"4. \ubaa8\ub378 \uae30\ubc18 \uc778\ub371\uc2a4 \uad6c\uc131 (Training \uae30\ubc18)","text":"<p>\ud2b9\uc815 \uc54c\uace0\ub9ac\uc998(\uc608: IVF, PQ \ub4f1)\uc744 \uc0ac\uc6a9\ud560 \uacbd\uc6b0 \uc778\ub371\uc2f1 \uc804\uc5d0 \ubaa8\ub378 \ud559\uc2b5(Train API)\uc774 \ud544\uc694\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#step-1","title":"Step 1: \ud559\uc2b5\uc6a9 \uc778\ub371\uc2a4 \uc0dd\uc131 \ubc0f \ub370\uc774\ud130 \uc0bd\uc785","text":"<pre><code>PUT /train-index\n{\n  \"mappings\": {\n    \"properties\": {\n      \"train-field\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 4\n      }\n    }\n  }\n}\n</code></pre> <pre><code>POST _bulk\n{ \"index\": { \"_index\": \"train-index\", \"_id\": \"1\" } }\n{ \"train-field\": [1.5, 5.5, 4.5, 6.4] }\n...\n</code></pre> <p><code>index.knn</code>\uc740 \uc124\uc815\ud558\uc9c0 \uc54a\uc544\uc57c \ud559\uc2b5 \uc804\uc6a9\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc74c</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#step-2-train-api","title":"Step 2: Train API \ud638\ucd9c","text":"<pre><code>POST /_plugins/_knn/models/my-model/_train\n{\n  \"training_index\": \"train-index\",\n  \"training_field\": \"train-field\",\n  \"dimension\": 4,\n  \"description\": \"My model description\",\n  \"method\": {\n    \"name\": \"ivf\",\n    \"engine\": \"faiss\",\n    \"parameters\": {\n      \"encoder\": {\n        \"name\": \"pq\",\n        \"parameters\": {\n          \"code_size\": 2,\n          \"m\": 2\n        }\n      }\n    }\n  }\n}\n</code></pre> <p>\ud559\uc2b5\uc774 \uc644\ub8cc\ub418\uba74 <code>state: created</code>\ub85c \ubcc0\uacbd\ub41c\ub2e4.</p> <pre><code>GET /_plugins/_knn/models/my-model?filter_path=state&amp;pretty\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#step-3","title":"Step 3: \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\ub294 \uc778\ub371\uc2a4 \uc0dd\uc131","text":"<pre><code>PUT /target-index\n{\n  \"settings\": {\n    \"index.knn\": true\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"target-field\": {\n        \"type\": \"knn_vector\",\n        \"model_id\": \"my-model\"\n      }\n    }\n  }\n}\n</code></pre> <p>\uc774\uc81c \uc774 \uc778\ub371\uc2a4\uc5d0 \ub370\uc774\ud130\ub97c \uc0bd\uc785\ud558\uba74 \ubaa8\ub378 \uae30\ubc18 \uc778\ub371\uc2a4\uac00 \uc790\ub3d9\uc73c\ub85c \uad6c\uc131\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#5","title":"5. \uace0\uae09 \uae30\ub2a5 \ubc0f \uc8fc\uc758 \uc0ac\ud56d","text":"<ul> <li> <p>ANN \ubc29\uc2dd\uc740 \uc815\ud655\ub3c4\ubcf4\ub2e4 \uc18d\ub3c4\uc640 \ud655\uc7a5\uc131\uc5d0 \uc911\uc810</p> </li> <li> <p>\ud544\ud130 \uc870\uac74\uc740 \uac80\uc0c9 \ud6c4 \uacb0\uacfc\uc5d0 \uc801\uc6a9\ub428 (\uc0ac\uc804 \ud544\ud130\ub9c1 \ubd88\uac00)</p> </li> <li> <p>\ubca1\ud130\ub294 \ucd5c\ub300 16,000\ucc28\uc6d0\uae4c\uc9c0 \uc9c0\uc6d0</p> </li> <li> <p>\ubca1\ud130 \uc778\ub371\uc2a4\ub294 \ub124\uc774\ud2f0\ube0c \uba54\ubaa8\ub9ac\uc5d0 \ub85c\ub529\ub418\uba70 Warmup API\ub85c \uc0ac\uc804 \ub85c\ub529 \uac00\ub2a5</p> </li> <li> <p>\uac80\uc0c9 \uc131\ub2a5\uc744 \ud655\uc778\ud558\ub824\uba74 Stats API \ud65c\uc6a9</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Approximate%20k-NN/#_1","title":"\ub9c8\ubb34\ub9ac","text":"<p>OpenSearch\uc758 Approximate k-NN \uac80\uc0c9 \uae30\ub2a5\uc740 \ub300\uc6a9\ub7c9 \ubca1\ud130 \ub370\uc774\ud130\ub97c \ube60\ub974\uac8c \uac80\uc0c9\ud574\uc57c \ud558\ub294 \ubaa8\ub4e0 \uc0c1\ud669\uc5d0\uc11c \ud575\uc2ec \ub3c4\uad6c\uc774\ub2e4. \ud2b9\ud788 \uc218\uc2ed\ub9cc \uac1c \uc774\uc0c1\uc758 \uace0\ucc28\uc6d0 \ubca1\ud130 \ub370\uc774\ud130\ub97c \ub2e4\ub8e8\ub294 \ucd94\ucc9c \uc2dc\uc2a4\ud15c, \ubb38\uc11c \uc720\uc0ac\ub3c4 \uac80\uc0c9, \uc774\ubbf8\uc9c0 \uac80\uc0c9 \ub4f1\uc5d0\uc11c \ud0c1\uc6d4\ud55c \uc131\ub2a5\uc744 \ubc1c\ud718\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/","title":"Embeddings model","text":"<p>\uc774 \uac00\uc774\ub4dc\ub294 OpenSearch\uc5d0\uc11c OpenAI API\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc784\ubca0\ub529 \ubaa8\ub378\uc744 \ub4f1\ub85d\ud558\uace0 \uc790\ub3d9 \uc784\ubca0\ub529 \uc0dd\uc131\uc744 \uc124\uc815\ud558\ub294 \uac80\uc99d\ub41c \ubc29\ubc95\uc744 \uc124\uba85\ud569\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_1","title":"\uc0ac\uc804 \uc900\ube44\uc0ac\ud56d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#1-opensearch","title":"1. OpenSearch \ud074\ub7ec\uc2a4\ud130 \uc124\uc815","text":"<pre><code>PUT _cluster/settings\n{\n  \"persistent\": {\n    \"plugins.ml_commons.only_run_on_ml_node\": \"false\",\n    \"plugins.ml_commons.model_access_control_enabled\": \"true\",\n    \"plugins.ml_commons.native_memory_threshold\": \"99\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#2-openai-api","title":"2. OpenAI API \ud0a4 \uc900\ube44","text":"<ul> <li>OpenAI API \ud0a4\ub97c \ubc1c\uae09\ubc1b\uc544 \uc900\ube44\ud569\ub2c8\ub2e4</li> <li>\uc0ac\uc6a9\ud560 \uc784\ubca0\ub529 \ubaa8\ub378\uc744 \uacb0\uc815\ud569\ub2c8\ub2e4 (\uc608: text-embedding-3-small, text-embedding-3-large)</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_2","title":"\ub2e8\uacc4\ubcc4 \uc124\uc815 (\uac80\uc99d\ub41c \ubc29\ubc95)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-1-openai","title":"Step 1: OpenAI \ucee4\ub125\ud130 \uc0dd\uc131","text":"<p>\uba3c\uc800 OpenAI API\uc640\uc758 \uc5f0\uacb0\uc744 \uc704\ud55c \ucee4\ub125\ud130\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc911\uc694: <code>pre_process_function</code>\uacfc <code>post_process_function</code>\uc744 \ubc18\ub4dc\uc2dc \ud3ec\ud568\ud574\uc57c \ud569\ub2c8\ub2e4.</p> <pre><code>POST /_plugins/_ml/connectors/_create\n{\n  \"name\": \"OpenAI Embedding Connector Fixed\",\n  \"description\": \"Fixed OpenAI API connector\",\n  \"version\": \"1.0.0\",\n  \"protocol\": \"http\",\n  \"parameters\": {\n    \"endpoint\": \"api.openai.com\",\n    \"model\": \"text-embedding-3-small\"\n  },\n  \"credential\": {\n    \"openAI_key\": \"\"\n  },\n  \"actions\": [\n    {\n      \"action_type\": \"predict\",\n      \"method\": \"POST\",\n      \"url\": \"https://api.openai.com/v1/embeddings\",\n      \"headers\": {\n        \"Authorization\": \"Bearer ${credential.openAI_key}\",\n        \"Content-Type\": \"application/json\"\n      },\n      \"request_body\": \"{ \\\"model\\\": \\\"${parameters.model}\\\", \\\"input\\\": ${parameters.input} }\",\n      \"pre_process_function\": \"connector.pre_process.openai.embedding\",\n      \"post_process_function\": \"connector.post_process.openai.embedding\"\n    }\n  ]\n}\n</code></pre> <p>\uc751\ub2f5 \uc608\uc2dc:</p> <pre><code>{\n  \"connector_id\": \"tc3IoJcBZGLRABg1c7Qo\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-2","title":"Step 2: \ubaa8\ub378 \ub4f1\ub85d \ubc0f \ubc30\ud3ec","text":"<p>\uc704\uc5d0\uc11c \uc0dd\uc131\ub41c \ucee4\ub125\ud130 ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubaa8\ub378\uc744 \ub4f1\ub85d\ud569\ub2c8\ub2e4:</p> <pre><code>POST /_plugins/_ml/models/_register?deploy=true\n{\n  \"name\": \"openai-embedding-fixed\",\n  \"function_name\": \"remote\",\n  \"connector_id\": \"tc3IoJcBZGLRABg1c7Qo\",\n  \"description\": \"Fixed OpenAI embedding model\"\n}\n</code></pre> <p>\uc751\ub2f5 \uc608\uc2dc:</p> <pre><code>{\n  \"task_id\": \"uc3IoJcBZGLRABg13rT2\",\n  \"status\": \"CREATED\",\n  \"model_id\": \"us3IoJcBZGLRABg137RI\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-3","title":"Step 3: \ubaa8\ub378 \ud14c\uc2a4\ud2b8","text":"<p>\ubaa8\ub378\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \uc791\ub3d9\ud558\ub294\uc9c0 \ud14c\uc2a4\ud2b8\ud569\ub2c8\ub2e4:</p> <pre><code>POST /_plugins/_ml/models/us3IoJcBZGLRABg137RI/_predict\n{\n  \"parameters\": {\n    \"input\": [\"\ud14c\uc2a4\ud2b8 \ud14d\uc2a4\ud2b8\"]\n  }\n}\n</code></pre> <p>\uc131\uacf5 \uc2dc 1536\ucc28\uc6d0\uc758 \uc784\ubca0\ub529 \ubca1\ud130\uac00 \ubc18\ud658\ub429\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-4","title":"Step 4: \uc778\uc81c\uc2a4\ud2b8 \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131","text":"<p>\uc704\uc5d0\uc11c \uc0dd\uc131\ub41c \ubaa8\ub378 ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc778\uc81c\uc2a4\ud2b8 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4:</p> <pre><code>PUT /_ingest/pipeline/openai-nlp\n{\n  \"description\": \"OpenAI NLP\",\n  \"processors\": [\n    {\n      \"text_embedding\": {\n        \"model_id\": \"us3IoJcBZGLRABg137RI\",\n        \"field_map\": {\n          \"text\": \"passage_embedding\"\n        },\n        \"description\": \"Generate embeddings for text field\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-5","title":"Step 5: \ubca1\ud130 \uc778\ub371\uc2a4 \uc0dd\uc131","text":"<p>\uc911\uc694: OpenSearch\uc5d0\uc11c\ub294 <code>space_type</code>\uc744 <code>cosinesimil</code>\ub85c \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4 (<code>cosine</code>\uc774 \uc544\ub2d8):</p> <pre><code>PUT /my-openai-nlp-index\n{\n  \"settings\": {\n    \"index.knn\": true,\n    \"default_pipeline\": \"openai-nlp\"\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"passage_embedding\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 1536,\n        \"space_type\": \"cosinesimil\"\n      },\n      \"text\": {\n        \"type\": \"text\"\n      },\n      \"title\": {\n        \"type\": \"text\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-6","title":"Step 6: \ubb38\uc11c \uc778\ub371\uc2f1 \ubc0f \ud14c\uc2a4\ud2b8","text":"<p>\uc774\uc81c \ubb38\uc11c\ub97c \uc778\ub371\uc2f1\ud558\uba74 \uc790\ub3d9\uc73c\ub85c \uc784\ubca0\ub529\uc774 \uc0dd\uc131\ub429\ub2c8\ub2e4:</p> <pre><code>PUT /my-openai-nlp-index/_doc/1\n{\n  \"title\": \"\ud14c\uc2a4\ud2b8\",\n  \"text\": \"\uac04\ub2e8\ud55c \ud14c\uc2a4\ud2b8 \ubb38\uc11c\uc785\ub2c8\ub2e4.\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-7","title":"Step 7: \ud30c\uc774\ud504\ub77c\uc778 \ud14c\uc2a4\ud2b8 (\uc120\ud0dd\uc0ac\ud56d)","text":"<p>\ud30c\uc774\ud504\ub77c\uc778\uc774 \uc815\uc0c1 \uc791\ub3d9\ud558\ub294\uc9c0 \uc2dc\ubbac\ub808\uc774\uc158\uc73c\ub85c \ud655\uc778:</p> <pre><code>POST /_ingest/pipeline/openai-nlp/_simulate\n{\n  \"docs\": [\n    {\n      \"_source\": {\n        \"text\": \"\uac04\ub2e8\ud55c \ud14c\uc2a4\ud2b8 \ubb38\uc11c\uc785\ub2c8\ub2e4.\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#step-8","title":"Step 8: \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uc218\ud589","text":"<pre><code>GET /my-openai-nlp-index/_search\n{\n  \"_source\": {\n    \"excludes\": [\"passage_embedding\"]\n  },\n  \"query\": {\n    \"neural\": {\n      \"passage_embedding\": {\n        \"query_text\": \"AI \uae30\uc220\uc758 \ucd5c\uc2e0 \ub3d9\ud5a5\",\n        \"model_id\": \"us3IoJcBZGLRABg137RI\",\n        \"k\": 5\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_3","title":"\ud575\uc2ec \ubb38\uc81c \ud574\uacb0 \uc0ac\ud56d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#1","title":"1. \ucee4\ub125\ud130 \uc124\uc815 \uc2dc \ud544\uc218 \uc694\uc18c","text":"<ul> <li><code>pre_process_function</code>: <code>connector.pre_process.openai.embedding</code></li> <li><code>post_process_function</code>: <code>connector.post_process.openai.embedding</code></li> <li>\uc774 \ud568\uc218\ub4e4\uc774 \uc5c6\uc73c\uba74 \uc751\ub2f5 \ucc98\ub9ac \uc624\ub958\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4.</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#2","title":"2. \ubaa8\ub378 \ucc28\uc6d0 \uc124\uc815","text":"<ul> <li>text-embedding-3-small: 1536\ucc28\uc6d0</li> <li>text-embedding-3-large: 3072\ucc28\uc6d0</li> <li>text-embedding-ada-002: 1536\ucc28\uc6d0</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_4","title":"\uc2e4\uc81c \uc0ac\uc6a9 \uc608\uc81c","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_5","title":"\ub2e4\uc911 \ubb38\uc11c \uc778\ub371\uc2f1","text":"<pre><code>PUT /my-openai-nlp-index/_doc/1\n{\n  \"title\": \"\uc778\uacf5\uc9c0\ub2a5 \uae30\uc220 \ub3d9\ud5a5\",\n  \"text\": \"2024\ub144 \uc778\uacf5\uc9c0\ub2a5 \uae30\uc220\uc740 \ub300\uaddc\ubaa8 \uc5b8\uc5b4 \ubaa8\ub378\uc744 \uc911\uc2ec\uc73c\ub85c \ube60\ub974\uac8c \ubc1c\uc804\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.\"\n}\n\nPUT /my-openai-nlp-index/_doc/2\n{\n  \"title\": \"\uba38\uc2e0\ub7ec\ub2dd \uc751\uc6a9 \ubd84\uc57c\", \n  \"text\": \"\uba38\uc2e0\ub7ec\ub2dd\uc740 \uc790\uc5f0\uc5b4 \ucc98\ub9ac, \ucef4\ud4e8\ud130 \ube44\uc804, \ucd94\ucc9c \uc2dc\uc2a4\ud15c \ub4f1 \ub2e4\uc591\ud55c \ubd84\uc57c\uc5d0\uc11c \ud65c\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4.\"\n}\n\nPUT /my-openai-nlp-index/_doc/3\n{\n  \"title\": \"\uac80\uc0c9 \uae30\uc220\uc758 \uc9c4\ud654\",\n  \"text\": \"\uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uae30\uc220\uc758 \ubc1c\uc804\uc73c\ub85c \uc0ac\uc6a9\uc790\uc758 \uc758\ub3c4\ub97c \ub354 \uc815\ud655\ud558\uac8c \ud30c\uc545\ud560 \uc218 \uc788\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_6","title":"\uace0\uae09 \uc124\uc815 \uc635\uc158","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_bulk-api","title":"\ubc30\uce58 \ucc98\ub9ac (<code>_bulk</code> API \uc0ac\uc6a9)","text":"<pre><code>POST /my-openai-nlp-index/_bulk?pipeline=openai-nlp\n{\"index\":{\"_id\":\"4\"}}\n{\"title\":\"AI \uc5f0\uad6c\",\"text\":\"\ucd5c\uc2e0 AI \uc5f0\uad6c \ub3d9\ud5a5\uc5d0 \ub300\ud55c \ubd84\uc11d\uc785\ub2c8\ub2e4.\"}\n{\"index\":{\"_id\":\"5\"}}\n{\"title\":\"\uae30\uc220 \ud601\uc2e0\",\"text\":\"\uae30\uc220 \ud601\uc2e0\uc774 \uc0b0\uc5c5\uc5d0 \ubbf8\uce58\ub294 \uc601\ud5a5\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4.\"}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_7","title":"\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 (\ud0a4\uc6cc\ub4dc + \uc2dc\ub9e8\ud2f1)","text":"<pre><code>GET /my-openai-nlp-index/_search\n{\n  \"_source\": {\n    \"excludes\": [\"passage_embedding\"]\n  },\n  \"query\": {\n    \"hybrid\": {\n      \"queries\": [\n        {\n          \"match\": {\n            \"text\": \"AI \uae30\uc220\"\n          }\n        },\n        {\n          \"neural\": {\n            \"passage_embedding\": {\n              \"query_text\": \"AI \uae30\uc220\uc758 \ucd5c\uc2e0 \ub3d9\ud5a5\",\n              \"model_id\": \"us3IoJcBZGLRABg137RI\",\n              \"k\": 5\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_8","title":"\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub514\ubc84\uae45","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_9","title":"\ubaa8\ub378 \uc0c1\ud0dc \ud655\uc778","text":"<pre><code>GET /_plugins/_ml/models/us3IoJcBZGLRABg137RI\nGET /_plugins/_ml/models/us3IoJcBZGLRABg137RI/_stats\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_10","title":"\ucee4\ub125\ud130 \uc0c1\ud0dc \ud655\uc778","text":"<pre><code>GET /_plugins/_ml/connectors/tc3IoJcBZGLRABg1c7Qo\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_11","title":"\ud30c\uc774\ud504\ub77c\uc778 \ud14c\uc2a4\ud2b8","text":"<pre><code>POST /_ingest/pipeline/openai-nlp/_simulate\n{\n  \"docs\": [\n    {\n      \"_source\": {\n        \"text\": \"\ud14c\uc2a4\ud2b8\ud560 \ud14d\uc2a4\ud2b8\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_12","title":"\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \ube44\uc6a9 \uad00\ub9ac","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#openai","title":"OpenAI \ubaa8\ub378\ubcc4 \ube44\uad50","text":"\ubaa8\ub378\uba85 \ucc28\uc6d0 \ucd5c\ub300 \ud1a0\ud070 \uc131\ub2a5 \ube44\uc6a9 \uad8c\uc7a5 \uc6a9\ub3c4 text-embedding-3-small 1536 8191 \ub192\uc74c \ub0ae\uc74c \uc77c\ubc18\uc801\uc778 \uc6a9\ub3c4 text-embedding-3-large 3072 8191 \ucd5c\uace0 \ub192\uc74c \uace0\ud488\uc9c8 \uac80\uc0c9 text-embedding-ada-002 1536 8191 \uc911\uac04 \uc911\uac04 \uae30\ubcf8 \uc784\ubca0\ub529"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_13","title":"\ube44\uc6a9 \ucd5c\uc801\ud654 \ud301","text":"<ol> <li>\ubc30\uce58 \ucc98\ub9ac: \uc5ec\ub7ec \ubb38\uc11c\ub97c \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud558\uc5ec API \ud638\ucd9c \ud69f\uc218 \ucd5c\uc18c\ud654</li> <li>\uce90\uc2f1: \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \uc784\ubca0\ub529 \uacb0\uacfc \uce90\uc2dc</li> <li>\ubaa8\ub378 \uc120\ud0dd: \uc6a9\ub3c4\uc5d0 \ub9de\ub294 \uc801\uc808\ud55c \ubaa8\ub378 \uc120\ud0dd</li> <li>\ud14d\uc2a4\ud2b8 \uae38\uc774 \ucd5c\uc801\ud654: \ubd88\ud544\uc694\ud55c \ud14d\uc2a4\ud2b8 \uc81c\uac70\ub85c \ud1a0\ud070 \uc0ac\uc6a9\ub7c9 \uc808\uc57d</li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_14","title":"\ubcf4\uc548 \ubc0f \uc6b4\uc601 \uace0\ub824\uc0ac\ud56d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#api","title":"API \ud0a4 \ubcf4\uc548","text":"<ul> <li>\ud658\uacbd \ubcc0\uc218 \ub610\ub294 \ubcf4\uc548 \uc800\uc7a5\uc18c \uc0ac\uc6a9</li> <li>\uc815\uae30\uc801\uc778 API \ud0a4 \uad50\uccb4</li> <li>\ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59 \uc801\uc6a9</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_15","title":"\ubaa8\ub2c8\ud130\ub9c1 \uc9c0\ud45c","text":"<ul> <li>API \ud638\ucd9c \uc131\uacf5\ub960</li> <li>\uc751\ub2f5 \uc2dc\uac04</li> <li>\ube44\uc6a9 \ucd94\uc801</li> <li>\uc624\ub958\uc728 \ubaa8\ub2c8\ud130\ub9c1</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_16","title":"\ubb38\uc81c \ud574\uacb0 \uac00\uc774\ub4dc","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_17","title":"\uc77c\ubc18\uc801\uc778 \uc624\ub958\uc640 \ud574\uacb0\ubc29\ubc95","text":"<ol> <li> <p>\"Unable to find space: cosine\" \uc624\ub958</p> <ul> <li>\ud574\uacb0: <code>space_type</code>\uc744 <code>cosinesimil</code>\ub85c \ubcc0\uacbd</li> <li> <p>\"failed while calling model\" \uc624\ub958</p> </li> <li> <p>\ud574\uacb0: \ucee4\ub125\ud130\uc5d0 <code>pre_process_function</code>\uacfc <code>post_process_function</code> \ucd94\uac00</p> </li> <li> <p>API \ud0a4 \uc778\uc99d \uc624\ub958</p> </li> <li> <p>\ud574\uacb0: OpenAI API \ud0a4 \uc720\ud6a8\uc131 \ubc0f \uc794\uc561 \ud655\uc778</p> </li> <li> <p>\ucc28\uc6d0 \ubd88\uc77c\uce58 \uc624\ub958</p> </li> <li> <p>\ud574\uacb0: \uc778\ub371\uc2a4 \ub9e4\ud551\uc758 <code>dimension</code> \uac12\uc744 \ubaa8\ub378 \ucc28\uc6d0\uacfc \uc77c\uce58\uc2dc\ud0a4\uae30</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_18","title":"\ub85c\uadf8 \ud655\uc778 \ubc29\ubc95","text":"<pre><code># OpenSearch \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1\ntail -f /var/log/opensearch/opensearch.log | grep -i \"embedding\\|neural\\|ml\"\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_19","title":"\uacb0\ub860","text":"<p>\uc774 \uac00\uc774\ub4dc\ub97c \ud1b5\ud574 OpenSearch\uc5d0\uc11c OpenAI API\ub97c \uc0ac\uc6a9\ud55c \uace0\ud488\uc9c8 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uc131\uacf5\uc801\uc73c\ub85c \uad6c\ucd95\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud575\uc2ec\uc740 \uc62c\ubc14\ub978 \ucee4\ub125\ud130 \uc124\uc815(\uc804\ucc98\ub9ac/\ud6c4\ucc98\ub9ac \ud568\uc218 \ud3ec\ud568)\uacfc \uc801\uc808\ud55c \uac70\ub9ac \uba54\ud2b8\ub9ad(<code>cosinesimil</code>) \uc0ac\uc6a9\uc785\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Embeddings%20model/#_20","title":"\uac80\uc99d\ub41c \uc131\uacf5 \uc694\uc18c","text":"<p>\ucee4\ub125\ud130: <code>pre_process_function</code>\uacfc <code>post_process_function</code> \ud544\uc218 \uac70\ub9ac \uba54\ud2b8\ub9ad: <code>cosinesimil</code> \uc0ac\uc6a9 (<code>cosine</code> \uc544\ub2d8) \ucc28\uc6d0 \uc124\uc815: text-embedding-3-small = 1536\ucc28\uc6d0 \ubaa8\ub378 \ud14c\uc2a4\ud2b8: \ud30c\uc774\ud504\ub77c\uc778 \uc801\uc6a9 \uc804 \uac1c\ubcc4 \ubaa8\ub378 \ud638\ucd9c \ud14c\uc2a4\ud2b8</p> <p>\uc774\uc81c OpenAI\uc758 \uac15\ub825\ud55c \uc784\ubca0\ub529 \uae30\uc220\uc744 \ud65c\uc6a9\ud55c \uace0\ud488\uc9c8 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uc6b4\uc601\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4!</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/","title":"Exact k NN Seach","text":"<p>\ub300\uaddc\ubaa8 \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9\uc5d0\uc11c \ub300\ubd80\ubd84\uc740 \uc18d\ub3c4\ub97c \uc704\ud574 Approximate k-NN(\uadfc\uc0ac \ucd5c\uadfc\uc811 \uc774\uc6c3) \uac80\uc0c9\uc744 \uc0ac\uc6a9\ud55c\ub2e4.</p> <p>\ud558\uc9c0\ub9cc \ud544\ud130\ub9c1\uc774 \ud544\uc694\ud558\uac70\ub098 \ub354 \ub192\uc740 \uc815\ud655\ub3c4\uac00 \uc694\uad6c\ub418\ub294 \uacbd\uc6b0\uc5d0\ub294 OpenSearch\uc758 Scoring Script \uae30\ubc18 Exact k-NN \uac80\uc0c9\uc744 \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#1-scoring-script-k-nn","title":"1. \uc65c Scoring Script \uae30\ubc18 k-NN\uc744 \uc0ac\uc6a9\ud560\uae4c?","text":"<ul> <li> <p>\ud544\ud130\ub9c1 \uc870\uac74\uacfc \ud568\uaed8 \ubca1\ud130 \uac80\uc0c9\uc774 \ud544\uc694\ud55c \uacbd\uc6b0</p> </li> <li> <p>\ubca1\ud130 \uc218\uac00 \uc801\uace0 \uc815\ud655\ub3c4\uac00 \uc911\uc694\ud55c \uacbd\uc6b0</p> </li> <li> <p>\uae30\uc874 Approximate k-NN \uad6c\uc870\uc5d0\uc11c\ub294 \ud544\ud130\ub97c \uc0ac\ud6c4(post) \uc801\uc6a9\ud558\uc9c0\ub9cc, Scoring Script\ub294 \uac80\uc0c9 \uc804 \ud544\ud130(pre-filter) \uc801\uc6a9\uc774 \uac00\ub2a5</p> </li> </ul> <p>\ub2e8\uc810: \ube0c\ub8e8\ud2b8\ud3ec\uc2a4 \ubc29\uc2dd\uc774\ub77c \ub300\uaddc\ubaa8 \ub370\uc774\ud130\uc14b\uc5d0\uc11c\ub294 \uc18d\ub3c4\uac00 \ub290\ub9b4 \uc218 \uc788\uc74c</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#2","title":"2. \uc778\ub371\uc2a4 \uc0dd\uc131 \ubc0f \ub370\uc774\ud130 \uc0bd\uc785","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#_1","title":"\uc778\ub371\uc2a4 \uc0dd\uc131","text":"<pre><code>PUT my-knn-index-1\n{\n  \"mappings\": {\n    \"properties\": {\n      \"my_vector1\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 2\n      },\n      \"my_vector2\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 4\n      }\n    }\n  }\n}\n</code></pre> <p><code>index.knn</code> \uc124\uc815\uc740 \uc0dd\ub7b5 \uac00\ub2a5. \uc774\ub294 Approximate \ubc29\uc2dd \uc0ac\uc6a9 \uc548 \ud560 \uacbd\uc6b0\uc5d0 \uc720\ub9ac (\uc18d\ub3c4, \uba54\ubaa8\ub9ac \uce21\uba74)</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#_2","title":"\ub370\uc774\ud130 \uc0bd\uc785","text":"<pre><code>POST _bulk\n{ \"index\": { \"_index\": \"my-knn-index-1\", \"_id\": \"1\" } }\n{ \"my_vector1\": [1.5, 2.5], \"price\": 12.2 }\n...\n{ \"index\": { \"_index\": \"my-knn-index-1\", \"_id\": \"9\" } }\n{ \"my_vector2\": [1.5, 5.5, 4.5, 6.4], \"price\": 8.9 }\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#3-k-nn","title":"3. \uc815\ud655\ud55c k-NN \uac80\uc0c9 \uc2e4\ud589","text":"<pre><code>GET my-knn-index-1/_search\n{\n  \"size\": 4,\n  \"query\": {\n    \"script_score\": {\n      \"query\": {\n        \"match_all\": {}\n      },\n      \"script\": {\n        \"lang\": \"knn\",\n        \"source\": \"knn_score\",\n        \"params\": {\n          \"field\": \"my_vector2\",\n          \"query_value\": [2.0, 3.0, 5.0, 6.0],\n          \"space_type\": \"cosinesimil\"\n        }\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>lang</code>: \ubc18\ub4dc\uc2dc <code>knn</code> \uc0ac\uc6a9</p> </li> <li> <p><code>source</code>: <code>\"knn_score\"</code></p> </li> <li> <p><code>field</code>: \ubca1\ud130 \ud544\ub4dc\uba85</p> </li> <li> <p><code>query_value</code>: \ucffc\ub9ac \ubca1\ud130</p> </li> <li> <p><code>space_type</code>: \uac70\ub9ac \ud568\uc218 (<code>l2</code>, <code>cosinesimil</code>, <code>hammingbit</code> \ub4f1)</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#4-pre-filter","title":"4. Pre-filter \uc801\uc6a9 \uc608\uc2dc","text":"<p>Scoring Script\ub294 \uac80\uc0c9 \uc804\uc5d0 \uc870\uac74 \ud544\ud130\ub9c1\uc744 \uac78 \uc218 \uc788\ub2e4\ub294 \uc810\uc774 \ud070 \uc7a5\uc810\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#_3","title":"\uc778\ub371\uc2a4 \uc0dd\uc131","text":"<pre><code>PUT my-knn-index-2\n{\n  \"mappings\": {\n    \"properties\": {\n      \"my_vector\": { \"type\": \"knn_vector\", \"dimension\": 2 },\n      \"color\": { \"type\": \"keyword\" }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#_4","title":"\ubb38\uc11c \uc0bd\uc785","text":"<pre><code>POST _bulk\n{ \"index\": { \"_index\": \"my-knn-index-2\", \"_id\": \"1\" } }\n{ \"my_vector\": [1, 1], \"color\": \"RED\" }\n{ \"index\": { \"_index\": \"my-knn-index-2\", \"_id\": \"4\" } }\n{ \"my_vector\": [10, 10], \"color\": \"BLUE\" }\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#pre-filter","title":"Pre-filter + \ubca1\ud130 \uac80\uc0c9","text":"<pre><code>GET my-knn-index-2/_search\n{\n  \"size\": 2,\n  \"query\": {\n    \"script_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": {\n            \"term\": { \"color\": \"BLUE\" }\n          }\n        }\n      },\n      \"script\": {\n        \"lang\": \"knn\",\n        \"source\": \"knn_score\",\n        \"params\": {\n          \"field\": \"my_vector\",\n          \"query_value\": [9.9, 9.9],\n          \"space_type\": \"l2\"\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#5-binary-hamming-distance","title":"5. Binary \ub370\uc774\ud130\uc5d0 \ub300\ud55c Hamming Distance \uac80\uc0c9","text":"<p>Scoring Script\ub294 Binary \ub610\ub294 Long \ud0c0\uc785 \ud544\ub4dc\uc5d0 \ub300\ud574 Hamming Distance \uae30\ubc18 \ubca1\ud130 \uac80\uc0c9\ub3c4 \uc9c0\uc6d0\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#_5","title":"\uc778\ub371\uc2a4 \uc0dd\uc131","text":"<pre><code>PUT my-index\n{\n  \"mappings\": {\n    \"properties\": {\n      \"my_binary\": {\n        \"type\": \"binary\",\n        \"doc_values\": true\n      },\n      \"color\": {\n        \"type\": \"keyword\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#base64","title":"Base64 \uc778\ucf54\ub529\ub41c \ub370\uc774\ud130 \uc0bd\uc785","text":"<pre><code>POST _bulk\n{ \"index\": { \"_index\": \"my-index\", \"_id\": \"1\" } }\n{ \"my_binary\": \"SGVsbG8gV29ybGQh\", \"color\": \"RED\" }\n...\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#hamming-distance","title":"\uac80\uc0c9 (Hamming distance \uae30\ubc18)","text":"<pre><code>GET my-index/_search\n{\n  \"size\": 2,\n  \"query\": {\n    \"script_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": {\n            \"term\": { \"color\": \"BLUE\" }\n          }\n        }\n      },\n      \"script\": {\n        \"lang\": \"knn\",\n        \"source\": \"knn_score\",\n        \"params\": {\n          \"field\": \"my_binary\",\n          \"query_value\": \"U29tZXRoaW5nIEltIGxvb2tpbmcgZm9y\",\n          \"space_type\": \"hammingbit\"\n        }\n      }\n    }\n  }\n}\n</code></pre> <p><code>query_value</code>\ub294 base64 \ubb38\uc790\uc5f4 (\ub610\ub294 long \uc815\uc218)</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Exact%20k-NN%20Seach/#_6","title":"\ub9c8\ubb34\ub9ac","text":"<p>OpenSearch\uc758 Scoring Script \uae30\ubc18 k-NN \uac80\uc0c9\uc740 \ub2e4\uc74c\uacfc \uac19\uc740 \uc0c1\ud669\uc5d0\uc11c \uac15\ub825\ud55c \ub3c4\uad6c\uac00 \ub41c\ub2e4.</p> <ul> <li> <p>\ud544\ud130\ub97c \uba3c\uc800 \uc801\uc6a9\ud55c \ud6c4 \ubca1\ud130 \uac80\uc0c9\uc774 \ud544\uc694\ud55c \uacbd\uc6b0</p> </li> <li> <p>\uc815\ud655\ud55c \uc720\uc0ac\ub3c4 \uacc4\uc0b0\uc774 \ud544\uc218\uc778 \ud658\uacbd</p> </li> <li> <p>Binary \ub370\uc774\ud130\uc5d0 \ub300\ud55c \ubca1\ud130 \uc720\uc0ac\ub3c4 \uacc4\uc0b0\uc774 \ud544\uc694\ud55c \uacbd\uc6b0</p> </li> </ul> <p>\ub2e8, \ub300\uaddc\ubaa8 \ub370\uc774\ud130\uc14b\uc5d0\ub294 \uc801\ud569\ud558\uc9c0 \uc54a\uc73c\uba70 Approximate k-NN \ubc29\uc2dd\uacfc \ud568\uaed8 \ud558\uc774\ube0c\ub9ac\ub4dc\ub85c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \ubc14\ub78c\uc9c1\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/","title":"GPU \uae30\ubc18 \uc6d0\uaca9 \ubca1\ud130 \uc778\ub371\uc2a4 \uad6c\ucd95 \uac00\uc774\ub4dc","text":"<p>OpenSearch(v3.0.0)\ub294 GPU \uac00\uc18d \uc6d0\uaca9 \uc778\ub371\uc2a4 \ube4c\ub4dc \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \ubca1\ud130 \uc778\ub371\uc2a4\ub97c \ub354 \ube60\ub974\uace0 \ud6a8\uc728\uc801\uc73c\ub85c \uad6c\ucd95\ud560 \uc218 \uc788\ub2e4.</p> <p>\uc774 \uae30\ub2a5\uc740 Faiss \uc5d4\uc9c4 + HNSW \uc54c\uace0\ub9ac\uc998 + FP32(32-bit float) \ubca1\ud130\uc5d0 \ub300\ud574 \uc9c0\uc6d0\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_1","title":"\uc8fc\uc694 \uc774\uc810","text":"<ul> <li> <p>GPU \uc0ac\uc6a9\uc73c\ub85c \uc0c9\uc778 \uc18d\ub3c4 \ub300\ud3ed \ud5a5\uc0c1</p> </li> <li> <p>CPU \uae30\ubc18 \uc0c9\uc778 \ub300\ube44 \ube44\uc6a9 \uc808\uac10</p> </li> <li> <p>\uc0c9\uc778 \ucc98\ub9ac\uac00 OpenSearch \uc678\ubd80\uc5d0\uc11c \ube44\ub3d9\uae30\uc801\uc73c\ub85c \uc218\ud589\ub428</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_2","title":"\uc0ac\uc804 \uc900\ube44 \uc0ac\ud56d","text":"<ol> <li> <p>Faiss \uc5d4\uc9c4 + HNSW \uba54\uc11c\ub4dc\ub97c \uc0ac\uc6a9\ud558\ub294 \uc778\ub371\uc2a4\ub9cc \uc9c0\uc6d0</p> </li> <li> <p>\ubca1\ud130 \ud0c0\uc785: FP32 (32-bit float)</p> </li> <li> <p>AWS S3 \uc800\uc7a5\uc18c \ud544\uc218 (\uc911\uac04 \uc800\uc7a5\uc18c \uc5ed\ud560)</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1","title":"1\ub2e8\uacc4: \uc6d0\uaca9 \uc778\ub371\uc2a4 \ube4c\ub4dc \uae30\ub2a5 \ud65c\uc131\ud654","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#dynamic","title":"\ud074\ub7ec\uc2a4\ud130 \uc124\uc815 (Dynamic)","text":"<pre><code>PUT /_cluster/settings\n{\n  \"persistent\": {\n    \"knn.remote_index_build.enabled\": true\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#dynamic_1","title":"\uc778\ub371\uc2a4 \uc124\uc815 (Dynamic)","text":"<pre><code>PUT /my-index/_settings\n{\n  \"index\": {\n    \"knn.remote_index_build.enabled\": true\n  }\n}\n</code></pre> <p>\ub450 \uc124\uc815\uc774 \ubaa8\ub450 true\uc5ec\uc57c \uc778\ub371\uc2a4\uc5d0 \ub300\ud574 \uc6d0\uaca9 \ube4c\ub4dc\uac00 \ud65c\uc131\ud654\ub428</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-s3","title":"2\ub2e8\uacc4: \uc6d0\uaca9 \ubca1\ud130 \uc800\uc7a5\uc18c(S3) \ub4f1\ub85d","text":"<p>OpenSearch \ud074\ub7ec\uc2a4\ud130\ub294 \ubca1\ud130\uc640 \ubb38\uc11c ID\ub97c S3 \uc800\uc7a5\uc18c\uc5d0 \uc5c5\ub85c\ub4dc\ud558\uba70, \uc6d0\uaca9 GPU \ube4c\ub354\ub294 \uc774\ub97c \uac00\uc838\uc640 \uc678\ubd80\uc5d0\uc11c \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud55c \ub4a4 \uacb0\uacfc\ub97c \ub2e4\uc2dc \uc800\uc7a5\uc18c\uc5d0 \uc5c5\ub85c\ub4dc\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_3","title":"\uc800\uc7a5\uc18c \ub4f1\ub85d \uc608\uc2dc","text":"<pre><code>PUT _snapshot/remote-knn-repo\n{\n  \"type\": \"s3\",\n  \"settings\": {\n    \"bucket\": \"my-knn-bucket\",\n    \"region\": \"us-west-2\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_4","title":"\ud074\ub7ec\uc2a4\ud130\uc5d0 \uc800\uc7a5\uc18c \uc9c0\uc815","text":"<pre><code>PUT /_cluster/settings\n{\n  \"persistent\": {\n    \"knn.remote_index_build.repository\": \"remote-knn-repo\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3-endpoint","title":"3\ub2e8\uacc4: \uc6d0\uaca9 \uc778\ub371\uc2a4 \ube4c\ub4dc \uc11c\ube44\uc2a4(endpoint) \uc124\uc815","text":"<ul> <li>GPU \ube4c\ub4dc \uc11c\ubc84\ub97c \uc9c1\uc811 \uc6b4\uc601\ud558\uace0 \uc788\ub2e4\uba74, \uc544\ub798\uc640 \uac19\uc774 \uc124\uc815</li> </ul> <pre><code>PUT /_cluster/settings\n{\n  \"persistent\": {\n    \"knn.remote_index_build.service.endpoint\": \"https://my-knn-builder.example.com\"\n  }\n}\n</code></pre> <p>GPU \ube4c\ub354 \uc11c\ube44\uc2a4 \uad6c\uc131\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uacf5\uc2dd User Guide \ucc38\uc870</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_5","title":"\ub3d9\uc791 \ubc29\uc2dd","text":"<ul> <li> <p>Flush \ub610\ub294 Merge \uc2dc, \ub2e4\uc74c \uc870\uac74\uc744 \ub9cc\uc871\ud558\ub294 \uacbd\uc6b0 GPU \ube4c\ub4dc \uacbd\ub85c\ub85c \uc804\ud658:</p> <ol> <li> <p>\uc778\ub371\uc2a4 \uc124\uc815\uc774 \uc9c0\uc6d0 \uad6c\uc131\uc744 \ub530\ub984 (Faiss + HNSW + FP32)</p> </li> <li> <p>\uc138\uadf8\uba3c\ud2b8 \ud06c\uae30\uac00 \uc124\uc815\ub41c \ubc94\uc704 \ub0b4\uc5d0 \uc788\uc74c</p> <ul> <li> <p>\ucd5c\uc18c: <code>index.knn.remote_index_build.size.min</code></p> </li> <li> <p>\ucd5c\ub300: <code>knn.remote_index_build.size.max</code></p> </li> </ul> </li> </ol> </li> <li> <p>\ube4c\ub4dc \uc791\uc5c5\uc740 \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc790\ub3d9 \uc2e4\ud589\ub428</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_6","title":"\ubaa8\ub2c8\ud130\ub9c1 \ubc29\ubc95","text":"<p>k-NN Stats API\ub97c \uc0ac\uc6a9\ud574 \uc6d0\uaca9 \uc778\ub371\uc2a4 \ube4c\ub4dc \uc791\uc5c5 \uc0c1\ud0dc\ub97c \ud655\uc778 \uac00\ub2a5:</p> <pre><code>GET /_plugins/_knn/stats\n</code></pre> <ul> <li><code>remote_index_build</code> \ud56d\ubaa9\uc5d0\uc11c \ud604\uc7ac \uc791\uc5c5\ub7c9, \uc131\uacf5/\uc2e4\ud328 \ud1b5\uacc4 \ub4f1\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc74c</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_7","title":"\uc815\ud655\ud788 \ubb50\uac00 \uc88b\ub098?","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1_1","title":"1. \uc778\ub371\uc2f1 \uc18d\ub3c4 \ub300\ud3ed \ud5a5\uc0c1","text":"<ul> <li> <p>\uae30\uc874\uc5d0\ub294 \ubca1\ud130\ub97c \uc0c9\uc778\ud560 \ub54c OpenSearch \ub178\ub4dc\uac00 CPU\ub85c \uc9c1\uc811 \ubca1\ud130 \uc778\ub371\uc2a4(HNSW \ub4f1)\ub97c \uc0dd\uc131\ud574\uc57c \ud588\uc74c.</p> </li> <li> <p>\uc774 \uc791\uc5c5\uc740 \ud2b9\ud788 \uc218\uc2ed\ub9cc~\uc218\ubc31\ub9cc \uac1c\uc758 \ubca1\ud130\ub97c \uc0c9\uc778\ud560 \ub54c \ubcd1\ubaa9\uc774 \ubc1c\uc0dd\ud568.</p> </li> <li> <p>GPU\ub97c \uc0ac\uc6a9\ud558\uba74 \ubcd1\ub82c \uc5f0\uc0b0\uc73c\ub85c \uc218\uc2ed \ubc30 \ube60\ub974\uac8c \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc74c.</p> <ul> <li>\uc608: \uc218\ubc31\ub9cc \uac1c \ubca1\ud130\ub97c \uc218 \ubd84 \ub0b4 \uc0c9\uc778 \uac00\ub2a5 (CPU\ubcf4\ub2e4 \uc218\uc2ed~\uc218\ubc31 \ubc30 \ube60\ub984)</li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-opensearch-cpu","title":"2. OpenSearch \ub178\ub4dc\uc758 CPU \uc790\uc6d0 \uc808\uc57d","text":"<ul> <li> <p>\uc778\ub371\uc2a4 \uc0dd\uc131 \uc791\uc5c5\uc740 CPU\ub97c \ub9ce\uc774 \uc18c\ubaa8\ud568 \u2192 \uac80\uc0c9 \uc131\ub2a5\uc5d0\ub3c4 \uc601\ud5a5</p> </li> <li> <p>GPU \uae30\ubc18 \uc6d0\uaca9 \ube4c\ub4dc\ub294 \uc0c9\uc778 \uc791\uc5c5\uc744 OpenSearch \uc678\ubd80\uc758 \ubcc4\ub3c4 GPU \uc11c\ubc84\uc5d0\uc11c \ucc98\ub9ac\ud558\ubbc0\ub85c</p> <ul> <li> <p>OpenSearch \ub178\ub4dc\uc758 CPU \uc0ac\uc6a9\ub960\uc774 \ub0ae\uc544\uc9d0</p> </li> <li> <p>\uac80\uc0c9 \uc131\ub2a5 \uc720\uc9c0 + \uc778\ub371\uc2f1 \uc791\uc5c5 \ubcd1\ub82c\ud654 \uac00\ub2a5</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3","title":"3. \ub300\uaddc\ubaa8 \uc0c9\uc778 \uc791\uc5c5\uc5d0 \ucd5c\uc801\ud654","text":"<ul> <li> <p>\ubca1\ud130\uac00 \uc218\uc2ed\ub9cc~\uc218\ucc9c\ub9cc \uac1c \uc774\uc0c1\uc778 \uacbd\uc6b0, \uc77c\ubc18 \uc0c9\uc778\uc740 \uc2dc\uac04\ub3c4 \uc624\ub798 \uac78\ub9ac\uace0 \ub178\ub4dc\uc5d0 \uacfc\ubd80\ud558\ub97c \uc904 \uc218 \uc788\uc74c</p> </li> <li> <p>\uc774 \uae30\ub2a5\uc740 \ucd08\uae30 \ub300\ub7c9 \uc5c5\ub85c\ub4dc \ub610\ub294 \uc815\uae30 \ubc30\uce58 \uc0c9\uc778 \uc791\uc5c5\uc5d0 \ud2b9\ud788 \uc720\uc6a9</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#4","title":"4. \uc790\ub3d9 \uc5f0\ub3d9 \ubc0f \ubcd1\ub82c \ucc98\ub9ac \uad6c\uc870","text":"<ul> <li> <p>OpenSearch\uc5d0\uc11c \uc138\uadf8\uba3c\ud2b8\uac00 \uc77c\uc815 \ud06c\uae30\ub97c \ub118\uc744 \uacbd\uc6b0 \uc790\ub3d9\uc73c\ub85c GPU \ube4c\ub4dc \uacbd\ub85c \uc0ac\uc6a9</p> </li> <li> <p>\uc0ac\uc6a9\uc790\ub294 \ubcc4\ub3c4 \uc791\uc5c5 \uc5c6\uc774 \uc124\uc815\ub9cc \ud574\ub450\uba74 \uc790\ub3d9 \uc804\ud658\ub428</p> </li> <li> <p>Amazon S3 \uae30\ubc18\uc758 \uc911\uac04 \uc800\uc7a5\uc18c(Snapshot repository)\ub97c \ud1b5\ud574 \ube44\ub3d9\uae30 \ucc98\ub9ac \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#5","title":"5. \uc778\ud504\ub77c \ud655\uc7a5\uc131 \ud655\ubcf4","text":"<ul> <li> <p>GPU \uc778\ub371\uc2a4 \ube4c\ub4dc \uc11c\ubc84\ub294 OpenSearch \ud074\ub7ec\uc2a4\ud130\uc640 \ub3c5\ub9bd\uc801\uc774\ubbc0\ub85c</p> <ul> <li> <p>\ud544\uc694 \uc2dc \ubcc4\ub3c4 \ud655\uc7a5 \uac00\ub2a5</p> </li> <li> <p>GPU \uc11c\ubc84 \ube44\uc6a9\ub9cc \ubcc4\ub3c4\ub85c \uad00\ub9ac\ud558\uba74 \ub428 (OpenSearch\uc5d0 \ubb34\ub9ac \uc5c6\uc74c)</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/GPU%20%EA%B8%B0%EB%B0%98%20%EC%9B%90%EA%B2%A9%20%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8A%A4%20%EA%B5%AC%EC%B6%95%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_8","title":"\uc694\uc57d","text":"\ud56d\ubaa9 \uc124\uba85 \uc9c0\uc6d0 \uc5d4\uc9c4 Faiss (HNSW + FP32) \uc800\uc7a5\uc18c Amazon S3 (\uc911\uac04 \uc800\uc7a5\uc18c \uc5ed\ud560) \uc131\ub2a5 \ud5a5\uc0c1 GPU \uc0ac\uc6a9\uc73c\ub85c \uc778\ub371\uc2a4 \uc18d\ub3c4 \ub300\ud3ed \ud5a5\uc0c1 \ud65c\uc6a9 \uc870\uac74 \ud2b9\uc815 \uc138\uadf8\uba3c\ud2b8 \ud06c\uae30 \ubc94\uc704 + \uc9c0\uc6d0 \uad6c\uc131 \uc0ac\uc6a9 API Warm-up, Stats API \ud65c\uc6a9 \uac00\ub2a5"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/","title":"Nested Field\ub85c \ub2e4\uc911 \ubca1\ud130 \ub2e4\ub8e8\uae30","text":"<p>\ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud560 \ub54c, \ud558\ub098\uc758 \ubb38\uc11c\uac00 \uc5ec\ub7ec \uac1c\uc758 \uad6c\uc131 \uc694\uc18c(\uc608: \ubb38\ub2e8, \uc774\ubbf8\uc9c0, \uc124\uba85 \ub4f1)\ub85c \uc774\ub904\uc838 \uc788\ub2e4\uba74 \uac01 \uc694\uc18c\ub9c8\ub2e4 \ubca1\ud130\ub97c \uc0dd\uc131\ud558\uc5ec \ubb38\uc11c \ub0b4\uc5d0 \ud568\uaed8 \uc800\uc7a5\ud558\uace0 \uc2f6\uc744 \uc218 \uc788\ub2e4.</p> <p>OpenSearch\ub294 \uc774\ub97c \uc704\ud574 nested \ud544\ub4dc \uae30\ubc18 \ubca1\ud130 \uac80\uc0c9 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#1-nested-field","title":"1. Nested Field\ub780?","text":"<ul> <li> <p>\ud558\ub098\uc758 \ubb38\uc11c \ub0b4\uc5d0 \ubc30\uc5f4 \ud615\ud0dc\ub85c \uac1d\uccb4\ub97c \ud3ec\ud568\ud560 \uc218 \uc788\ub294 \uad6c\uc870</p> </li> <li> <p>\uac01 \uac1d\uccb4 \uc548\uc5d0 <code>knn_vector</code>\ub97c \ud3ec\ud568\ud558\uc5ec \ub2e4\uc218\uc758 \ubca1\ud130\ub97c \ud55c \ubb38\uc11c\uc5d0 \uc800\uc7a5 \uac00\ub2a5</p> </li> <li> <p>\uac80\uc0c9 \uc2dc \uac01 \ubb38\uc11c\uc758 \uac00\uc7a5 \uc720\uc0ac\ud55c \ubca1\ud130\ub9cc \uae30\uc900\uc73c\ub85c \uc2a4\ucf54\uc5b4 \uacb0\uc815</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#2","title":"2. \uc778\ub371\uc2a4 \uc0dd\uc131 \uc608\uc2dc","text":"<pre><code>PUT my-knn-index-1\n{\n  \"settings\": {\n    \"index\": {\n      \"knn\": true\n    }\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"nested_field\": {\n        \"type\": \"nested\",\n        \"properties\": {\n          \"my_vector\": {\n            \"type\": \"knn_vector\",\n            \"dimension\": 3,\n            \"space_type\": \"l2\",\n            \"method\": {\n              \"name\": \"hnsw\",\n              \"engine\": \"lucene\",\n              \"parameters\": {\n                \"ef_construction\": 100,\n                \"m\": 16\n              }\n            }\n          },\n          \"color\": {\n            \"type\": \"text\",\n            \"index\": false\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#3","title":"3. \ubb38\uc11c \uc0c9\uc778 \uc608\uc2dc","text":"<pre><code>PUT _bulk?refresh=true\n{ \"index\": { \"_index\": \"my-knn-index-1\", \"_id\": \"1\" } }\n{\n  \"nested_field\": [\n    { \"my_vector\": [1,1,1], \"color\": \"blue\" },\n    { \"my_vector\": [2,2,2], \"color\": \"yellow\" },\n    { \"my_vector\": [3,3,3], \"color\": \"white\" }\n  ]\n}\n{ \"index\": { \"_index\": \"my-knn-index-1\", \"_id\": \"2\" } }\n{\n  \"nested_field\": [\n    { \"my_vector\": [10,10,10], \"color\": \"red\" },\n    { \"my_vector\": [20,20,20], \"color\": \"green\" },\n    { \"my_vector\": [30,30,30], \"color\": \"black\" }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#4","title":"4. \uae30\ubcf8 \ubca1\ud130 \uac80\uc0c9 \ucffc\ub9ac","text":"<pre><code>GET my-knn-index-1/_search\n{\n  \"query\": {\n    \"nested\": {\n      \"path\": \"nested_field\",\n      \"query\": {\n        \"knn\": {\n          \"nested_field.my_vector\": {\n            \"vector\": [1, 1, 1],\n            \"k\": 2\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre> <p>\uc774 \ucffc\ub9ac\ub294 \ubca1\ud130 \uc720\uc0ac\ub3c4\uac00 \ub192\uc740 \uc0c1\uc704 2\uac1c \ubca1\ud130\uac00 \ud3ec\ud568\ub41c \ubb38\uc11c\ub97c \ubc18\ud658 \u2192 \ubca1\ud130\uac00 \ubaa8\ub450 \ubb38\uc11c 1\uc5d0 \uc788\ub354\ub77c\ub3c4 \uc11c\ub85c \ub2e4\ub978 \ubb38\uc11c\uac00 \ud3ec\ud568\ub420 \uc218 \uc788\uc74c</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#5-inner-hits-nested","title":"5. Inner Hits\ub85c \ub9e4\uce6d\ub41c Nested \uac1d\uccb4 \ud655\uc778","text":"<p>\uae30\ubcf8\uc801\uc73c\ub85c \uc5b4\ub5a4 \ud558\uc704 \uac1d\uccb4\uac00 \ub9e4\uce6d\ub418\uc5c8\ub294\uc9c0 \uc54c \uc218 \uc5c6\ub2e4. <code>inner_hits</code>\ub97c \ud1b5\ud574 \ud574\ub2f9 \uc815\ubcf4\ub97c \ud655\uc778\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>GET my-knn-index-1/_search\n{\n  \"_source\": false,\n  \"query\": {\n    \"nested\": {\n      \"path\": \"nested_field\",\n      \"query\": {\n        \"knn\": {\n          \"nested_field.my_vector\": {\n            \"vector\": [1,1,1],\n            \"k\": 2\n          }\n        }\n      },\n      \"inner_hits\": {\n        \"_source\": false,\n        \"fields\": [\"nested_field.color\"]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#6-nested","title":"6. \ubaa8\ub4e0 Nested \ubca1\ud130 \uc810\uc218 \ud655\uc778 (\ud655\uc7a5 \uac80\uc0c9)","text":"<p>\uae30\ubcf8 \uc124\uc815\uc5d0\uc11c\ub294 \ubb38\uc11c \ub0b4\uc5d0\uc11c \uac00\uc7a5 \ub192\uc740 \ubca1\ud130 \uc810\uc218\ub9cc \uc0ac\uc6a9\ud55c\ub2e4. \ubaa8\ub4e0 \ubca1\ud130 \uc2a4\ucf54\uc5b4\ub97c \ubc18\uc601\ud558\ub824\uba74 <code>expand_nested_docs: true</code>\ub97c \uc124\uc815\ud558\uace0, \ubb38\uc11c \uc810\uc218\ub85c \uc5b4\ub5a4 \uac12\uc744 \uc0ac\uc6a9\ud560\uc9c0 <code>score_mode</code>\ub85c \uc9c0\uc815\ud569\ub2c8\ub2e4.</p> <pre><code>\"score_mode\": \"max\" // \ub610\ub294 \"avg\", \"sum\", \"none\"\n</code></pre> <pre><code>\"knn\": {\n  \"nested_field.my_vector\": {\n    \"vector\": [1,1,1],\n    \"k\": 2,\n    \"expand_nested_docs\": true\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#7-top-level-nested","title":"7. Top-level \ub610\ub294 Nested \ud544\ub4dc \ud544\ud130\ub9c1","text":"<p><code>knn</code> \ucffc\ub9ac\uc5d0 <code>filter</code>\ub97c \ucd94\uac00\ud558\uc5ec \ubb38\uc11c \ub2e8\uc704\ub85c \ud544\ud130\ub9c1\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>GET my-knn-index-1/_search\n{\n  \"query\": {\n    \"nested\": {\n      \"path\": \"nested_field\",\n      \"query\": {\n        \"knn\": {\n          \"nested_field.my_vector\": {\n            \"vector\": [1,1,1],\n            \"k\": 3,\n            \"filter\": {\n              \"term\": {\n                \"parking\": true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre> <p>\uc704 \uc608\uc2dc\uc5d0\uc11c\ub294 <code>parking: true</code> \uc870\uac74\uc744 \ub9cc\uc871\ud558\ub294 \ubb38\uc11c\ub9cc \ubca1\ud130 \uc720\uc0ac\ub3c4\ub85c \uac80\uc0c9</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Nested%20Field%EB%A1%9C%20%EB%8B%A4%EC%A4%91%20%EB%B2%A1%ED%84%B0%20%EB%8B%A4%EB%A3%A8%EA%B8%B0/#_1","title":"\uc694\uc57d","text":"\uae30\ub2a5 \uc124\uba85 nested_field \ubca1\ud130 \uc5ec\ub7ec \ubca1\ud130\ub97c \ud558\ub098\uc758 \ubb38\uc11c\uc5d0 \uc800\uc7a5 \uac00\ub2a5 inner_hits \uc5b4\ub5a4 \ud558\uc704 \uac1d\uccb4\uac00 \ub9e4\uce6d\ub418\uc5c8\ub294\uc9c0 \ud655\uc778 expand_nested_docs \ubaa8\ub4e0 \ubca1\ud130 \uc810\uc218 \uace0\ub824 \uac00\ub2a5 filter \ubca1\ud130 \uac80\uc0c9 \uc2dc \uc870\uac74 \ud544\ud130 \uac00\ub2a5 (top-level \ubc0f nested)"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/","title":"Radial Search","text":"<p>OpenSearch\ub294 \ubca1\ud130 \uac80\uc0c9\uc5d0\uc11c \uc77c\ubc18\uc801\uc73c\ub85c \uc0ac\uc6a9\ud558\ub294 Top-k \uac80\uc0c9 \ubc29\uc2dd \uc678\uc5d0\ub3c4, \ud2b9\uc815 \uac70\ub9ac\ub098 \uc720\uc0ac\ub3c4 \uc784\uacc4\uac12 \uae30\uc900\uc73c\ub85c \uac80\uc0c9\ud558\ub294 Radial Search(\ubc18\uacbd \uac80\uc0c9) \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud55c\ub2e4,</p> <p>\uc774\ub294 \uacf5\uac04\uc801 \uadfc\uc811\uc131\uc774\ub098 \uc720\uc0ac\ub3c4 \uc784\uacc4\uac12 \uae30\ubc18 \ud544\ud130\ub9c1\uc774 \ud544\uc694\ud55c \uacbd\uc6b0\uc5d0 \ub9e4\uc6b0 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#1-radial-search","title":"1. Radial Search\ub780?","text":"<p>Radial Search\ub294 \ucffc\ub9ac \ubca1\ud130\ub97c \uc911\uc2ec\uc73c\ub85c \uc9c0\uc815\ub41c \ubc18\uacbd \uc774\ub0b4 \ub610\ub294 \uc720\uc0ac\ub3c4 \uc810\uc218\uac00 \uc77c\uc815 \uae30\uc900 \uc774\uc0c1\uc778 \ubb38\uc11c\ub97c \ubc18\ud658\ud558\ub294 \ubca1\ud130 \uac80\uc0c9 \ubc29\uc2dd\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#_1","title":"\uc8fc\uc694 \ud30c\ub77c\ubbf8\ud130","text":"\ud30c\ub77c\ubbf8\ud130 \uc124\uba85 <code>max_distance</code> \ucffc\ub9ac \ubca1\ud130\uc640\uc758 \uac70\ub9ac(l2 \ub4f1) \uae30\uc900\uc73c\ub85c \uac70\ub9ac \uc774\ub0b4\uc5d0 \uc788\ub294 \ubca1\ud130 \uac80\uc0c9 <code>min_score</code> \uc720\uc0ac\ub3c4 \uc810\uc218\uac00 \ud2b9\uc815 \uae30\uc900 \uc774\uc0c1\uc778 \ubca1\ud130 \uac80\uc0c9 <code>k</code> Top-k \uac80\uc0c9 (\uc120\ud0dd\uc801\uc73c\ub85c \uc0ac\uc6a9, \uc704 \ub450 \uac12 \uc911 \ud558\ub098\ub9cc \ud544\uc694) <p>\uc774 \uc911 \ud558\ub098\ub9cc \uc9c0\uc815\ud558\uba74 \ub3d9\uc791\ud568 (<code>k</code>, <code>max_distance</code>, <code>min_score</code> \uc911 \ud0dd1)</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#2","title":"2. \uc9c0\uc6d0 \ubc94\uc704","text":"\uc5d4\uc9c4 \ud544\ud130 \uc9c0\uc6d0 Nested \uc9c0\uc6d0 \uac80\uc0c9 \ubc29\uc2dd Lucene \u2705 \u274c Approximate Faiss \u2705 \u2705 Approximate <p>\uc989, \ud544\ud130 \uc870\uac74, Nested Field, \uacf5\uac04 \uae30\ubc18 \uac70\ub9ac \uc870\uac74\uacfc \ud568\uaed8 \ud65c\uc6a9 \uac00\ub2a5</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#3","title":"3. \uc778\ub371\uc2a4 \uc0dd\uc131","text":"<pre><code>PUT knn-index-test\n{\n  \"settings\": {\n    \"index.knn\": true\n  },\n  \"mappings\": {\n    \"properties\": {\n      \"my_vector\": {\n        \"type\": \"knn_vector\",\n        \"dimension\": 2,\n        \"space_type\": \"l2\",\n        \"method\": {\n          \"name\": \"hnsw\",\n          \"engine\": \"faiss\",\n          \"parameters\": {\n            \"ef_construction\": 100,\n            \"m\": 16,\n            \"ef_search\": 100\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#4","title":"4. \ub370\uc774\ud130 \uc0c9\uc778","text":"<pre><code>PUT _bulk?refresh=true\n{\"index\": {\"_index\": \"knn-index-test\", \"_id\": \"1\"}}\n{\"my_vector\": [7.0, 8.2], \"price\": 4.4}\n{\"index\": {\"_index\": \"knn-index-test\", \"_id\": \"2\"}}\n{\"my_vector\": [7.1, 7.4], \"price\": 14.2}\n{\"index\": {\"_index\": \"knn-index-test\", \"_id\": \"3\"}}\n{\"my_vector\": [7.3, 8.3], \"price\": 19.1}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#5-max_distance","title":"5. \uc608\uc2dc: max_distance \uae30\ubc18 \uac80\uc0c9","text":"<pre><code>GET knn-index-test/_search\n{\n  \"query\": {\n    \"knn\": {\n      \"my_vector\": {\n        \"vector\": [7.1, 8.3],\n        \"max_distance\": 2\n      }\n    }\n  }\n}\n</code></pre> <ul> <li>\uc124\uba85: \ucffc\ub9ac \ubca1\ud130\uc640\uc758 l2 \uac70\ub9ac \uc81c\uacf1\uc774 2 \uc774\ud558\uc778 \ubca1\ud130\ub9cc \uac80\uc0c9</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#6-max_distance","title":"6. \uc608\uc2dc: max_distance + \ud544\ud130 \uacb0\ud569","text":"<pre><code>GET knn-index-test/_search\n{\n  \"query\": {\n    \"knn\": {\n      \"my_vector\": {\n        \"vector\": [7.1, 8.3],\n        \"max_distance\": 2,\n        \"filter\": {\n          \"range\": {\n            \"price\": {\n              \"gte\": 1,\n              \"lte\": 5\n            }\n          }\n\n        }\n      }\n    }\n  }\n}\n</code></pre> <ul> <li>\uc124\uba85: \uac70\ub9ac \uc870\uac74 + <code>price</code> \ud544\ub4dc \ubc94\uc704 \ud544\ud130 \uc801\uc6a9</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#7-min_score","title":"7. \uc608\uc2dc: min_score \uae30\ubc18 \uac80\uc0c9","text":"<pre><code>GET knn-index-test/_search\n{\n  \"query\": {\n    \"knn\": {\n      \"my_vector\": {\n        \"vector\": [7.1, 8.3],\n        \"min_score\": 0.95\n      }\n    }\n  }\n}\n</code></pre> <ul> <li>\uc124\uba85: \uc720\uc0ac\ub3c4 \uc810\uc218\uac00 0.95 \uc774\uc0c1\uc778 \ubca1\ud130\ub9cc \uac80\uc0c9     (\uc8fc\ub85c cosine similarity \ub4f1 \uc720\uc0ac\ub3c4 \uae30\ubc18 \uacf5\uac04\uc5d0\uc11c \ud65c\uc6a9)</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#8-min_score","title":"8. \uc608\uc2dc: min_score + \ud544\ud130 \uacb0\ud569","text":"<pre><code>GET knn-index-test/_search\n{\n  \"query\": {\n    \"knn\": {\n      \"my_vector\": {\n        \"vector\": [7.1, 8.3],\n        \"min_score\": 0.95,\n        \"filter\": {\n          \"range\": {\n            \"price\": {\n              \"gte\": 1,\n              \"lte\": 5\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre> <ul> <li>\uacb0\uacfc: \uc720\uc0ac\ub3c4 \uc810\uc218 \uc870\uac74 + \uac00\uaca9 \ud544\ud130\ub97c \ubaa8\ub450 \ub9cc\uc871\ud558\ub294 \ubb38\uc11c \ubc18\ud658</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#9","title":"9. \uc2e4\uc804 \ud301","text":"<ul> <li> <p><code>max_distance</code>\ub294 \uac70\ub9ac \uae30\ubc18 \ud544\ud130\ub9c1\uc774 \ud544\uc694\ud560 \ub54c \uc720\uc6a9</p> </li> <li> <p><code>min_score</code>\ub294 \uc720\uc0ac\ub3c4 \uae30\ubc18 \ucd94\ucc9c/\uac80\uc0c9\uc5d0\uc11c \ub9e4\uc6b0 \uc9c1\uad00\uc801</p> </li> <li> <p><code>filter</code>\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\uba74 \uc18d\ub3c4 \uac1c\uc120 \ubc0f \uc815\ubc00\ud55c \uac80\uc0c9 \uc81c\uc5b4 \uac00\ub2a5</p> </li> <li> <p><code>nested_field</code>, <code>hybrid</code>, <code>binary</code>, <code>hamming</code> \uac80\uc0c9\uacfc \ud568\uaed8 \uc751\uc6a9 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Radial%20Search/#_2","title":"\ub9c8\ubb34\ub9ac","text":"<p>Radial Search\ub294 \ub2e8\uc21c\ud55c Top-k \uac80\uc0c9\uc744 \ub118\uc5b4\uc11c \ubca1\ud130 \uacf5\uac04\uc758 \ubc94\uc704 \uae30\ubc18 \uac80\uc0c9\uc744 \uac00\ub2a5\ud558\uac8c \ud55c\ub2e4.</p> <p>\uac70\ub9ac \uc81c\ud55c \ub610\ub294 \uc720\uc0ac\ub3c4 \uc784\uacc4\uac12\uc744 \uae30\uc900\uc73c\ub85c \ubb38\uc11c\ub97c \uc120\ubcc4\ud558\ub294 \ub370 \ud0c1\uc6d4\ud55c \ubc29\uc2dd\uc774\uba70, \ucd94\ucc9c \uc2dc\uc2a4\ud15c, \uc704\uce58 \uae30\ubc18 \uac80\uc0c9, \uc815\ubc00 \ud544\ud130\ub9c1 \uac80\uc0c9 \ub4f1\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Vector%20Sech%20%EA%B0%80%EC%9D%B4%EB%93%9C/","title":"Vector Sech \uac00\uc774\ub4dc","text":"<p>\ubca1\ud130 \uac80\uc0c9\uc740 \ud14d\uc2a4\ud2b8, \uc774\ubbf8\uc9c0, \uc81c\ud488 \uc124\uba85 \ub4f1 \ubcf5\uc7a1\ud55c \ub370\uc774\ud130\ub97c \ubca1\ud130(\uc22b\uc790 \ubc30\uc5f4)\ub85c \ubcc0\ud658\ud558\uc5ec \uc758\ubbf8 \uae30\ubc18 \uac80\uc0c9\uc744 \uac00\ub2a5\ud558\uac8c \ud558\ub294 \ucd5c\uc2e0 \uac80\uc0c9 \ubc29\uc2dd\uc774\ub2e4. </p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Vector%20Sech%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_1","title":"\ubca1\ud130 \uac80\uc0c9 \ubc29\uc2dd \ube44\uad50","text":"\uae30\ub2a5 \ucffc\ub9ac \ud0c0\uc785 \uc785\ub825 \ud615\uc2dd \uc784\ubca0\ub529 \ubaa8\ub378 \ud544\uc694 \uc5ec\ubd80 \uc8fc\uc694 \uc0ac\uc6a9 \uc0ac\ub840 Raw Vector \uac80\uc0c9 <code>knn</code> \ubca1\ud130 \ubc30\uc5f4 (vector) \ud544\uc694 \uc5c6\uc74c \uae30\uc874 \ubca1\ud130\ub97c \ud65c\uc6a9\ud55c \uac80\uc0c9 \uc790\ub3d9 \uc0dd\uc131 \uc784\ubca0\ub529 \uac80\uc0c9 <code>neural</code> \ud14d\uc2a4\ud2b8 \ub610\ub294 \uc774\ubbf8\uc9c0 \ud544\uc694 AI \uae30\ubc18 \uc758\ubbf8 \uac80\uc0c9"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Vector%20Sech%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1-raw-vector","title":"1. Raw Vector \uac80\uc0c9","text":"<p>\ubca1\ud130\uac00 \uc774\ubbf8 \uc0dd\uc131\ub418\uc5b4 \uc788\uace0, \uc774\ub97c \uc9c1\uc811 \ud65c\uc6a9\ud558\uc5ec \uac80\uc0c9\ud558\uace0\uc790 \ud560 \uacbd\uc6b0\uc5d0\ub294 <code>knn</code> \ucffc\ub9ac\ub97c \uc0ac\uc6a9\ud55c\ub2e4.  \ubca1\ud130 \ud544\ub4dc\uc5d0 \ubc30\uc5f4\uc744 \uc9c1\uc811 \uc785\ub825\ud558\uace0 <code>k</code> \uac12\uc744 \uc9c0\uc815\ud558\uc5ec \uc720\uc0ac\ud55c \ubb38\uc11c N\uac1c\ub97c \uac80\uc0c9\ud55c\ub2e4.</p> <pre><code>GET /my-raw-vector-index/_search\n{\n  \"query\": {\n    \"knn\": {\n      \"my_vector\": {\n        \"vector\": [0.1, 0.2, 0.3],\n        \"k\": 2\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>my_vector</code>: \uc0c9\uc778\ub41c \ubb38\uc11c\uc758 \ubca1\ud130 \ud544\ub4dc</p> </li> <li> <p><code>vector</code>: \ucffc\ub9ac \ubca1\ud130 \ubc30\uc5f4 (\uc9c1\uc811 \uc785\ub825)</p> </li> <li> <p><code>k</code>: \ubc18\ud658\ud560 \ubb38\uc11c \uac1c\uc218</p> </li> </ul> <p>\uc801\ud569\ud55c \uacbd\uc6b0: \uc678\ubd80\uc5d0\uc11c \uc784\ubca0\ub529\ud55c \ubca1\ud130 \ub370\uc774\ud130\ub97c \uc9c1\uc811 \uc778\ub371\uc2f1\ud558\uc5ec \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Vector%20Sech%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-neural-search","title":"2. \uc790\ub3d9 \uc0dd\uc131 \uc784\ubca0\ub529 \uac80\uc0c9 (Neural Search)","text":"<p>OpenSearch\ub294 AI \uac80\uc0c9\uc744 \uc704\ud574 \ucffc\ub9ac \uc785\ub825\uac12(\ud14d\uc2a4\ud2b8, \uc774\ubbf8\uc9c0 \ub4f1)\uc744 \uc784\ubca0\ub529\uc73c\ub85c \uc790\ub3d9 \ubcc0\ud658\ud574\uc8fc\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \uc774\ub54c \uc0ac\uc6a9\ud558\ub294 \ucffc\ub9ac \ud0c0\uc785\uc740 <code>neural</code> \uc774\ub2e4.</p> <pre><code>GET /my-ai-search-index/_search\n{\n  \"_source\": {\n    \"excludes\": [\n      \"output_embedding\"\n    ]\n  },\n  \"query\": {\n    \"neural\": {\n      \"output_embedding\": {\n        \"query_text\": \"What is AI search?\",\n        \"model_id\": \"mBGzipQB2gmRjlv_dOoB\",\n        \"k\": 2\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>query_text</code>: \uac80\uc0c9\uc5b4(\uc790\uc5f0\uc5b4 \ub4f1)</p> </li> <li> <p><code>model_id</code>: \ud14d\uc2a4\ud2b8 \uc784\ubca0\ub529 \ubaa8\ub378 ID (Ingest pipeline\uc5d0\uc11c \uc0ac\uc6a9\ud55c \uac83\uacfc \ub3d9\uc77c\ud574\uc57c \ud568)</p> </li> <li> <p><code>output_embedding</code>: \uc784\ubca0\ub529 \uacb0\uacfc\uac00 \uc800\uc7a5\ub41c \ubca1\ud130 \ud544\ub4dc</p> </li> <li> <p><code>_source.excludes</code>: \uac80\uc0c9 \uacb0\uacfc\uc5d0\uc11c \uc784\ubca0\ub529 \ubca1\ud130\ub97c \uc81c\uc678\ud558\uace0 \uc2f6\uc744 \uacbd\uc6b0</p> </li> </ul> <p>\uc801\ud569\ud55c \uacbd\uc6b0: \uc790\uc5f0\uc5b4 \uc9c8\uc758\uc5d0 \ub300\ud55c \uc758\ubbf8 \uae30\ubc18 \uac80\uc0c9\uc774 \ud544\uc694\ud55c \uacbd\uc6b0 \uc608: \u201c\uc774 \uc81c\ud488\uacfc \uc720\uc0ac\ud55c \ub2e4\ub978 \uc81c\ud488 \ubcf4\uc5ec\uc918\u201d, \u201cAI \uac80\uc0c9\uc774 \ubb50\uc57c?\u201d \ub4f1\uc758 \uc9c8\ubb38</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Vector%20Sech%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3-sparse-vector","title":"3. \ud76c\uc18c \ubca1\ud130(Sparse Vector) \uac80\uc0c9","text":"<p>OpenSearch\ub294 \ud76c\uc18c \ubca1\ud130(sparse vector)\ub97c \ud65c\uc6a9\ud55c \uac80\uc0c9\ub3c4 \uc9c0\uc6d0\ud569\ub2c8\ub2e4. \uc774\ub294 \ub2e8\uc5b4 \ube48\ub3c4 \uae30\ubc18\uc758 BoW(Bag of Words), TF-IDF, BM25 \ub4f1 \uc804\ud1b5\uc801\uc778 \ubc29\uc2dd\uacfc \uc720\uc0ac\ud55c \ud76c\uc18c \ud45c\ud604\uc744 \ubca1\ud130\ud654\ud558\uc5ec \uc0ac\uc6a9\ud558\ub294 \uad6c\uc870\uc785\ub2c8\ub2e4.</p> <p>\ucc38\uace0: \ud76c\uc18c \ubca1\ud130 \uac80\uc0c9\uc740 Neural Sparse Search \uae30\ub2a5\uc744 \ud1b5\ud574 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc73c\uba70, \ubcc4\ub3c4 \ubaa8\ub378\uacfc \uc124\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/Vector%20Sech%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_2","title":"\ub9c8\ubb34\ub9ac","text":"<p>OpenSearch\uc758 \ubca1\ud130 \uac80\uc0c9 \uae30\ub2a5\uc740 \ub2e8\uc21c\ud55c \ud0a4\uc6cc\ub4dc \ub9e4\uce6d\uc744 \ub118\uc5b4\uc11c \uc758\ubbf8\uc640 \ub9e5\ub77d\uc744 \uc774\ud574\ud558\ub294 \uac80\uc0c9\uc744 \uac00\ub2a5\ud558\uac8c \ud55c\ub2e4. \ud544\uc694\uc5d0 \ub530\ub77c raw vector \uac80\uc0c9 \ub610\ub294 AI \uae30\ubc18 neural search\ub97c \uc120\ud0dd\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc73c\uba70, \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uacfc \uacb0\ud569\ud558\uba74 \ub354\uc6b1 \uac15\ub825\ud55c \uac80\uc0c9 \uc5d4\uc9c4\uc744 \uad6c\ud604\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/","title":"\uac80\uc0c9 \uc131\ub2a5 \ucd5c\uc801\ud654 \uac00\uc774\ub4dc","text":"<p>OpenSearch\uc5d0\uc11c \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9\uc744 \ube60\ub974\uac8c \ucc98\ub9ac\ud558\uae30 \uc704\ud574\uc11c\ub294 \ucffc\ub9ac \ucc98\ub9ac \ube44\uc6a9\uc744 \uc904\uc774\uace0, \uce90\uc2dc\ub97c \uc801\uadf9 \ud65c\uc6a9\ud558\uba70, \ub124\ud2b8\uc6cc\ud06c \uc804\uc1a1\ub7c9\uc744 \ucd5c\uc18c\ud654\ud558\ub294 \uac83\uc774 \uc911\uc694\ud569\ub2c8\ub2e4. \ub2e4\uc74c\uc740 \uc8fc\uc694 \uc131\ub2a5 \ud5a5\uc0c1 \uc804\ub7b5\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1-reduce-segment-count","title":"1. \uc138\uadf8\uba3c\ud2b8 \uc218 \uc904\uc774\uae30 (Reduce Segment Count)","text":"<ul> <li> <p>Lucene\uc740 \ubaa8\ub4e0 \uc138\uadf8\uba3c\ud2b8\uc5d0 \ub300\ud574 \uac1c\ubcc4 \uac80\uc0c9 \ud6c4 \uacb0\uacfc\ub97c \ubcd1\ud569\ud558\uc5ec \uc0c1\uc704 <code>size</code> \uac1c \uacb0\uacfc\ub97c \ubc18\ud658</p> </li> <li> <p>\uc138\uadf8\uba3c\ud2b8 \uc218\uac00 \ub9ce\uc744\uc218\ub85d \uac80\uc0c9 \uc2dc\uac04\uc774 \ub298\uc5b4\ub0a8</p> </li> <li> <p>\ucd5c\uc801 \uc131\ub2a5\uc740 \"\uc0e4\ub4dc \ub2f9 1\uac1c \uc138\uadf8\uba3c\ud2b8\"\uc77c \ub54c \ub2ec\uc131</p> </li> <li> <p>\uc138\uadf8\uba3c\ud2b8 \uc218 \uc81c\uc5b4 \ubc29\ubc95</p> <ul> <li> <p><code>refresh_interval</code>\uc744 \ub298\ub9ac\uac70\ub098</p> </li> <li> <p>\uc0c9\uc778 \uc911 <code>refresh_interval: -1</code>\ub85c \ube44\ud65c\uc131\ud654</p> </li> </ul> </li> </ul> <pre><code>PUT /&lt;index_name&gt;/_settings\n{\n  \"index\": {\n    \"refresh_interval\": \"-1\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-warm-up-the-index","title":"2. \uc778\ub371\uc2a4 \uc608\uc5f4 (Warm up the Index)","text":"<ul> <li> <p>\ubca1\ud130 \uc0c9\uc778 \uc2dc \uc0dd\uc131\ub41c native library index\ub294 \ucc98\uc74c \uac80\uc0c9 \uc2dc \uba54\ubaa8\ub9ac\uc5d0 \ub85c\ub529\ub428</p> </li> <li> <p>\uccab \ucffc\ub9ac\ub294 \uc218 \ucd08, \uc774\ud6c4 \ucffc\ub9ac\ub294 \ubc00\ub9ac\ucd08 \uc218\uc900\uc73c\ub85c \ub2e8\ucd95\ub428 (\uce90\uc2dc \ub54c\ubb38)</p> </li> <li> <p>OpenSearch 3.1\ubd80\ud130\ub294 memory-optimized search mode\uac00 \ub3c4\uc785\ub418\uc5b4 \ud544\uc694\ud55c \ubc14\uc774\ud2b8\ub9cc \ub85c\ub529 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#warmup-api","title":"Warmup API \uc0ac\uc6a9","text":"<pre><code>GET /_plugins/_knn/warmup/index1,index2,index3?pretty\n</code></pre> <ul> <li> <p>\ubaa8\ub4e0 primary/replica shard\uc758 \ubca1\ud130 \uc778\ub371\uc2a4\ub97c \uba54\ubaa8\ub9ac \uce90\uc2dc\uc5d0 \uc0ac\uc804 \ub85c\ub529</p> </li> <li> <p>\uc0c9\uc778 \ucd94\uac00, refresh, merge \uc774\ud6c4\uc5d0\ub294 \ub2e4\uc2dc \uc2e4\ud589 \ud544\uc694</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3-stored-fields","title":"3. Stored Fields \ube44\ud65c\uc6a9 (\ubd88\ud544\uc694\ud55c \ub370\uc774\ud130 \uc77d\uae30 \ucd5c\uc18c\ud654)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_1","title":"\ubb38\uc11c \ub0b4\uc6a9\uc774 \ud544\uc694 \uc5c6\ub294 \uacbd\uc6b0","text":"<ul> <li> <p><code>_source: false</code> \uc124\uc815\uc73c\ub85c ID, score\ub9cc \ubc18\ud658</p> </li> <li> <p>\uac00\uc7a5 \ube60\ub978 \uac80\uc0c9 \ubc29\uc2dd</p> </li> </ul> <pre><code>GET /my-index/_search\n{\n  \"_source\": false,\n  \"query\": {\n    \"knn\": {\n      \"vector_field\": {\n        \"vector\": [0.1, 0.2, 0.3],\n        \"k\": 10\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#4-vector","title":"4. \ubca1\ud130 \ud544\ub4dc\ub9cc \uc81c\uc678 (Vector \uc81c\uc678, \ub2e4\ub978 \ud544\ub4dc\ub294 \uc720\uc9c0)","text":"<ul> <li> <p>\uc804\uccb4 \ubb38\uc11c \ub0b4\uc6a9\uc740 \ud544\uc694\ud558\uc9c0\ub9cc, \ubca1\ud130 \ud544\ub4dc\ub294 \uc751\ub2f5\uc5d0 \ud3ec\ud568\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub420 \uacbd\uc6b0 \uc720\uc6a9</p> </li> <li> <p>\ub124\ud2b8\uc6cc\ud06c \ud2b8\ub798\ud53d \uac10\uc18c \ud6a8\uacfc \uc788\uc74c</p> </li> </ul> <pre><code>GET /my-index/_search\n{\n  \"_source\": {\n    \"excludes\": [\n      \"vector_field\"\n    ]\n  },\n  \"query\": {\n    \"knn\": {\n      \"vector_field\": {\n        \"vector\": [0.1, 0.2, 0.3],\n        \"k\": 10\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EA%B2%80%EC%83%89%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_2","title":"\uc694\uc57d: \uc131\ub2a5 \ud5a5\uc0c1 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"\ud56d\ubaa9 \uc124\uba85 \uc138\uadf8\uba3c\ud2b8 \uc218 \ucd5c\uc18c\ud654 \uc0c9\uc778 \uc911 refresh \ube44\ud65c\uc131\ud654\ub85c \uc138\uadf8\uba3c\ud2b8 \ubcd1\ud569 \uc720\ub3c4 Warmup API \uc0ac\uc6a9 \uccab \ucffc\ub9ac \uc9c0\uc5f0 \ubc29\uc9c0, \uba54\ubaa8\ub9ac \uce90\uc2dc \uc0ac\uc804 \ub85c\ub529 <code>_source: false</code> ID\uc640 \uc810\uc218\ub9cc \ud544\uc694\ud55c \uacbd\uc6b0 <code>_source.excludes</code> \ubca1\ud130 \ud544\ub4dc\ub9cc \uc81c\uc678\ud558\uace0 \ub098\uba38\uc9c0 \uc815\ubcf4 \uc720\uc9c0"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/","title":"\ubca1\ud130 \uc720\uc0ac\ub3c4 \uacc4\uc0b0\uc744 \uc2a4\ud06c\ub9bd\ud2b8\ub85c(Painless Scripting Extension)","text":"<p>OpenSearch\ub294 <code>knn_vector</code> \ud544\ub4dc\uc5d0 \ub300\ud574 \ubca1\ud130 \uac70\ub9ac \uacc4\uc0b0 \ud568\uc218\ub97c Painless \uc2a4\ud06c\ub9bd\ud2b8 \ub0b4\uc5d0\uc11c \uc9c1\uc811 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ud655\uc7a5 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. </p> <p>\uc774 \uae30\ub2a5\uc740 \uae30\uc874\uc758 <code>knn_score</code> \uc2a4\ud06c\ub9bd\ud2b8 \ub300\uc2e0 \ubcf4\ub2e4 \uc720\uc5f0\ud558\uace0 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \uac00\ub2a5\ud55c \ubc29\uc2dd\uc73c\ub85c \ubca1\ud130 \uc720\uc0ac\ub3c4\ub97c \uacc4\uc0b0\ud560 \uc218 \uc788\uac8c \ud574\uc900\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/#1-painless","title":"1. Painless \ud655\uc7a5 \uae30\ub2a5\uc774\ub780?","text":"<p>\uae30\ubcf8\uc801\uc73c\ub85c OpenSearch\uc758 Painless \uc2a4\ud06c\ub9bd\ud2b8\ub294 \ubcf4\uc548\uc0c1\uc758 \uc774\uc720\ub85c \uc81c\ud55c\ub41c \ud568\uc218\ub9cc \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.  \ud558\uc9c0\ub9cc k-NN \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 \ub2e4\uc74c\uacfc \uac19\uc740 \uac70\ub9ac/\uc720\uc0ac\ub3c4 \ud568\uc218\uac00 \ucd94\uac00\ub85c \uc9c0\uc6d0\ub41c\ub2e4.</p> \ud568\uc218\uba85 \uc124\uba85 <code>l2Squared()</code> L2 \uac70\ub9ac(\uc720\ud074\ub9ac\ub4dc \uac70\ub9ac)\uc758 \uc81c\uacf1 \uacc4\uc0b0 <code>l1Norm()</code> L1 \uac70\ub9ac(\ub9e8\ud574\ud2bc \uac70\ub9ac) \uacc4\uc0b0 <code>cosineSimilarity()</code> \ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4 \uacc4\uc0b0 <code>hamming()</code> \ud574\ubc0d \uac70\ub9ac \uacc4\uc0b0 (2.16 \uc774\uc0c1, binary \ud544\ub4dc\uc6a9)"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/#2","title":"2. \uae30\ubcf8 \uc0ac\uc6a9 \uc608\uc2dc","text":"<pre><code>GET my-knn-index-2/_search\n{\n  \"size\": 2,\n  \"query\": {\n    \"script_score\": {\n      \"query\": {\n        \"bool\": {\n          \"filter\": {\n            \"term\": { \"color\": \"BLUE\" }\n          }\n        }\n      },\n      \"script\": {\n        \"source\": \"1.0 + cosineSimilarity(params.query_value, doc[params.field])\",\n        \"params\": {\n          \"field\": \"my_vector\",\n          \"query_value\": [9.9, 9.9]\n        }\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p><code>field</code>: <code>knn_vector</code> \ud0c0\uc785 \ud544\ub4dc</p> </li> <li> <p><code>query_value</code>: \ucffc\ub9ac \ubca1\ud130 (\ud544\ub4dc\uc640 \ub3d9\uc77c\ud55c \ucc28\uc6d0 \ud544\uc694)</p> </li> <li> <p><code>cosineSimilarity</code>, <code>l2Squared</code>, <code>l1Norm</code> \ub4f1\uc744 \ud65c\uc6a9\ud574 \uc720\uc0ac\ub3c4/\uac70\ub9ac \uacc4\uc0b0 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/#3","title":"3. \uac01 \ud568\uc218 \uc124\uba85","text":"\ud568\uc218 \uc2dc\uadf8\ub2c8\ucc98 \uc124\uba85 <code>l2Squared</code> <code>float l2Squared(float[] query, doc['vec'])</code> \uc720\ud074\ub9ac\ub4dc \uac70\ub9ac\uc758 \uc81c\uacf1. \uac12\uc774 \uc791\uc744\uc218\ub85d \uc720\uc0ac. <code>l1Norm</code> <code>float l1Norm(float[] query, doc['vec'])</code> \ub9e8\ud574\ud2bc \uac70\ub9ac. <code>cosineSimilarity</code> <code>float cosineSimilarity(float[] query, doc['vec'])</code> \ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4. \uc77c\ubc18\uc801\uc73c\ub85c 0~1 \ubc94\uc704. <code>cosineSimilarity</code> (\ucd5c\uc801\ud654) <code>float cosineSimilarity(query, doc, norm)</code> \ucffc\ub9ac \ubca1\ud130\uc758 \ud06c\uae30\ub97c \ubcc4\ub3c4\ub85c \ub118\uaca8 \ubc18\ubcf5 \uacc4\uc0b0 \ubc29\uc9c0 <code>hamming</code> <code>float hamming(float[] query, doc['vec'])</code> \ud574\ubc0d \uac70\ub9ac. \ubca1\ud130 \uac12\uc774 \uc815\uc218\uc5ec\uc57c \ud558\uba70, binary \ub610\ub294 long \ud0c0\uc785 \uc9c0\uc6d0 (2.16+)"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/#4","title":"4. \uc608\uc678 \ubc0f \uc8fc\uc758\uc0ac\ud56d","text":"<ul> <li> <p>\ubca1\ud130 \ucc28\uc6d0\uc774 \ub2e4\ub974\uba74: <code>IllegalArgumentException</code> \ubc1c\uc0dd</p> </li> <li> <p>\ubca1\ud130 \ud544\ub4dc\uac00 \ube44\uc5b4 \uc788\uc73c\uba74: <code>IllegalStateException</code> \ubc1c\uc0dd     \u2192 \uc544\ub798\uc640 \uac19\uc774 size \uccb4\ud06c\ub85c \ud68c\ud53c \uac00\ub2a5:</p> </li> </ul> <pre><code>\"doc[params.field].size() == 0 ? 0 : 1 / (1 + l2Squared(params.query_value, doc[params.field]))\"\n</code></pre> <ul> <li>\ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4\ub294 0 \ubca1\ud130 \uc0ac\uc6a9 \uae08\uc9c0     \u2192 \ud06c\uae30\uac00 0\uc778 \ubca1\ud130\ub294 \uacc4\uc0b0 \ubd88\uac00 \u2192 \uc608\uc678 \ubc1c\uc0dd</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/#5","title":"5. \uc2e4\uc804 \ud65c\uc6a9 \ud301","text":"<ul> <li> <p>\ud544\ud130 \uc870\uac74\uc774 \uc788\ub294 \ubca1\ud130 \uac80\uc0c9\uc5d0 \ub9e4\uc6b0 \uc720\uc6a9 (<code>bool</code> + <code>script_score</code> \uc870\ud569)</p> </li> <li> <p>\ubca1\ud130 \uac04 \uac70\ub9ac\ub97c \uae30\ubc18\uc73c\ub85c \ucee4\uc2a4\ud140 \ub7ad\ud0b9 \uacc4\uc0b0 \ub85c\uc9c1 \uad6c\ud604 \uac00\ub2a5</p> </li> <li> <p><code>cosineSimilarity</code>\ub294 \uc790\uc8fc \uc4f0\uc774\ub294 \uacbd\uc6b0 norm \ubbf8\ub9ac \uacc4\uc0b0\ud558\uc5ec \uc18d\ub3c4 \uac1c\uc120 \uac00\ub2a5</p> </li> <li> <p>\uc2a4\ucf54\uc5b4\uac00 <code>0~1</code> \ubc94\uc704\ub85c \uc81c\ud55c\ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uacb0\uacfc \uc815\uaddc\ud654 \ud544\uc694 \uc2dc \uc218\uc2dd \ucd94\uac00</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9C%A0%EC%82%AC%EB%8F%84%20%EA%B3%84%EC%82%B0%EC%9D%84%20%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%A1%9C%28Painless%20Scripting%20Extension%29/#_1","title":"\ub9c8\ubb34\ub9ac","text":"<p>OpenSearch\uc758 Painless \uc2a4\ud06c\ub9bd\ud305 \ud655\uc7a5 \uae30\ub2a5\uc740 \ub2e8\uc21c\ud55c \ubca1\ud130 \uac80\uc0c9\uc744 \ub118\uc5b4\uc11c \ubcf5\uc7a1\ud55c \ub7ad\ud0b9 \ub85c\uc9c1, \uc870\uac74\ubd80 \ubca1\ud130 \uc2a4\ucf54\uc5b4\ub9c1, \ucee4\uc2a4\ud140 \uc810\uc218 \uc870\uc815 \ub4f1\uc758 \uace0\uae09 \uae30\ub2a5 \uad6c\ud604\uc744 \uac00\ub2a5\ud558\uac8c \ud55c\ub2e4.</p> <p>Approximate k-NN\uc774\ub098 <code>knn_score</code> \uae30\ubc18 \uc2a4\ud06c\ub9bd\ud2b8\ubcf4\ub2e4 \ub354 \ub192\uc740 \uc720\uc5f0\uc131\uc774 \ud544\uc694\ud55c \uacbd\uc6b0\uc5d0 \uc801\uadf9 \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/","title":"\ubca1\ud130 \uc778\ub371\uc2f1 \uc131\ub2a5 \ucd5c\uc801\ud654 \uac00\uc774\ub4dc","text":"<p>\ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc5d0\uc11c\ub294 \ub300\ub7c9\uc758 \ubca1\ud130 \ub370\uc774\ud130\ub97c \ube60\ub974\uac8c \uc0c9\uc778\ud558\ub294 \uac83\uc774 \uc911\uc694\ud558\ub2e4. OpenSearch\ub294 \uc774\ub7ec\ud55c \uc791\uc5c5\uc758 \uc131\ub2a5\uc744 \ud5a5\uc0c1\uc2dc\ud0a4\uae30 \uc704\ud55c \ub2e4\uc591\ud55c \uc124\uc815\uc744 \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1-refresh-interval","title":"1. Refresh Interval \ube44\ud65c\uc131\ud654","text":"<ul> <li> <p>\uae30\ubcf8\uac12: <code>1\ucd08\ub9c8\ub2e4</code> \uc778\ub371\uc2a4\uac00 \uc790\ub3d9\uc73c\ub85c refresh</p> </li> <li> <p>\ub300\ub7c9 \uc0c9\uc778 \uc2dc, \uc5ec\ub7ec \uac1c\uc758 \uc791\uc740 \uc138\uadf8\uba3c\ud2b8\uac00 \uc0dd\uc131\ub418\uc5b4 \uc624\ubc84\ud5e4\ub4dc \uc99d\uac00</p> </li> <li> <p>\uc0c9\uc778 \uc911\uc5d0\ub294 refresh\ub97c \ube44\ud65c\uc131\ud654\ud558\uace0 \uc644\ub8cc \ud6c4 \uc7ac\ud65c\uc131\ud654 \uad8c\uc7a5</p> </li> </ul> <pre><code># \ube44\ud65c\uc131\ud654\nPUT /&lt;index_name&gt;/_settings\n{\n  \"index\": {\n    \"refresh_interval\": \"-1\"\n  }\n}\n\n# \uc0c9\uc778 \uc644\ub8cc \ud6c4 \ubcf5\uc6d0\nPUT /&lt;index_name&gt;/_settings\n{\n  \"index\": {\n    \"refresh_interval\": \"1s\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-replica-0","title":"2. Replica \uc218 0\uc73c\ub85c \uc124\uc815","text":"<ul> <li> <p>\uc0c9\uc778 \uc911\uc5d0\ub294 Replica\ub97c 0\uc73c\ub85c \uc124\uc815\ud574 \ubd88\ud544\uc694\ud55c \ubcf5\uc81c \uc778\ub371\uc2a4 \uc0dd\uc131 \ubc29\uc9c0</p> </li> <li> <p>\uc0c9\uc778 \uc644\ub8cc \ud6c4 Replicas\ub97c \ub2e4\uc2dc \uc124\uc815\ud558\uba74 \uc778\ub371\uc2a4\uac00 \ubcf5\uc81c\ub420 \ub54c \ubca1\ud130 \uc778\ub371\uc2a4\ub3c4 \ud568\uaed8 \ubcf5\uc0ac</p> </li> </ul> <pre><code>PUT /&lt;index_name&gt;/_settings\n{\n  \"index\": {\n    \"number_of_replicas\": 0\n  }\n}\n</code></pre> <p>\u26a0\ufe0f \uc7a5\uc560 \uc2dc \ub370\uc774\ud130 \uc190\uc2e4 \ubc29\uc9c0\ub97c \uc704\ud574 \uc678\ubd80 \ubc31\uc5c5 \uad8c\uc7a5</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3","title":"3. \uc0c9\uc778 \uc2a4\ub808\ub4dc \uc218 \uc99d\uac00","text":"<ul> <li><code>index_thread_qty</code>\ub97c \ud1b5\ud574 \ubcd1\ub82c \uc0c9\uc778 \uc791\uc5c5 \uc218\ud589 \uac00\ub2a5</li> </ul> <p>\uc124\uc815\uac12 \uc608\uc2dc <pre><code>PUT /_cluster/settings\n{\n  \"persistent\": {\n    \"knn.algo_param.index_thread_qty\": 4\n  }\n}\n</code></pre></p> <p>CPU \uc0ac\uc6a9\ub960\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uba70 \uc801\uc808\ud55c \uac12\uc73c\ub85c \uc870\uc815</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#4-opensearch-30-derived-vector-source","title":"4. (OpenSearch 3.0+) Derived Vector Source\ub85c \uc800\uc7a5 \uacf5\uac04 \uc808\uc57d","text":"<ul> <li> <p>\ubca1\ud130 \ud544\ub4dc\ub97c <code>_source</code>\uc5d0 \uc800\uc7a5\ud558\uc9c0 \uc54a\uace0\ub3c4 \uac80\uc0c9 \uae30\ub2a5 \uc720\uc9c0</p> </li> <li> <p>\uae30\ubcf8\uac12: \ud65c\uc131\ud654\ub428</p> </li> <li> <p>\uc7a5\uc810</p> <ul> <li> <p>\uc800\uc7a5 \uc6a9\ub7c9 \uc808\uc57d</p> </li> <li> <p><code>update</code>, <code>update_by_query</code>, <code>reindex</code> \ubaa8\ub450 \uac00\ub2a5</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#5","title":"5. (\uace0\uae09) \ubca1\ud130 \ub370\uc774\ud130 \uad6c\uc870 \uc9c0\uc5f0 \uc0dd\uc131 \uc804\ub7b5","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_1","title":"\uac1c\uc694","text":"<ul> <li> <p>\ubca1\ud130 \uac80\uc0c9\uc6a9 \ub370\uc774\ud130 \uad6c\uc870(HNSW \ub4f1)\ub294 \uc0c9\uc778 \uc2dc \uc790\ub3d9 \uc0dd\uc131\ub428</p> </li> <li> <p>\ub300\ub7c9 \ucd08\uae30 \uc5c5\ub85c\ub4dc \uc774\ud6c4 \uac80\uc0c9\ub9cc \uc218\ud589\ud558\ub294 \uacbd\uc6b0, \uc774 \uad6c\uc870 \uc0dd\uc131\uc744 \ub098\uc911\uc5d0 \uc218\ud589\ud558\uba74 \uc18d\ub3c4 \uac1c\uc120 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_2","title":"\ub2e8\uacc4\ubcc4 \uad6c\uc131","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#1","title":"1. \uc0c9\uc778 \uc2dc \ubca1\ud130 \uad6c\uc870 \uc0dd\uc131 \ube44\ud65c\uc131\ud654","text":"<pre><code>PUT /test-index/\n{\n  \"settings\": {\n    \"index.knn.advanced.approximate_threshold\": \"-1\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#2-bulk","title":"2. Bulk \uc0c9\uc778 \uc218\ud589","text":"<pre><code>POST _bulk\n{ \"index\": { \"_index\": \"test-index\", \"_id\": \"1\" } }\n{ \"my_vector1\": [1.5, 2.5], \"price\": 12.2 }\n...\n</code></pre> <p>\u26a0\ufe0f \uc774 \uc0c1\ud0dc\uc5d0\uc11c \uac80\uc0c9\ud558\uba74 \uc815\ud655\ud55c k-NN \ubc29\uc2dd\uc73c\ub85c \uc218\ud589\ub428 (\ub290\ub9bc)</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#3_1","title":"3. \ubca1\ud130 \uad6c\uc870 \uc0dd\uc131 \ud65c\uc131\ud654","text":"<pre><code>PUT /test-index/_settings\n{\n  \"index.knn.advanced.approximate_threshold\": \"0\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#4-force-merge-1","title":"4. Force Merge \uc218\ud589 (\uc138\uadf8\uba3c\ud2b8 1\uac1c\ub85c \ud1b5\ud569)","text":"<pre><code>POST /test-index/_forcemerge?max_num_segments=1\n</code></pre> <p>\uc774\ud6c4 \uc0dd\uc131\ub41c \ubca1\ud130 \uad6c\uc870\ub97c \ud1b5\ud574 \ube60\ub978 \uadfc\uc0ac \uac80\uc0c9\uc774 \uac00\ub2a5</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Vector%20Search/%EB%B2%A1%ED%84%B0%20%EC%9D%B8%EB%8D%B1%EC%8B%B1%20%EC%84%B1%EB%8A%A5%20%EC%B5%9C%EC%A0%81%ED%99%94%20%EA%B0%80%EC%9D%B4%EB%93%9C/#_3","title":"\uc815\ub9ac: \uc131\ub2a5 \ud29c\ub2dd \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"\ud56d\ubaa9 \uc124\uba85 Refresh Interval \ube44\ud65c\uc131\ud654 \uc0c9\uc778 \uc911 \uc791\uc740 \uc138\uadf8\uba3c\ud2b8 \uc0dd\uc131 \ubc29\uc9c0 Replica 0 \uc124\uc815 \ubcf5\uc81c \uc778\ub371\uc2a4 \uc0dd\uc131 \uc624\ubc84\ud5e4\ub4dc \uc81c\uac70 \uc0c9\uc778 \uc2a4\ub808\ub4dc \uc218 \uc870\uc808 \ubcd1\ub82c \uc778\ub371\uc2f1 \ucd5c\uc801\ud654 Derived Source \uc0ac\uc6a9 \uc800\uc7a5 \uacf5\uac04 \uc808\uac10 \ubca1\ud130 \uad6c\uc870 \uc9c0\uc5f0 \uc0dd\uc131 Bulk \uc778\ub371\uc2f1 \uc18d\ub3c4 \ud5a5\uc0c1 + \ud6a8\uc728\uc801 \uac80\uc0c9 \uad6c\uc131"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/","title":"OpenSearch 3.0.0 \ub9b4\ub9ac\uc988 \ud558\uc774\ub77c\uc774\ud2b8 \u2013 \uc131\ub2a5, \ubca1\ud130 \uac80\uc0c9, \ubcf4\uc548, AI \uae30\ub2a5 \ub300\ud3ed \uac15\ud654","text":"<p>OpenSearch 3.0\uc740 \uac80\uc0c9, \ubd84\uc11d, \ubaa8\ub2c8\ud130\ub9c1 \ubc0f AI \uae30\ubc18 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc704\ud55c \uace0\uc131\ub2a5 \ub370\uc774\ud130 \ud50c\ub7ab\ud3fc\uc73c\ub85c \uac70\ub4ed\ub0ac\uc2b5\ub2c8\ub2e4. \uc774 \ubc84\uc804\uc5d0\uc11c\ub294 \ubc94\uc6a9 \uc131\ub2a5 \ud5a5\uc0c1, \ubca1\ud130 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uae30\ub2a5 \uac1c\uc120, \ubcf4\uc548 \ud504\ub808\uc784\uc6cc\ud06c \uad50\uccb4, AI \uc5f0\ub3d9\uc131 \uac15\ud654 \ub4f1 \ub2e4\uc591\ud55c \uc601\uc5ed\uc5d0 \uac78\uccd0 \ub300\uaddc\ubaa8 \uac1c\uc120\uc774 \uc774\ub8e8\uc5b4\uc84c\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#_1","title":"\uc8fc\uc694 \uae30\ub2a5 \uc694\uc57d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#_2","title":"\uc131\ub2a5 \ud5a5\uc0c1","text":"<ul> <li> <p>Range Query \uc131\ub2a5 \ud5a5\uc0c1     \uc22b\uc790 \ubc0f \ub0a0\uc9dc \ud544\ub4dc\uc5d0 \ucd5c\uc801\ud654 \uc804\ub7b5 \uc801\uc6a9 \u2192 \ucd5c\ub300 25% \uc131\ub2a5 \ud5a5\uc0c1 (Big5 \ubca4\uce58\ub9c8\ud06c \uae30\uc900)</p> </li> <li> <p>\uace0\uce74\ub514\ub110\ub9ac\ud2f0 \ucffc\ub9ac \ucd5c\uc801\ud654     cardinality aggregation\uc5d0 \uc2e4\ud589 \ud78c\ud2b8 \ucd94\uac00 \u2192 p90 \ucffc\ub9ac \uc9c0\uc5f0 75% \uac10\uc18c</p> </li> <li> <p>k-NN \ub3d9\uc2dc \uc138\uadf8\uba3c\ud2b8 \uac80\uc0c9 \uae30\ubcf8 \ud65c\uc131\ud654     \u2192 \ucd5c\ub300 2.5\ubc30 \ube60\ub978 \ubca1\ud130 \uac80\uc0c9</p> </li> <li> <p>Cold Start \uac1c\uc120     k-NN \ubca1\ud130\uc5d0 \ub300\ud55c derived source \ub3c4\uc785 \u2192 \ucd5c\ub300 30\ubc30 \ube60\ub978 \ucffc\ub9ac \uc751\ub2f5, 3\ubc30 \uc800\uc7a5 \uacf5\uac04 \uc808\uac10</p> </li> <li> <p>Star-tree Index \uae30\ub2a5 \ud655\uc7a5     metric aggregation\uacfc filter \uc9c0\uc6d0 \u2192 \ucd5c\ub300 100\ubc30\uc758 \ucffc\ub9ac \uc791\uc5c5\ub7c9 \uac10\uc18c</p> </li> <li> <p>Date Histogram \ucd5c\uc801\ud654     filter rewrite \uc131\ub2a5 \ud5a5\uc0c1\uc73c\ub85c multi-level \uc9d1\uacc4\uc5d0\ub3c4 \ub300\uc751</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#ai","title":"AI \ubc0f \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uae30\ub2a5","text":"<ul> <li> <p>Semantic Sentence Highlighting     \uc758\ubbf8 \uae30\ubc18 \ubb38\uc7a5 \uac15\uc870 \uae30\ub2a5 \u2192 \uac80\uc0c9 \uacb0\uacfc\uc5d0 \uc5f0\uad00 \ubb38\uc7a5\uc744 \uc790\ub3d9 \ud558\uc774\ub77c\uc774\ud305</p> </li> <li> <p>Z-score \uc815\uaddc\ud654 &amp; \ucd5c\uc18c\uac12 \uae30\ubc18 \uc815\uaddc\ud654     \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc5d0\uc11c outlier\ub97c \uc815\uaddc\ud654\ud558\uc5ec \ub354 \uc548\uc815\uc801\uc778 \uc810\uc218 \uacc4\uc0b0</p> </li> <li> <p>Neural Search \uac1c\uc120     embedding \ucd5c\uc801\ud654, inner_hits \uc9c0\uc6d0, sparse encoding \uac1c\uc120 \ub4f1</p> </li> <li> <p>MCP (Model Context Protocol) \uc5f0\ub3d9 \uc2e4\ud5d8\uc801 \ub3c4\uc785     \uc678\ubd80 AI \uc5d0\uc774\uc804\ud2b8(\uc608: OpenAI, LangChain \ub4f1)\uc640\uc758 \uc5f0\ub3d9 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#opensearch-dashboards","title":"OpenSearch Dashboards \uac1c\uc120","text":"<ul> <li> <p>Query Insights     \uc2e4\uc2dc\uac04 live query API, verbose mode, \ub3d9\uc801 \uceec\ub7fc \uc81c\uacf5</p> </li> <li> <p>PPL (Piped Processing Language)     lookup, join, subsearch \uba85\ub839\uc5b4 \ucd94\uac00 \u2192 \ub85c\uadf8 \uc0c1\uad00 \ubd84\uc11d \ud5a5\uc0c1</p> </li> <li> <p>Observability \uac1c\uc120     Anomaly Detection\uc5d0\uc11c Discover\uc640 \uc5f0\ub3d9\ud574 \uc774\uc0c1 \ud0d0\uc9c0 \uc2dc \ubc14\ub85c \ub85c\uadf8 \ud655\uc778 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#_3","title":"\ubcf4\uc548 \uae30\ub2a5 \ub300\ud3ed \uac1c\uc120","text":"<ul> <li> <p>Java Security Manager \uc81c\uac70 \u2192 Java Agent \uae30\ubc18 \ubcf4\uc548 \ud504\ub808\uc784\uc6cc\ud06c \ub3c4\uc785</p> <ul> <li> <p>\ud2b9\uad8c \uc561\uc158 \ud638\ucd9c \uac10\uc9c0 \ubc0f \uac80\uc99d</p> </li> <li> <p>\ub3d9\uc77c\ud55c \uc815\ucc45 \ud30c\uc77c \ubc29\uc2dd \uc0ac\uc6a9</p> </li> </ul> </li> <li> <p>Privilege \ud3c9\uac00 \ucd5c\uc801\ud654</p> <ul> <li> <p>\ubcf4\uc548 \ud074\ub7ec\uc2a4\ud130 \uc131\ub2a5 \ud5a5\uc0c1</p> </li> <li> <p>\uc9c1\ub82c\ud654 \ube44\uc6a9 \uac10\uc18c</p> </li> </ul> </li> <li> <p>PGP \ud0a4 \uac31\uc2e0 (\uc720\ud6a8: 2027\ub144 3\uc6d4 6\uc77c\uae4c\uc9c0)</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#_4","title":"\ub370\uc774\ud130 \uad00\ub9ac \ubc0f \uc778\ub371\uc2f1","text":"<ul> <li> <p>Remote Store \ubd84\ub9ac \ucc98\ub9ac     \uc778\ub371\uc2f1 \ud2b8\ub798\ud53d\uacfc \uac80\uc0c9 \ud2b8\ub798\ud53d \ubd84\ub9ac \uac00\ub2a5 \u2192 \ub3c5\ub9bd\uc801 \uc2a4\ucf00\uc77c\ub9c1 \ubc0f \uc7a5\uc560 \uaca9\ub9ac</p> </li> <li> <p>_scale API \ub3c4\uc785     write-once-read-many \ud328\ud134\uc5d0\uc11c index\ub97c read-only \uc0c1\ud0dc\ub85c \uc804\ud658 \uac00\ub2a5</p> </li> <li> <p>\ub178\ub4dc \uc218\uc900 Circuit Breaker \uc124\uc815     k-NN \ud658\uacbd\uc5d0\uc11c \ud558\ub4dc\uc6e8\uc5b4 \ubcc4 \uba54\ubaa8\ub9ac \ud55c\uacc4 \ub9de\ucda4 \uc124\uc815 \uc9c0\uc6d0</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#experimental","title":"\uc2e4\ud5d8\uc801 \uae30\ub2a5 (Experimental)","text":"<ul> <li> <p>GPU \uac00\uc18d \ubca1\ud130 \uc778\ub371\uc2f1/\uac80\uc0c9     \ucd5c\ub300 9.3\ubc30 \ube60\ub978 \uc778\ub371\uc2f1, 3.75\ubc30 \ube44\uc6a9 \uc808\uac10</p> </li> <li> <p>gRPC + protobuf \uc804\uc1a1 \ud504\ub85c\ud1a0\ucf5c     JSON \ub300\ube44 \uc9c1\ub82c\ud654 \ube44\uc6a9 \uac10\uc18c, \uace0\uc131\ub2a5 \ud1b5\uc2e0 \uac00\ub2a5</p> </li> <li> <p>Pull-based ingestion     Kafka, Kinesis \ub4f1\uc5d0\uc11c \uc9c1\uc811 \ub370\uc774\ud130 \uc218\uc2e0 \uac00\ub2a5 (\uc5ed\ubc29\ud5a5 \uc218\uc9d1)</p> </li> <li> <p>\uacc4\ud68d-\uc2e4\ud589-\ubc18\uc601 Agent (plan-execute-reflect)     \ubb38\uc81c \ud574\uacb0\uc744 \uc704\ud55c \uc790\uc728 \uc5d0\uc774\uc804\ud2b8 \ud504\ub808\uc784\uc6cc\ud06c \ub3c4\uc785</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#breaking-changes","title":"\uc8fc\uc694 \ubcc0\uacbd \uc0ac\ud56d (Breaking Changes)","text":"<ul> <li> <p>Lucene 10.1 \uc5c5\uadf8\ub808\uc774\ub4dc</p> </li> <li> <p>JDK 21 \uc774\uc0c1 \ud544\uc218</p> </li> <li> <p>Security Manager \uc81c\uac70 \u2192 Java Agent \ub300\uccb4</p> </li> <li> <p>Bulk API\uc5d0\uc11c _id \uae38\uc774 \uc81c\ud55c (512 bytes)</p> </li> <li> <p>mmap.extensions, transport-nio plugin \uc81c\uac70</p> </li> <li> <p>CamelCase PathHierarchy tokenizer \uc0ac\uc6a9 \uc911\ub2e8 \uc608\uc815</p> </li> <li> <p>\ub9ce\uc740 API \ubc0f \uc124\uc815 \uba85\uce6d \ubcc0\uacbd \ub610\ub294 \uc81c\uac70</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#_5","title":"\uc9c0\uc6d0 \uc911\ub2e8 \ubc0f \uc774\uc804 \uacf5\uc9c0","text":"<ul> <li> <p>Ubuntu 20.04 \uc9c0\uc6d0 \uc885\ub8cc \uc608\uc815 (2025\ub144 4\uc6d4 \uc774\ud6c4 EOL)</p> </li> <li> <p>Amazon Linux 2 \uc9c0\uc6d0 \uc885\ub8cc \uc608\uc815 (Node.js 18 EOL \ub300\uc751)</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#pgp","title":"PGP \ud0a4 \ubcc0\uacbd \uc548\ub0b4","text":"<ul> <li> <p>\uc0c8 \ud0a4: <code>release@opensearch.org</code> (OpenSearch 3.0.0 \uc774\uc0c1)</p> </li> <li> <p>\uae30\uc874 \ud0a4(<code>opensearch@amazon.com</code>)\ub294 2.x \ub9b4\ub9ac\uc988\uc5d0\ub9cc \uc0ac\uc6a9</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.0.0/%EC%9A%94%EC%95%BD/#_6","title":"\uc815\ub9ac","text":"\uc601\uc5ed \uc8fc\uc694 \uac1c\uc120 \uc0ac\ud56d \uac80\uc0c9 \uc131\ub2a5 k-NN, Range Query, Star-tree, Cold Start \uac1c\uc120 AI \ud1b5\ud569 MCP \uc5f0\ub3d9, \uc2dc\ub9e8\ud2f1 \ud558\uc774\ub77c\uc774\ud305, \ud558\uc774\ube0c\ub9ac\ub4dc \uc815\uaddc\ud654 \ubcf4\uc548 Java Agent \uae30\ubc18 \ubcf4\uc548 \ud504\ub808\uc784\uc6cc\ud06c, \uad8c\ud55c \ucc98\ub9ac \ucd5c\uc801\ud654 \ub300\uc2dc\ubcf4\ub4dc Query Insights, PPL \uac15\ud654, Anomaly \ub85c\uadf8 \uc5f0\ub3d9 \uc2e4\ud5d8 \uae30\ub2a5 GPU \uac00\uc18d, gRPC, pull-based ingestion \ub4f1"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/","title":"Star tree Index","text":"<p>\uc9d1\uacc4(Aggregation)\ub294 \ub370\uc774\ud130 \uaddc\ubaa8\uac00 \ucee4\uc9c8\uc218\ub85d \uc9d1\uacc4 \uc131\ub2a5\uc740 \uae09\uaca9\ud788 \uc800\ud558\ub418\uba70, \uc774\ub85c \uc778\ud574 \ucffc\ub9ac \uc9c0\uc5f0(latency)\uacfc \ub9ac\uc18c\uc2a4 \uc18c\ube44\uac00 \uc99d\uac00\ud558\ub294 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 OpenSearch 2.18\ubd80\ud130 \uc2e0\uaddc \uae30\ub2a5\uc778 Star-tree Index\uac00 \uc2e4\ud5d8\uc801\uc73c\ub85c \ub3c4\uc785\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#star-tree-index","title":"Star-tree Index\ub780?","text":"<p>Star-tree Index\ub294 \ubbf8\ub9ac \uc9d1\uacc4\ub41c(Aggregated) \uac12\uc744 \ub2e4\uc591\ud55c \ucc28\uc6d0 \uc870\ud569\uc5d0 \ub530\ub77c \uc800\uc7a5\ud558\ub294 \uc778\ub371\uc2a4 \uad6c\uc870\uc785\ub2c8\ub2e4. \uae30\uc874\uc5d0\ub294 \ucffc\ub9ac \uc2dc\uc810\uc5d0 \uc9d1\uacc4\ub97c \uc218\ud589\ud588\uc9c0\ub9cc, Star-tree\ub294 \uc778\ub371\uc2f1 \uc2dc\uc810\uc5d0 \uac01 \uc870\ud569\ubcc4 \uc9d1\uacc4\ub97c \ubbf8\ub9ac \uacc4\uc0b0\ud574 \uc800\uc7a5\ud558\ubbc0\ub85c, \uac80\uc0c9 \ucffc\ub9ac \uc2dc \ube60\ub974\uac8c \uc751\ub2f5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#_1","title":"\uc8fc\uc694 \ud2b9\uc9d5","text":"<ul> <li> <p>\uba40\ud2f0 \ud544\ub4dc \uc9d1\uacc4 \ucd5c\uc801\ud654: \uc5ec\ub7ec \ud544\ub4dc\uc758 \uc870\ud569\uc5d0 \ub300\ud55c \uc9d1\uacc4\ub3c4 \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac</p> </li> <li> <p>\uc2e4\uc2dc\uac04 \ub3d9\uc791: \uc778\ub371\uc2f1 \uc911 segment flush/refresh \uc2dc\ub9c8\ub2e4 star-tree \uad6c\uc870 \uc0dd\uc131</p> </li> <li> <p>\ucffc\ub9ac \ubb38\ubc95 \ubcc0\uacbd \uc5c6\uc74c: \uae30\uc874 \ucffc\ub9ac \uadf8\ub300\ub85c \uc0ac\uc6a9 \uac00\ub2a5\ud558\uba70, \uc790\ub3d9 \ucd5c\uc801\ud654 \uc801\uc6a9</p> </li> <li> <p>\ud398\uc774\uc9d5 \ubc0f \ub514\uc2a4\ud06c I/O \ud6a8\uc728 \ud5a5\uc0c1: \uc801\uc740 \ub9ac\ud504 \ud0d0\uc0c9\uc73c\ub85c \ube60\ub978 \uc751\ub2f5 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#star-tree-index_1","title":"Star-tree Index \uad6c\uc870","text":"<p>Star-tree\ub294 \ud2b8\ub9ac \ud615\ud0dc\ub85c \uad6c\uc131\ub418\uba70, \ub2e4\uc74c\uacfc \uac19\uc740 \uad6c\uc131\uc694\uc18c\ub97c \ud3ec\ud568\ud569\ub2c8\ub2e4:</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#dimension-ordered_dimensions","title":"Dimension \ub178\ub4dc (ordered_dimensions)","text":"<ul> <li> <p>\uc608: <code>status</code>, <code>port</code>, <code>method</code></p> </li> <li> <p>\ud2b8\ub9ac\uc758 \uacbd\ub85c\ub97c \uad6c\uc131\ud558\ub294 \ud544\ub4dc\ub4e4</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#metric-metrics","title":"Metric \ub178\ub4dc (metrics)","text":"<ul> <li> <p>\uc608: <code>sum(size)</code>, <code>avg(latency)</code></p> </li> <li> <p>\ub9ac\ud504 \ub178\ub4dc\uc5d0 \uc800\uc7a5\ub418\ub294 \uc0ac\uc804 \uacc4\uc0b0\ub41c \uac12\ub4e4</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#star","title":"Star \ub178\ub4dc (<code>*</code>)","text":"<ul> <li> <p>\ud2b9\uc815 \ucc28\uc6d0\uc5d0 \ub300\ud574 \ubaa8\ub4e0 \uac12\uc744 \uc9d1\uacc4\ud55c \ub178\ub4dc</p> </li> <li> <p>\ucffc\ub9ac \uc870\uac74\uc774 \uc5c6\ub294 \ucc28\uc6d0\uc744 \uac74\ub108\ub6f8 \uc218 \uc788\ub3c4\ub85d \ucd5c\uc801\ud654</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#leaf","title":"Leaf \ub178\ub4dc","text":"<ul> <li> <p>\uc9c0\uc815\ub41c \uc870\ud569\uc5d0 \ub300\ud55c \ucd5c\uc885 metric \uac12 \uc800\uc7a5</p> </li> <li> <p><code>max_leaf_docs</code> \uac12\uc73c\ub85c \ubb38\uc11c \uc218 \uc81c\ud55c \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#_2","title":"\uc124\uc815 \uc608\uc2dc","text":"<pre><code>PUT /logs\n{\n  \"settings\": {\n    \"index.composite_index\": true,\n    \"index.append_only.enabled\": true\n  },\n  \"mappings\": {\n    \"composite\": {\n      \"request_aggs\": {\n        \"type\": \"star_tree\",\n        \"config\": {\n          \"ordered_dimensions\": [\n            { \"name\": \"status\" },\n            { \"name\": \"port\" },\n            { \"name\": \"method\" }\n          ],\n          \"metrics\": [\n            { \"name\": \"size\", \"stats\": [\"sum\"] },\n            { \"name\": \"latency\", \"stats\": [\"avg\"] }\n          ],\n          \"date_dimension\": {\n            \"name\": \"@timestamp\",\n            \"calendar_intervals\": [\"month\", \"day\"]\n          }\n        }\n      }\n    },\n    \"properties\": {\n      \"status\": { \"type\": \"integer\" },\n      \"port\": { \"type\": \"integer\" },\n      \"method\": { \"type\": \"keyword\" },\n      \"size\": { \"type\": \"integer\" },\n      \"latency\": { \"type\": \"scaled_float\", \"scaling_factor\": 10 }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#_3","title":"\ucffc\ub9ac \uc608\uc2dc \ubc0f \ucd5c\uc801\ud654 \ubc29\uc2dd","text":"<p>\ucffc\ub9ac\ub294 \uae30\uc874 OpenSearch \ucffc\ub9ac\uc640 \ub3d9\uc77c\ud558\uba70, star-tree\uac00 \uc790\ub3d9 \uc801\uc6a9\ub429\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#1","title":"1. \ub2e8\uc77c \uc870\uac74 \uc9d1","text":"<pre><code>{\n  \"query\": { \"term\": { \"status\": 500 } },\n  \"aggs\": { \"sum_size\": { \"sum\": { \"field\": \"size\" } } }\n}\n</code></pre> <p>\u2192 <code>status=500</code> \ub178\ub4dc\uc5d0 \ubbf8\ub9ac \uc800\uc7a5\ub41c \uac12\uc5d0\uc11c <code>sum(size)</code>\ub97c \uc989\uc2dc \ubc18\ud658</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#2","title":"2. \ub0a0\uc9dc \uae30\ubc18 \uc9d1\uacc4","text":"<pre><code>{\n  \"size\": 0,\n  \"query\": { \"range\": { \"status\": { \"gte\": \"200\", \"lte\": \"400\" } } },\n  \"aggs\": {\n    \"by_month\": {\n      \"date_histogram\": {\n        \"field\": \"@timestamp\",\n        \"calendar_interval\": \"month\"\n      },\n      \"aggs\": {\n        \"sum_size\": {\n          \"sum\": {\n            \"field\": \"size\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre> <p>\u2192 \uc6d4 \ub2e8\uc704\ub85c <code>status</code> \ud544\ud130\ub97c \uc801\uc6a9\ud55c <code>sum(size)</code>\ub97c \ube60\ub974\uac8c \ubc18\ud658</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#3-terms","title":"3. Terms \uc9d1\uacc4","text":"<pre><code>{\n  \"aggs\": {\n    \"users\": {\n      \"terms\": {\n        \"field\": \"user_id\"\n      }\n    }\n  }\n}\n</code></pre> <p>\u2192 <code>user_id</code>\uac00 dimension\uc5d0 \ud3ec\ud568\ub41c \uacbd\uc6b0 star-tree\ub85c \ucd5c\uc801\ud654</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#4-range","title":"4. Range \uc9d1\uacc4","text":"<pre><code>{\n  \"aggs\": {\n    \"price_ranges\": {\n      \"range\": {\n        \"field\": \"price\",\n        \"ranges\": [\n          { \"to\": 100 },\n          { \"from\": 100, \"to\": 500 },\n          { \"from\": 500 }\n        ]\n      },\n      \"aggs\": {\n        \"total_quantity\": {\n          \"sum\": {\n            \"field\": \"quantity\"\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre> <p>\u2192 \ubc94\uc704 \uae30\ubc18 \ubc84\ud0b7 \uc9d1\uacc4\ub3c4 star-tree\ub85c \ucc98\ub9ac \uac00\ub2a5</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/Star-tree%20Index/#_4","title":"\uc8fc\uc758\uc0ac\ud56d \ubc0f \uc81c\ud55c","text":"\ud56d\ubaa9 \uc81c\ud55c \ub0b4\uc6a9 \u274c \ubb38\uc11c \uc218\uc815/\uc0ad\uc81c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc74c (append-only \uc778\ub371\uc2a4 \ud544\uc694) \u274c _id\uc640 \uac19\uc740 \uace0\uc720 \ud544\ub4dc dimension\uc73c\ub85c \uc0ac\uc6a9 \uae08\uc9c0 (\uace0\uce74\ub514\ub110\ub9ac\ud2f0\ub85c \uc778\ud55c \uc131\ub2a5 \uc800\ud558) \u274c array \ud544\ub4dc \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc74c \u274c must_not, minimum_should_match Boolean \ucffc\ub9ac\uc5d0\uc11c \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc74c \u2705 \uc9c0\uc6d0 \ucffc\ub9ac term, terms, range, match_all, \uc77c\ubd80 bool \ucffc\ub9ac \u2705 \uc9c0\uc6d0 \uc9d1\uacc4 sum, avg, min, max, value_count, date_histogram, terms, range"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/","title":"OpenSearch &amp; Dashboards 3.1.0 \ub9b4\ub9ac\uc988 \ub178\ud2b8","text":"<p>OpenSearch 3.1\uc740 \uc131\ub2a5, \uac80\uc0c9 \ud488\uc9c8, AI \uc5d0\uc774\uc804\ud2b8 \uc9c0\uc6d0, Observability, \ubcf4\uc548 \uce21\uba74\uc5d0\uc11c \ub300\ub300\uc801\uc778 \uc5c5\uadf8\ub808\uc774\ub4dc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#_1","title":"\uc8fc\uc694 \uae30\ub2a5 \uc694\uc57d","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#gpu","title":"GPU \uac00\uc18d \uc778\ub371\uc2f1 (\uc815\uc2dd \uc801\uc6a9)","text":"<ul> <li> <p>\ucd5c\ub300 9.3\ubc30 \ube60\ub978 \uc778\ub371\uc2a4 \ube4c\ub4dc \uc18d\ub3c4, 3.75\ubc30 \ube44\uc6a9 \uc808\uac10</p> </li> <li> <p>\ub300\uaddc\ubaa8 \ubca1\ud130 \uc778\ub371\uc2f1\uc5d0 \uc774\uc0c1\uc801</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#agent-api","title":"Agent \uad00\ub9ac API \uc81c\uacf5","text":"<ul> <li> <p>\ubaa8\ub378 ID, \ud504\ub86c\ud504\ud2b8 \ub4f1 \uc124\uc815\uc744 \uc9c1\uc811 \uc218\uc815 \uac00\ub2a5</p> </li> <li> <p>\uc2e0\uaddc \uc5d0\uc774\uc804\ud2b8 \uc0dd\uc131 \uc5c6\uc774 \uad6c\uc131 \uc218\uc815 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#ml-commons-metrics","title":"ML Commons Metrics \ud1b5\ud569","text":"<ul> <li> <p>OpenTelemetry \ud638\ud658 \uc9c0\ud45c \uc218\uc9d1 \uae30\ub2a5</p> </li> <li> <p>\uc2e4\uc2dc\uac04 \ubc0f \uc815\uae30 \ubc29\uc2dd \ubaa8\ub450 \uc9c0\uc6d0</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#search-relevance-workbench","title":"Search Relevance Workbench (\uc2e4\ud5d8\uc801 \ub3c4\uad6c)","text":"<ul> <li> <p>\ub2e4\uc591\ud55c \uac80\uc0c9 \uc804\ub7b5 \ube44\uad50 \ubc0f \ud29c\ub2dd</p> </li> <li> <p>\uc0ac\uc6a9\uc790 \ud589\ub3d9 \uae30\ubc18 \uac80\uc0c9 \ud488\uc9c8 \ud3c9\uac00 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#lucene-hnsw-on-faiss","title":"Lucene HNSW on Faiss","text":"<ul> <li> <p>Faiss \uc778\ub371\uc2a4 \uc704\uc5d0\uc11c Lucene \uadf8\ub798\ud504 \uac80\uc0c9 \uc2e4\ud589 \uac00\ub2a5</p> </li> <li> <p>\uba54\ubaa8\ub9ac \ud6a8\uc728 \ud5a5\uc0c1 \ubc0f \ucd5c\ub300 2\ubc30 \uc131\ub2a5 \uac1c\uc120</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#star-tree-index","title":"Star-tree Index \uc815\uc2dd \uc9c0\uc6d0","text":"<ul> <li> <p>\ucd5c\ub300 100\ubc30 \ube60\ub978 \uc9d1\uacc4 \uc131\ub2a5</p> </li> <li> <p>\ub2e4\uc591\ud55c \uc9d1\uacc4 \ubc0f \ucffc\ub9ac \uc720\ud615 \uc9c0\uc6d0</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#_2","title":"\uac80\uc0c9 \ubc0f \ubca1\ud130 \uae30\ub2a5 \uac15\ud654","text":"<ul> <li> <p>\uc0c8\ub85c\uc6b4 Semantic Field Type: \ubaa8\ub378 ID\ub85c \uc9c1\uc811 \ub9e4\ud551, \uc784\ubca0\ub529 \uc790\ub3d9 \ucc98\ub9ac</p> </li> <li> <p>Hybrid Search \uc131\ub2a5 \ud5a5\uc0c1: \ucd5c\ub300 65% \ube60\ub978 \uc751\ub2f5, 3.5\ubc30 \ucc98\ub9ac\ub7c9 \uac1c\uc120</p> </li> <li> <p>Collapse \uc9c0\uc6d0 \ucd94\uac00: \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc5d0\uc11c\ub3c4 \ubb38\uc11c \uadf8\ub8f9\ud551 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#ai-observability","title":"AI \ubc0f Observability \uae30\ub2a5","text":"<ul> <li> <p>OpenSearch Flow \uac1c\uc120: sparse encoder \uae30\ubc18 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \ud15c\ud50c\ub9bf \ucd94\uac00</p> </li> <li> <p>\uc2dc\uacc4\uc5f4 \uc608\uce21 \ubaa8\ub378 \ub0b4\uc7a5 (RCF \uae30\ubc18): Alerting\uacfc \uc5f0\ub3d9 \uac00\ub2a5</p> </li> <li> <p>PPL JSON \ud568\uc218 \ucd94\uac00: \uc911\ucca9 JSON \ucc98\ub9ac \uac04\uc18c\ud654</p> </li> <li> <p>OpenTelemetry \uae30\ubc18 \ub85c\uadf8/\ud2b8\ub808\uc774\uc2a4 \uc5f0\ub3d9 \uac15\ud654: Cross-cluster \uac80\uc0c9 \ubc0f \uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ub4dc \ub9e4\ud551 \uc9c0\uc6d0</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#_3","title":"\ubcf4\uc548 \uae30\ub2a5 \ud5a5\uc0c1","text":"<ul> <li> <p>\ubd88\ubcc0 \uc0ac\uc6a9\uc790 \uac1d\uccb4: \uc9c1\ub82c\ud654/\uc5ed\uc9c1\ub82c\ud654 \ucd5c\uc18c\ud654\ub85c \uc131\ub2a5 \ucd5c\uc801\ud654</p> </li> <li> <p>Tenant \uad8c\ud55c \ud3c9\uac00 \ucd5c\uc801\ud654: \uba40\ud2f0\ud14c\ub10c\uc2dc \ud658\uacbd\uc5d0\uc11c \ud074\ub7ec\uc2a4\ud130 \uc131\ub2a5 \ud5a5\uc0c1</p> </li> <li> <p>\uc790\uc6d0 \uacf5\uc720 \uad8c\ud55c \ud1b5\ud569 (\uc2e4\ud5d8\uc801): \ud50c\ub7ec\uadf8\uc778\ubcc4 \uac1c\ubcc4 \uc124\uc815 \ub300\uc2e0 \ubcf4\uc548 \ud50c\ub7ec\uadf8\uc778\uc5d0\uc11c \uc77c\uad04 \ucc98\ub9ac</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#_4","title":"\uc2e4\ud5d8\uc801 \uae30\ub2a5","text":"<ul> <li> <p>\uc790\uc6d0 \uacf5\uc720 \ubc0f \uc811\uadfc \uc81c\uc5b4 \ud504\ub808\uc784\uc6cc\ud06c (Anomaly Detection \ud50c\ub7ec\uadf8\uc778 \uc801\uc6a9 \uc644\ub8cc)</p> </li> <li> <p>MCP \ub3c4\uad6c \uc5c5\ub370\uc774\ud2b8 \ubc0f \uc2dc\uc2a4\ud15c \uc778\ub371\uc2a4 \uae30\ubc18 \uc601\uc18d\ud654</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/OpenSearch/Version%20history/3.1.0/%EC%9A%94%EC%95%BD/#_5","title":"\uae30\ud0c0 \uc8fc\uc694 \ubcc0\uacbd \uc0ac\ud56d","text":"<ul> <li> <p>Lucene BPV 21 \uc778\ucf54\ub529 \ub3c4\uc785: BKD \uc778\ub371\uc2a4\uc758 docId \uc800\uc7a5 \ucd5c\uc801\ud654</p> </li> <li> <p>Workload \uc790\ub3d9 \ud0dc\uae45: \uc694\uccad \ud5e4\ub354 \uc5c6\uc774\ub3c4 \ub9ac\uc18c\uc2a4 \uc790\ub3d9 \ubd84\ubc30</p> </li> <li> <p>PPL 20\uac1c \uc774\uc0c1\uc758 \uc2e0\uaddc \ud568\uc218 \ubc0f \uba85\ub839\uc5b4 \ucd94\uac00</p> </li> <li> <p>Dashboards \ubc0f Assistant \uc0ac\uc6a9\uc131 \uac1c\uc120 \ub2e4\uc218 \ud3ec\ud568</p> </li> </ul> <p>\uc774 \uc678\uc5d0\ub3c4 \ub2e4\uc218\uc758 \ubc84\uadf8 \uc218\uc815, \ubcf4\uc548 \uac1c\uc120, \ud14c\uc2a4\ud2b8 \uc548\uc815\ud654, \ubb38\uc11c \ubcf4\uc644, \ub0b4\ubd80 \uad6c\uc870 \ub9ac\ud329\ud1a0\ub9c1 \ub4f1\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc74c \ub9b4\ub9ac\uc988(3.1.1 \ub610\ub294 3.2)\uc5d0\uc11c\ub294 \ub354\uc6b1 \ud5a5\uc0c1\ub41c GPU \ud65c\uc6a9, \ubca1\ud130 \uac80\uc0c9, AI \uae30\ubc18 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uae30\ub2a5\uc774 \uae30\ub300\ub429\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/","title":"LangChain\uacfc Qdrant","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#1","title":"1. \uac1c\uc694","text":"<p>Qdrant\ub294 \uace0\uc131\ub2a5\uc758 \ubca1\ud130 \uc720\uc0ac\ub3c4 \uac80\uc0c9 \uc5d4\uc9c4\uc73c\ub85c, REST \ubc0f gRPC API\ub97c \ud1b5\ud574 \ubca1\ud130 \uc800\uc7a5, \uac80\uc0c9, \ud544\ud130\ub9c1\uc744 \uc81c\uacf5\ud55c\ub2e4. LangChain\uc740 \ub300\ud615 \uc5b8\uc5b4 \ubaa8\ub378(LLM)\uc758 \uc751\uc6a9\uc744 \uc704\ud55c \ud504\ub808\uc784\uc6cc\ud06c\ub85c, \ub2e4\uc591\ud55c \ubca1\ud130 \uc800\uc7a5\uc18c(Vector Store)\uc640\uc758 \ud1b5\ud569\uc744 \uc9c0\uc6d0\ud55c\ub2e4. </p> <p>\uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 <code>langchain-qdrant</code> \ubaa8\ub4c8\uc744 \uc0ac\uc6a9\ud558\uc5ec Qdrant\ub97c LangChain\uacfc \uc5f0\ub3d9\ud558\uace0, Dense Vector Search, Sparse Vector Search, Hybrid Search, \uba54\ud0c0\ub370\uc774\ud130 \ud544\ud130\ub9c1, Retriever \ubcc0\ud658 \ub4f1\uc758 \uae30\ub2a5\uc744 \ubaa8\ub450 \ud65c\uc6a9\ud558\ub294 \uc608\uc81c\ub97c \uc18c\uac1c\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#2","title":"2. \uc2e4\ud5d8 \ud658\uacbd \ubc0f \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58","text":"<p>\ub2e4\uc74c \ud658\uacbd\uc5d0\uc11c \uc2e4\ud5d8\uc744 \uc9c4\ud589\ud55c\ub2e4.</p> <ul> <li> <p>Python 3.12+</p> </li> <li> <p>Qdrant \uc11c\ubc84: \ub85c\uceec Docker \ud658\uacbd\uc5d0\uc11c \uc2e4\ud589</p> </li> <li> <p>LangChain \ubaa8\ub4c8: <code>langchain-openai</code>, <code>langchain-qdrant</code>, <code>fastembed</code> \uc0ac\uc6a9</p> </li> </ul> <p>\ud544\uc218 \ud328\ud0a4\uc9c0 \uc124\uce58\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p> <pre><code>pip install -U langchain-openai langchain-qdrant qdrant-client fastembed\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#3-qdrant","title":"3. Qdrant \uc11c\ubc84 \uc900\ube44","text":"<p>Qdrant\ub294 Docker\ub85c \uc27d\uac8c \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4. \ub85c\uceec\uc5d0\uc11c \uc2e4\ud589 \uc2dc \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud55c\ub2e4.</p> <pre><code>docker run -d \\\n  -p 6333:6333 \\\n  -v $(pwd)/qdrant_data:/qdrant/storage \\\n  --name qdrant \\\n  qdrant/qdrant\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#4-langchain-qdrant","title":"4. LangChain + Qdrant \uc5f0\ub3d9 \uc804\uccb4 \ucf54\ub4dc","text":"<p>\uc544\ub798 \ucf54\ub4dc\ub294 \ubaa8\ub4e0 \uc8fc\uc694 \uae30\ub2a5\uc744 \ud3ec\ud568\ud55c \ud1b5\ud569 \uc608\uc81c\uc774\ub2e4. \uc774 \ucf54\ub4dc\ub97c \uae30\ubc18\uc73c\ub85c \ub2e4\uc591\ud55c \uac80\uc0c9 \uc2e4\ud5d8\uc774 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#41","title":"4.1 \uc804\uccb4 \ucf54\ub4dc","text":"<pre><code>import os\nfrom uuid import uuid4\nfrom langchain_openai import OpenAIEmbeddings\nfrom langchain_qdrant import QdrantVectorStore, RetrievalMode, FastEmbedSparse\nfrom qdrant_client import QdrantClient, models\nfrom qdrant_client.http.models import Distance, VectorParams, SparseVectorParams\nfrom langchain_core.documents import Document\n\n# 1) \uc784\ubca0\ub529\nembeddings = OpenAIEmbeddings(\n    model=\"text-embedding-3-small\",\n    api_key=os.environ[\"OPENAI_API_KEY\"],\n)\nsparse_embeddings = FastEmbedSparse(model_name=\"Qdrant/bm25\")\n\n# 2) Qdrant \uc5f0\uacb0\nclient = QdrantClient(url=\"http://localhost:6333\")\n\n# 3) \uceec\ub809\uc158( dense + sparse ) \uc0dd\uc131\nif client.collection_exists(\"my_documents\"):\n    client.delete_collection(\"my_documents\")\n\nclient.create_collection(\n    collection_name=\"my_documents\",\n    vectors_config={\"dense\": VectorParams(size=1536, distance=Distance.COSINE)},\n    sparse_vectors_config={\"sparse\": SparseVectorParams(index=models.SparseIndexParams(on_disk=False))},\n)\n\n# 4) \ubb38\uc11c \uc900\ube44\nraw_texts = [\n    (\"I had chocolate chip pancakes and scrambled eggs for breakfast this morning.\", \"tweet\"),\n    (\"The weather forecast for tomorrow is cloudy and overcast, with a high of 62 degrees Fahrenheit.\", \"news\"),\n    (\"Building an exciting new project with LangChain - come check it out!\", \"tweet\"),\n    (\"Robbers broke into the city bank and stole $1 million in cash.\", \"news\"),\n    (\"Wow! That was an amazing movie. I can't wait to see it again.\", \"tweet\"),\n    (\"Is the new iPhone worth the price? Read this review to find out.\", \"website\"),\n    (\"The top 10 soccer players in the world right now.\", \"website\"),\n    (\"LangGraph is the best framework for building stateful, agentic applications!\", \"tweet\"),\n    (\"The stock market is down 500 points today due to fears of a recession.\", \"news\"),\n    (\"I have a bad feeling I am going to get deleted :(\", \"tweet\"),\n]\ndocuments = [Document(page_content=t, metadata={\"source\": s}) for t, s in raw_texts]\nuuids = [str(uuid4()) for _ in documents]\n\n# 5) Hybrid \uc800\uc7a5\nhybrid_store = QdrantVectorStore(\n    client=client,\n    collection_name=\"my_documents\",\n    embedding=embeddings,\n    sparse_embedding=sparse_embeddings,\n    retrieval_mode=RetrievalMode.HYBRID,\n    vector_name=\"dense\",\n    sparse_vector_name=\"sparse\",\n)\nhybrid_store.add_documents(documents=documents, ids=uuids)\n\n# 6) Dense / Sparse / Hybrid \uac80\uc0c9 \ubc0f \ucd9c\ub825\ndense_store = QdrantVectorStore(client, \"my_documents\", embedding=embeddings,\n                                retrieval_mode=RetrievalMode.DENSE, vector_name=\"dense\")\nsparse_store = QdrantVectorStore(client, \"my_documents\", sparse_embedding=sparse_embeddings,\n                                 retrieval_mode=RetrievalMode.SPARSE, sparse_vector_name=\"sparse\")\n\nprint(\"\ud83d\udd0d Dense \uac80\uc0c9:\", [d.page_content for d in dense_store.similarity_search(\"LangChain project\", k=2)])\nprint(\"\ud83d\udd0d Sparse \uac80\uc0c9:\", [d.page_content for d in sparse_store.similarity_search(\"soccer players\", k=1)])\nprint(\"\ud83d\udd0d Hybrid \uac80\uc0c9:\",\n      [(d.page_content, f\"{s:.6f}\") for d, s in hybrid_store.similarity_search_with_score(\"Will it be hot tomorrow\", k=1)])\n\n# 7) Metadata \ud544\ud130\ub9c1 \uac80\uc0c9\nflt = models.Filter(should=[models.FieldCondition(\n    key=\"page_content\",\n    match=models.MatchValue(value=\"The top 10 soccer players in the world right now.\")\n)])\nprint(\"\ud83d\udd0d Metadata \ud544\ud130:\", [d.page_content for d in hybrid_store.similarity_search(\"best soccer players\", k=1, filter=flt)])\n\n# 8) \ubb38\uc11c \uc0ad\uc81c\nhybrid_store.delete(ids=[uuids[-1]])\n\n# 9) Retriever \ubcc0\ud658\nretriever = hybrid_store.as_retriever(search_type=\"mmr\", search_kwargs={\"k\": 1})\nprint(\"\ud83d\udd0d Retriever \uacb0\uacfc:\", [d.page_content for d in retriever.invoke(\"Stealing from the bank is a crime\")])\n\n# 10) Named vector + \ucee4\uc2a4\ud140 \ud0a4\nQdrantVectorStore.from_documents(\n    documents[:2],\n    embeddings,\n    sparse_embedding=sparse_embeddings,\n    location=\":memory:\",\n    collection_name=\"my_documents_custom\",\n    content_payload_key=\"my_page_content\",\n    metadata_payload_key=\"my_meta\",\n    vector_name=\"custom_vector\",\n    sparse_vector_name=\"custom_sparse_vector\",\n    retrieval_mode=RetrievalMode.HYBRID,\n)\nprint(\"\u2705 \ucee4\uc2a4\ud140 \ud544\ub4dc \uc778\ub371\uc2f1 \uc644\ub8cc\")\n</code></pre> <p>\ucf54\ub4dc\uc5d0\uc11c \uc218\ud589\ub418\ub294 \uc8fc\uc694 \uae30\ub2a5\ub4e4\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#5","title":"5. \uc8fc\uc694 \uae30\ub2a5\ubcc4 \uc124\uba85","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#51-dense-vector-search","title":"5.1 Dense Vector Search","text":"<p>Dense \uac80\uc0c9\uc740 \uc784\ubca0\ub529\ub41c \ubca1\ud130 \uac04\uc758 \ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4\ub97c \uacc4\uc0b0\ud558\uc5ec \uac00\uc7a5 \uc720\uc0ac\ud55c \ubb38\uc11c\ub97c \ubc18\ud658\ud55c\ub2e4. LangChain\uc5d0\uc11c\ub294 <code>OpenAIEmbeddings</code>\ub97c \ud65c\uc6a9\ud558\uc5ec dense \ubca1\ud130\ub97c \uc0dd\uc131\ud558\uace0, Qdrant\uc5d0 \uc800\uc7a5\ub41c dense \ubca1\ud130\uc640 \ube44\uad50\ud558\uc5ec \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc744 \uc218\ud589\ud55c\ub2e4.</p> <pre><code>dense_store.similarity_search(\"LangChain project\", k=2)\n</code></pre> <p>\uac80\uc0c9 \uacb0\uacfc\ub294 LLM \uad00\ub828 \ubb38\uc7a5\ub4e4\uc774 \uc6b0\uc120\uc801\uc73c\ub85c \ubc18\ud658\ub418\uba70, \uc758\ubbf8\uc801 \uc720\uc0ac\uc131\uc744 \uae30\ubc18\uc73c\ub85c \uc815\ud655\ud55c \uacb0\uacfc\ub97c \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#52-sparse-vector-search-bm25","title":"5.2 Sparse Vector Search (BM25)","text":"<p>\ud76c\uc18c \ubca1\ud130 \uac80\uc0c9\uc740 \ud0a4\uc6cc\ub4dc \uae30\ubc18\uc758 \ud14d\uc2a4\ud2b8 \uac80\uc0c9\uc73c\ub85c, BM25 \uc54c\uace0\ub9ac\uc998\uc5d0 \uae30\ubc18\ud55c\ub2e4. <code>FastEmbedSparse</code>\ub97c \ud1b5\ud574 sparse vector\ub97c \uc0dd\uc131\ud558\uba70, Qdrant\ub294 \uc774\ub97c \ubcc4\ub3c4 \uc778\ub371\uc2a4\ub85c \uad00\ub9ac\ud55c\ub2e4.</p> <pre><code>sparse_store.similarity_search(\"soccer players\", k=1)\n</code></pre> <p>\uc774 \ubc29\uc2dd\uc740 \uc804\ud1b5\uc801\uc778 \uc815\ubcf4 \uac80\uc0c9(IR)\uacfc \uc720\uc0ac\ud558\uba70, \uba85\uc2dc\uc801\uc778 \ud0a4\uc6cc\ub4dc\ub97c \ud3ec\ud568\ud558\ub294 \ubb38\uc11c \uac80\uc0c9\uc5d0 \uc720\ub9ac\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#53-hybrid-search","title":"5.3 Hybrid Search","text":"<p>Hybrid \uac80\uc0c9\uc740 Dense\uc640 Sparse \uac80\uc0c9\uc744 \ub3d9\uc2dc\uc5d0 \uc218\ud589\ud558\uace0, \uc720\uc0ac\ub3c4 \uc810\uc218\ub97c \ud1b5\ud569\ud558\uc5ec \uacb0\uacfc\ub97c \uc815\ub82c\ud55c\ub2e4. \uc758\ubbf8 \uae30\ubc18\uacfc \ud0a4\uc6cc\ub4dc \uae30\ubc18 \uac80\uc0c9\uc758 \uc7a5\uc810\uc744 \uacb0\ud569\ud55c\ub2e4.</p> <pre><code>results = hybrid_vector_store.similarity_search_with_score(\n    \"Will it be hot tomorrow\", k=1\n)\n</code></pre> <p><code>RetrievalMode.HYBRID</code>\ub85c \uc124\uc815 \uc2dc \ub450 \uc885\ub958\uc758 \ubca1\ud130\uac00 \ubaa8\ub450 \uc800\uc7a5\ub418\uace0 \uac80\uc0c9 \uc2dc \ud65c\uc6a9\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#54","title":"5.4 \uba54\ud0c0\ub370\uc774\ud130 \ud544\ud130\ub9c1","text":"<p>Qdrant\ub294 JSON \uae30\ubc18\uc758 Payload\uc5d0 \ub300\ud574 \ud544\ud130\ub9c1 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uba70, LangChain\uc5d0\uc11c\ub3c4 \uc774\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4. \ud2b9\uc815 \ud0a4 \ub610\ub294 \uac12 \uae30\uc900\uc73c\ub85c \uac80\uc0c9 \uacb0\uacfc\ub97c \uc81c\ud55c\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>filter=models.Filter(\n    should=[\n        models.FieldCondition(\n            key=\"page_content\",\n            match=models.MatchValue(value=\"The top 10 soccer players in the world right now.\")\n        )\n    ]\n)\n</code></pre> <p>\uc774\ub294 Faceted Search \ub610\ub294 \uc870\uac74 \uae30\ubc18 \ud544\ud130\ub9c1\uc774 \ud544\uc694\ud55c RAG \ud30c\uc774\ud504\ub77c\uc778\uc5d0\uc11c \ub9e4\uc6b0 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#55","title":"5.5 \ubb38\uc11c \uc0ad\uc81c","text":"<p>\ucd94\uac00\ub41c \ubb38\uc11c\ub294 UUID\ub97c \uae30\ubc18\uc73c\ub85c \uc81c\uac70\ud560 \uc218 \uc788\ub2e4. \ud574\ub2f9 \uae30\ub2a5\uc740 \ubb38\uc11c \uac31\uc2e0 \ub610\ub294 RAG \ubb38\ub9e5 \uad00\ub9ac \uc2dc \uc720\uc6a9\ud558\uac8c \ud65c\uc6a9\ub41c\ub2e4.</p> <pre><code>hybrid_vector_store.delete(ids=[target_id])\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#56-retriever","title":"5.6 Retriever \ubcc0\ud658","text":"<p><code>QdrantVectorStore</code>\ub294 <code>.as_retriever()</code> \uba54\uc11c\ub4dc\ub97c \ud1b5\ud574 LangChain\uc758 <code>Retriever</code>\ub85c \ubcc0\ud658\ud560 \uc218 \uc788\ub2e4. \ubcc0\ud658\ub41c Retriever\ub294 LLM \uccb4\uc778 \ub610\ub294 Agent \ub0b4\ubd80\uc5d0\uc11c \uc9c1\uc811 \uc0ac\uc6a9 \uac00\ub2a5\ud558\ub2e4.</p> <pre><code>retriever = hybrid_vector_store.as_retriever(search_type=\"mmr\", search_kwargs={\"k\": 1})\ndocs = retriever.invoke(\"Stealing from the bank is a crime\")\n</code></pre> <p>MMR(Maximal Marginal Relevance)\uc744 \ud65c\uc6a9\ud558\uba74 \ub2e4\uc591\ud55c \uad00\uc810\uc758 \ubb38\uc11c\ub97c \ud63c\ud569\ud574 \ubc18\ud658\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#57-named-vector-payload","title":"5.7 Named Vector \ubc0f \ucee4\uc2a4\ud140 Payload \ud0a4 \ud65c\uc6a9","text":"<p>Qdrant\ub294 \ub3d9\uc77c\ud55c \ubb38\uc11c\uc5d0 \uc5ec\ub7ec named vector\ub97c \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4. \ub610\ud55c <code>page_content</code>, <code>metadata</code> \uc678\uc5d0 \ucee4\uc2a4\ud140 \ud0a4\ub85c\ub3c4 \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>QdrantVectorStore.from_documents(\n    docs,\n    embeddings,\n    sparse_embedding=sparse_embeddings,\n    location=\":memory:\",\n    collection_name=\"my_documents_custom\",\n    content_payload_key=\"my_page_content\",\n    metadata_payload_key=\"my_meta\",\n    vector_name=\"custom_vector\",\n    sparse_vector_name=\"custom_sparse_vector\",\n    retrieval_mode=RetrievalMode.HYBRID,\n)\n</code></pre> <p>\uc774\ub294 \uc678\ubd80\uc5d0\uc11c \uc0dd\uc131\ub41c Qdrant \uceec\ub809\uc158\uc744 LangChain\uc5d0 \uadf8\ub300\ub85c \uc5f0\uacb0\ud560 \ub54c \ub9e4\uc6b0 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/LangChain%EA%B3%BC%20Qdrant/#6","title":"6. \uacb0\ub860","text":"<p>Qdrant\ub294 LangChain\uacfc\uc758 \ud1b5\ud569\uc744 \ud1b5\ud574 \ub2e4\uc591\ud55c \uac80\uc0c9 \uc2dc\ub098\ub9ac\uc624\ub97c \uc720\uc5f0\ud558\uac8c \uc9c0\uc6d0\ud558\uba70, Dense, Sparse, Hybrid \uac80\uc0c9 \ubaa8\ub4dc\ub97c \uae30\ubc18\uc73c\ub85c \ud558\ub294 \uac15\ub825\ud55c RAG \uc2dc\uc2a4\ud15c \uad6c\ucd95\uc774 \uac00\ub2a5\ud558\ub2e4. \uba54\ud0c0\ub370\uc774\ud130 \uae30\ubc18 \ud544\ud130\ub9c1, \ub2e4\uc911 \ubca1\ud130 \uc800\uc7a5, \ubb38\uc11c \uc0ad\uc81c \ubc0f Retriever \ubcc0\ud658\uae4c\uc9c0 \ud3ec\ud568\ud55c \uc804\uccb4 \uae30\ub2a5\uc744 \uc190\uc27d\uac8c \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <p>Qdrant + LangChain\uc740 \ub2e8\uc21c\ud55c \ubca1\ud130 DB \uadf8 \uc774\uc0c1\uc73c\ub85c, LLM \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc704\ud55c \uc2e4\uc9c8\uc801\uc778 \uac80\uc0c9/\ub9ac\ud2b8\ub9ac\ubc8c \uc778\ud504\ub77c\ub85c \uc0ac\uc6a9\ub420 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/%EB%AC%B8%EC%84%9C%20%EA%B8%B0%EB%B0%98%20RAG%20%EA%B5%AC%EC%84%B1/","title":"\ubb38\uc11c \uae30\ubc18 RAG \uad6c\uc131","text":"<p>\uc544\ub798\ub294 FastAPI\ub97c \uc774\uc6a9\ud574 \u201c\ud30c\uc77c \uc5c5\ub85c\ub4dc \u2192 \ub85c\ub4dc(\ud655\uc7a5\uc790\ubcc4) \u2192 \uccad\ud06c(split) \u2192 Qdrant\uc5d0 \uc0c9\uc778(index) \u2192 \uac80\uc0c9(\uc77c\ubc18\u00b7\ud76c\uc18c\u00b7\ud558\uc774\ube0c\ub9ac\ub4dc)\u201d\uae4c\uc9c0 \uc804 \uacfc\uc815\uc744 \ubcf4\uc5ec\uc8fc\ub294 \uc608\uc81c \ucf54\ub4dc\uc774\ub2e4.</p> <pre><code>from fastapi import FastAPI, UploadFile, File, HTTPException\nfrom fastapi.responses import JSONResponse\nfrom tempfile import TemporaryDirectory\nfrom pathlib import Path\nfrom typing import List\nimport uvicorn\n\nfrom langchain.document_loaders import (\n    TextLoader,\n    PyPDFLoader,\n    UnstructuredWordDocumentLoader,\n    UnstructuredPowerPointLoader,\n    UnstructuredMarkdownLoader,\n)\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\nfrom langchain_openai import OpenAIEmbeddings\nfrom langchain_qdrant import QdrantVectorStore, RetrievalMode, FastEmbedSparse\nfrom qdrant_client import QdrantClient\nfrom qdrant_client.http.models import Distance, VectorParams, SparseVectorParams, Filter, FieldCondition, MatchValue\nfrom langchain_core.documents import Document\n\napp = FastAPI()\n\n# 1) \uc784\ubca0\ub529 &amp; Qdrant \ud074\ub77c\uc774\uc5b8\ud2b8 \uc124\uc815\nOPENAI_API_KEY = \"YOUR_OPENAI_API_KEY\"\nQDRANT_URL = \"http://localhost:6333\"\nCOLLECTION = \"uploaded_docs\"\n\n# dense, sparse embedding \uc778\uc2a4\ud134\uc2a4\ndense_embed = OpenAIEmbeddings(model=\"text-embedding-3-small\", api_key=OPENAI_API_KEY)\nsparse_embed = FastEmbedSparse(model_name=\"Qdrant/bm25\")\n\n# Qdrant \ud074\ub77c\uc774\uc5b8\ud2b8\nclient = QdrantClient(url=QDRANT_URL)\n# \uceec\ub809\uc158 \uc0dd\uc131 (\uc5c6\uc73c\uba74)\nif not client.collection_exists(COLLECTION):\n    client.create_collection(\n        collection_name=COLLECTION,\n        vectors_config={\"dense\": VectorParams(size=dense_embed.dim, distance=Distance.COSINE)},\n        sparse_vectors_config={\"sparse\": SparseVectorParams(index=models.SparseIndexParams(on_disk=False))},\n    )\n\n# 2) \ud30c\uc77c \u2192 Document \ub85c\ub354 \uc120\ud0dd \ud568\uc218\ndef load_document(path: Path) -&gt; List[Document]:\n    suffix = path.suffix.lower()\n    if suffix == \".txt\":\n        loader = TextLoader(str(path), encoding=\"utf-8\")\n    elif suffix in {\".pdf\"}:\n        loader = PyPDFLoader(str(path))\n    elif suffix in {\".docx\", \".doc\"}:\n        loader = UnstructuredWordDocumentLoader(str(path))\n    elif suffix in {\".pptx\", \".ppt\"}:\n        loader = UnstructuredPowerPointLoader(str(path))\n    elif suffix in {\".md\", \".markdown\"}:\n        loader = UnstructuredMarkdownLoader(str(path))\n    else:\n        raise ValueError(f\"\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud30c\uc77c \ud655\uc7a5\uc790: {suffix}\")\n    return loader.load()\n\n# 3) \ud14d\uc2a4\ud2b8 \uccad\ud06c(split)\ntext_splitter = RecursiveCharacterTextSplitter(\n    chunk_size=1000,\n    chunk_overlap=200\n)\n\n# 4) \uc0c9\uc778 \ud568\uc218\ndef index_documents(docs: List[Document]):\n    # \ubaa8\ub4e0 \uccad\ud06c \uc0dd\uc131\n    chunks = []\n    for doc in docs:\n        chunks += text_splitter.split_documents([doc])\n    # Qdrant VectorStore\n    store = QdrantVectorStore(\n        client=client,\n        collection_name=COLLECTION,\n        embedding=dense_embed,\n        sparse_embedding=sparse_embed,\n        retrieval_mode=RetrievalMode.HYBRID,\n        vector_name=\"dense\",\n        sparse_vector_name=\"sparse\",\n    )\n    # bulk upsert\n    ids = store.add_documents(documents=chunks)\n    return ids\n\n# 5) \uc5c5\ub85c\ub4dc \uc5d4\ub4dc\ud3ec\uc778\ud2b8\n@app.post(\"/upload\")\nasync def upload(files: List[UploadFile] = File(...)):\n    try:\n        all_docs = []\n        with TemporaryDirectory() as tmp:\n            tmp_path = Path(tmp)\n            for f in files:\n                dest = tmp_path / f.filename\n                content = await f.read()\n                dest.write_bytes(content)\n                all_docs += load_document(dest)\n        ids = index_documents(all_docs)\n        return JSONResponse({\"indexed_ids\": ids, \"count\": len(ids)})\n    except ValueError as e:\n        raise HTTPException(status_code=400, detail=str(e))\n\n# 6) \uac80\uc0c9 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\n@app.get(\"/search\")\ndef search(\n    q: str,\n    mode: str = \"hybrid\",  # 'dense', 'sparse', 'hybrid'\n    k: int = 3,\n    filter_text: str = None\n):\n    # \uc801\uc808\ud55c RetrievalMode \ubc0f VectorStore \uc120\ud0dd\n    mode = mode.lower()\n    if mode == \"dense\":\n        store = QdrantVectorStore(client, COLLECTION, embedding=dense_embed,\n                                  retrieval_mode=RetrievalMode.DENSE, vector_name=\"dense\")\n        results = store.similarity_search(q, k=k)\n    elif mode == \"sparse\":\n        store = QdrantVectorStore(client, COLLECTION, sparse_embedding=sparse_embed,\n                                  retrieval_mode=RetrievalMode.SPARSE, sparse_vector_name=\"sparse\")\n        results = store.similarity_search(q, k=k)\n    elif mode == \"hybrid\":\n        store = QdrantVectorStore(client, COLLECTION, embedding=dense_embed, sparse_embedding=sparse_embed,\n                                  retrieval_mode=RetrievalMode.HYBRID, vector_name=\"dense\", sparse_vector_name=\"sparse\")\n        # \uba54\ud0c0\ud544\ud130 \uc608\uc81c\n        flt = None\n        if filter_text:\n            flt = Filter(should=[FieldCondition(\n                key=\"page_content\",\n                match=MatchValue(value=filter_text)\n            )])\n        # \uc810\uc218\uae4c\uc9c0 \ubc18\ud658\n        results = store.similarity_search_with_score(q, k=k, filter=flt)\n    else:\n        raise HTTPException(status_code=400, detail=\"mode\ub294 dense, sparse, hybrid \uc911 \ud558\ub098\uc5ec\uc57c \ud569\ub2c8\ub2e4.\")\n    # \ubc18\ud658 \ud3ec\ub9f7\n    return JSONResponse({\n        \"mode\": mode,\n        \"query\": q,\n        \"results\": [\n            {\"text\": d.page_content, \"score\": float(s) if isinstance(s, (int, float)) else None}\n            for d, s in (results if mode==\"hybrid\" else [(d, None) for d in results])\n        ]\n    })\n\nif __name__ == \"__main__\":\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n</code></pre> <p>\uc124\uba85 \uc815\ub9ac</p> <ol> <li> <p>\ud30c\uc77c \uc5c5\ub85c\ub4dc(<code>/upload</code>)</p> <ul> <li> <p>\ub2e4\uc591\ud55c \ud655\uc7a5\uc790(<code>.txt</code>, <code>.pdf</code>, <code>.docx</code>, <code>.pptx</code>, <code>.md</code>) \uc9c0\uc6d0</p> </li> <li> <p>\uc784\uc2dc \ub514\ub809\ud130\ub9ac\uc5d0 \uc800\uc7a5 \ud6c4 \uac01 \ub85c\ub354\ub85c <code>Document</code> \uac1d\uccb4 \uc0dd\uc131</p> </li> </ul> </li> <li> <p>\uccad\ud06c(split)</p> <ul> <li><code>RecursiveCharacterTextSplitter</code>\ub85c <code>chunk_size=1000</code>, <code>overlap=200</code> \uc124\uc815</li> </ul> </li> <li> <p>\uc0c9\uc778(index)</p> <ul> <li><code>RetrievalMode.HYBRID</code>\ub85c \uceec\ub809\uc158\uc5d0 dense+sparse \ubca1\ud130 \ud568\uaed8 \uc800\uc7a5</li> </ul> </li> <li> <p>\uac80\uc0c9(<code>/search</code>)</p> <ul> <li> <p><code>mode=dense|sparse|hybrid</code> \uc635\uc158</p> </li> <li> <p>hybrid \ubaa8\ub4dc \uc2dc score \ubc18\ud658, optional metadata \ud544\ud130\ub9c1 \uc9c0\uc6d0</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/%EC%9D%98%EB%AF%B8%EB%A1%A0%EC%A0%81%20Chunk/","title":"\uc758\ubbf8\ub860\uc801 Chunk","text":"<p>\ub300\ud45c\uc801\uc778 \ubc29\ubc95\uc740 \ubb38\uc7a5\uc744 \ub2e8\uc704\ub85c \ub098\ub208 \ub4a4, \uac01 \ubb38\uc7a5\uc758 \uc784\ubca0\ub529(\ubca1\ud130)\uc744 \uacc4\uc0b0\ud574 \u201c\uc758\ubbf8\uc801\uc73c\ub85c \uc720\uc0ac\ud55c\u201d \ubb38\uc7a5\ub4e4\uc744 \ud558\ub098\uc758 \uccad\ud06c\ub85c \ubb36\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4. </p> <p>\uc544\ub798 \uc608\uc2dc\ub294 OpenAIEmbeddings\ub97c \uc774\uc6a9\ud574 \uac04\ub2e8\ud55c semantic chunking \ud568\uc218\ub97c \uad6c\ud604\ud558\uace0, \uae30\uc874 \uace0\uc815 \uae38\uc774 \uccad\ud06c \ub300\uc2e0 \uc801\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4.</p> <pre><code>import nltk\nimport numpy as np\nfrom nltk.tokenize import sent_tokenize\nfrom langchain_core.documents import Document\nfrom langchain_openai import OpenAIEmbeddings\n\nnltk.download('punkt')  # \ucd5c\ucd08 1\ud68c\ub9cc\n\n# 1) \uc784\ubca0\ub529 \uac1d\uccb4 (\uae30\uc874 \uc124\uc815 \uadf8\ub300\ub85c \uc7ac\uc0ac\uc6a9)\nembedder = OpenAIEmbeddings(\n    model=\"text-embedding-3-small\",\n    api_key=\"YOUR_OPENAI_API_KEY\",\n)\n\ndef semantic_chunk(text: str,\n                   embedder: OpenAIEmbeddings,\n                   threshold: float = 0.75\n                  ) -&gt; list[str]:\n    \"\"\"\n    1) \ubb38\uc7a5 \ub2e8\uc704\ub85c \ubd84\ud560\n    2) \uac01 \ubb38\uc7a5 \uc784\ubca0\ub529 \uacc4\uc0b0\n    3) \uc21c\ucc28\uc801\uc73c\ub85c \uc720\uc0ac\ub3c4\uac00 threshold \uc774\uc0c1\uc774\uba74 \uac19\uc740 \uccad\ud06c\uc5d0 \ucd94\uac00,\n       \uc544\ub2c8\uba74 \uc0c8 \uccad\ud06c\ub85c \ubd84\ub9ac\n    \"\"\"\n    sents = sent_tokenize(text)\n    embs = embedder.embed_documents(sents)  # \ubb38\uc7a5\ubcc4 \ubca1\ud130 \ub9ac\uc2a4\ud2b8\n\n    chunks = []\n    curr_sents, curr_embs = [], []\n    for sent, emb in zip(sents, embs):\n        if not curr_sents:\n            curr_sents, curr_embs = [sent], [emb]\n        else:\n            avg_emb = np.mean(curr_embs, axis=0)\n            sim = np.dot(emb, avg_emb) / (np.linalg.norm(emb) * np.linalg.norm(avg_emb))\n            if sim &gt;= threshold:\n                curr_sents.append(sent)\n                curr_embs.append(emb)\n            else:\n                chunks.append(\" \".join(curr_sents))\n                curr_sents, curr_embs = [sent], [emb]\n    if curr_sents:\n        chunks.append(\" \".join(curr_sents))\n\n    return chunks\n\n# \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n# \uae30\uc874 \uccad\ud06c \ucf54\ub4dc \ub300\uc2e0 \uc774 semantic_chunk\ub97c \uc801\uc6a9\n\nfrom langchain.document_loaders import TextLoader\nfrom qdrant_client import QdrantClient\nfrom qdrant_client.http.models import VectorParams, SparseVectorParams, Distance\nfrom langchain_qdrant import QdrantVectorStore, RetrievalMode, FastEmbedSparse\n\n# (1) \ubb38\uc11c \ub85c\ub4dc\nloader = TextLoader(\"example.pdf\")  \ndocs = loader.load()  # Page \ub2e8\uc704 Document \ub9ac\uc2a4\ud2b8\n\n# (2) \uc758\ubbf8 \uae30\ubc18 \uccad\ud06c \uc0dd\uc131\nsemantic_docs = []\nfor doc in docs:\n    chunks = semantic_chunk(doc.page_content, embedder, threshold=0.70)\n    for chunk in chunks:\n        semantic_docs.append(\n            Document(page_content=chunk, metadata=doc.metadata)\n        )\n\n# (3) Qdrant\uc5d0 \uc0c9\uc778\nclient = QdrantClient(url=\"http://localhost:6333\")\nstore = QdrantVectorStore(\n    client=client,\n    collection_name=\"my_semantic_docs\",\n    embedding=embedder,\n    sparse_embedding=FastEmbedSparse(model_name=\"Qdrant/bm25\"),\n    retrieval_mode=RetrievalMode.HYBRID,\n    vector_name=\"dense\",\n    sparse_vector_name=\"sparse\",\n)\nstore.add_documents(documents=semantic_docs)\n</code></pre> <p>\uc694\uc57d</p> <ol> <li> <p>\ubb38\uc7a5\ubcc4 \ubd84\ud560: <code>nltk.sent_tokenize</code> \ub4f1\uc744 \uc774\uc6a9\ud574 \ubb38\uc7a5 \ub9ac\uc2a4\ud2b8\ub85c \ubd84\ub9ac</p> </li> <li> <p>\ubb38\uc7a5 \uc784\ubca0\ub529: <code>embedder.embed_documents(sentences)</code> \ud638\ucd9c</p> </li> <li> <p>\uc720\uc0ac\ub3c4 \uae30\ubc18 \ubb36\uae30: \uc774\uc804 \uccad\ud06c\uc758 \ud3c9\uade0 \uc784\ubca0\ub529\uacfc \uc0c8 \ubb38\uc7a5 \ubca1\ud130 \uac04 cosine \uc720\uc0ac\ub3c4 \ube44\uad50\ud574, threshold \uc774\uc0c1\uc774\uba74 \uac19\uc740 \uccad\ud06c\uc5d0 \ud3ec\ud568</p> </li> <li> <p>Qdrant \uc0c9\uc778: \uae30\uc874\ucc98\ub7fc <code>QdrantVectorStore.add_documents</code>\uc5d0 semantic \uccad\ud06c\ub97c \ub118\uaca8\uc8fc\uba74 \ub05d</p> </li> </ol> <p>\uc774\ub807\uac8c \ud558\uba74 \u201c\uace0\uc815 \ud1a0\ud070 \uc218\u201d\uac00 \uc544\ub2c8\ub77c \u201c\uc758\ubbf8\uc801\uc73c\ub85c \uc77c\uad00\ub41c\u201d \ub2e8\uc704\ub85c \ubb38\uc11c\ub97c \ubd84\ud560\ud574\uc11c \uc0c9\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/%EC%9D%98%EB%AF%B8%EB%A1%A0%EC%A0%81%20Chunk/#_1","title":"\uc7a5\uc810\uacfc \ub2e8\uc810","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/%EC%9D%98%EB%AF%B8%EB%A1%A0%EC%A0%81%20Chunk/#_2","title":"\uc7a5\uc810","text":"<ol> <li> <p>\uc758\ubbf8\uc801 \uc77c\uad00\uc131 \uc720\uc9c0</p> <ul> <li> <p>\uc758\ubbf8 \ub2e8\uc704(\ubb38\uc7a5\u00b7\uc808\u00b7\uac1c\ub150)\ub85c \ubb36\uae30 \ub54c\ubb38\uc5d0 \ud55c \uccad\ud06c \uc548\uc758 \ub0b4\uc6a9\uc774 \uc8fc\uc81c\uc801\uc73c\ub85c \uc751\uc9d1\ub418\uc5b4 \uc788\ub2e4.</p> </li> <li> <p>LLM\uc774\ub098 \ubca1\ud130 \uac80\uc0c9 \uc5d4\uc9c4\uc774 \u201c\ud55c \ub369\uc5b4\ub9ac\uc758 \uc758\ubbf8\u201d\ub97c \ubcf4\ub2e4 \uba85\ud655\ud788 \ud30c\uc545\ud560 \uc218 \uc788\uc5b4, \uac80\uc0c9\u00b7\uc720\uc0ac\ub3c4 \ud3c9\uac00\u00b7\uc694\uc57d \uc815\ud655\ub3c4\uac00 \ud5a5\uc0c1\ub41c\ub2e4.</p> </li> </ul> </li> <li> <p>\uc911\uc694 \uc815\ubcf4 \uc190\uc2e4 \ucd5c\uc18c\ud654</p> <ul> <li> <p>fixed-length splitting\uc740 \ubb38\uc7a5 \uc911\uac04\uc744 \uc790\ub97c \uc218 \uc788\uc5b4 \ubb38\uc7a5\uc774 \ubd84\uc808\ub418\uac70\ub098 \ud575\uc2ec \uc5b4\uad6c\uac00 \uc798\ub9b4 \uc704\ud5d8\uc774 \uc788\ub2e4.</p> </li> <li> <p>semantic chunking\uc740 \ubb38\uc7a5 \uacbd\uacc4(\ub610\ub294 \uc758\ubbf8 \ub2e8\uc704) \ub2e8\uc704\ub85c \ubb36\uc73c\ubbc0\ub85c, \ub9e5\ub77d\uc774 \ub04a\uae30\uc9c0 \uc54a\ub294\ub2e4.</p> </li> </ul> </li> <li> <p>\uc720\uc5f0\ud55c \uccad\ud06c \ud06c\uae30</p> <ul> <li> <p>\ub0b4\uc6a9\uc774 \ub2e8\uc21c\ud55c \ubd80\ubd84\uc740 \ud55c \uccad\ud06c\uac00 \uc791\uac8c, \ubcf5\uc7a1\ud55c \ubd80\ubd84\uc740 \ub354 \uae38\uac8c \uc790\ub3d9 \uc870\uc815\ub418\uc5b4 \uc800\uc7a5\u00b7\ucc98\ub9ac \ud6a8\uc728\uc744 \ub192\uc778\ub2e4.</p> </li> <li> <p>\uc720\uc0ac\ub3c4 \uacc4\uc0b0 \uc2dc\uc5d0\ub3c4 \u201c\ubd88\ud544\uc694\ud55c \ud328\ub529\u201d\uc774\ub098 \u201c\ube48 \uacf5\uac04\u201d\uc774 \uc904\uc5b4\ub4e4\uc5b4 \ubca1\ud130 \ucc28\uc6d0\uc758 \ub0ad\ube44\uac00 \uac10\uc18c\ud55c\ub2e4.</p> </li> </ul> </li> <li> <p>\uac80\uc0c9 \ud488\uc9c8 \uac1c\uc120</p> <ul> <li> <p>\uc758\ubbf8\uc801\uc73c\ub85c \uc751\uc9d1\ub41c \ub2e8\uc704\ub85c \ubca1\ud130\ub97c \ub9cc\ub4e4\uba74, \ud0a4\uc6cc\ub4dc\uac00 \ubd84\uc0b0\ub418\uc9c0 \uc54a\uc544 BM25 \uac19\uc740 sparse \uac80\uc0c9\uc5d0\uc11c\ub3c4 \ub354 \ub192\uc740 \uc815\ud655\ub3c4\ub97c \uae30\ub300\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>Hybrid \uac80\uc0c9 \uc2dc dense\u00b7sparse \ubca1\ud130\uac00 \ubaa8\ub450 \ud1b5\uc77c\ub41c \uc758\ubbf8 \ub2e8\uc704\ub85c \uc815\ub82c\ub418\ubbc0\ub85c, \uacb0\uacfc\uc758 \uc77c\uad00\uc131\uacfc \ub2e4\uc591\uc131\uc774 \ud5a5\uc0c1\ub41c\ub2e4.</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/LangChain/%EC%9D%98%EB%AF%B8%EB%A1%A0%EC%A0%81%20Chunk/#_3","title":"\ub2e8\uc810","text":"<ol> <li> <p>\ucd94\uac00 \uacc4\uc0b0 \ube44\uc6a9</p> <ul> <li> <p>\ubb38\uc7a5 \ud1a0\ud06c\ub098\uc774\uc800(Punkt, spaCy \ub4f1)\ub85c \ubd84\ud560 \ud6c4, \uac01 \ubb38\uc7a5\uc5d0 \ub300\ud574 \uc784\ubca0\ub529\uc744 \uacc4\uc0b0\ud574\uc57c \ud558\ubbc0\ub85c API \ud638\ucd9c \ud69f\uc218\u00b7\uc5f0\uc0b0\ub7c9\uc774 \ud06c\uac8c \ub298\uc5b4\ub09c\ub2e4.</p> </li> <li> <p>\uc804\uccb4 \ubb38\uc11c\uc5d0 \ubb38\uc7a5 \uc218\ub9cc\ud07c \ubca1\ud130 \uc5f0\uc0b0\uc744 \uc218\ud589\ud558\ubbc0\ub85c, \uace0\uc815 \uae38\uc774 \uccad\ud06c \ub300\ube44 \uc9c0\uc5f0(latency)\uacfc \ube44\uc6a9\uc774 \uc0c1\uc2b9\ud55c\ub2e4.</p> </li> </ul> </li> <li> <p>\ud30c\ub77c\ubbf8\ud130 \ud29c\ub2dd \ubcf5\uc7a1\uc131</p> <ul> <li> <p>\uc720\uc0ac\ub3c4 \uc784\uacc4\uac12(threshold), \ubb38\uc7a5 \uadf8\ub8f9\ud654 \ub85c\uc9c1 \ub4f1 \ud558\uc774\ud37c\ud30c\ub77c\ubbf8\ud130\ub97c \uc801\uc808\ud788 \uc124\uc815\ud574\uc57c \ud55c\ub2e4.</p> </li> <li> <p>threshold\uac00 \ub108\ubb34 \ub192\uc73c\uba74 \uccad\ud06c\uac00 \uc791\uac8c \ucabc\uac1c\uc9c0\uace0(\uacfc\ub3c4 \ubd84\ud560), \ub0ae\uc73c\uba74 \ubb36\uc74c\uc774 \uacfc\ub3c4\ud574\uc838(\uacfc\ub2e4 \ubcd1\ud569) \uc758\ubbf8 \uc9d1\uc911\ub3c4\uac00 \ub5a8\uc5b4\uc9c8 \uc218 \uc788\ub2e4.</p> </li> </ul> </li> <li> <p>\ubcc0\ub3d9\ud558\ub294 \uccad\ud06c \ud06c\uae30</p> <ul> <li> <p>\uccad\ud06c \uae38\uc774\uac00 \uace0\uc815\ub418\uc9c0 \uc54a\uc544, Q&amp;A\ub098 LLM \uccb4\uc778\uc5d0 \ub118\uae38 \ub54c \ud1a0\ud070 \uc218 \uad00\ub9ac\uac00 \uc5b4\ub835\ub2e4.</p> </li> <li> <p>\uc608\uce21 \ubd88\uac00\ub2a5\ud55c \uae38\uc774\ub85c \uc778\ud574 \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \ucee8\ud14d\uc2a4\ud2b8 \ud06c\uae30\ub97c \ucd08\uacfc\ud560 \uc704\ud5d8\uc774 \uc788\ub2e4.</p> </li> </ul> </li> <li> <p>\uc784\ubca0\ub529 \ud488\uc9c8 \uc758\uc874\uc131</p> <ul> <li> <p>semantic chunking\uc758 \ud575\uc2ec\uc740 \uc784\ubca0\ub529\uc758 \ud488\uc9c8\uc5d0 \ub2ec\ub824 \uc788\ub2e4.</p> </li> <li> <p>\uc784\ubca0\ub529 \ubaa8\ub378 \uc131\ub2a5\uc774 \ub0ae\uac70\ub098 \ub3c4\uba54\uc778\uacfc \ub9de\uc9c0 \uc54a\uc73c\uba74, \uc720\uc0ac\ub3c4 \uacc4\uc0b0 \uc790\uccb4\uac00 \ubd80\uc815\ud655\ud574\uc838 \uc624\ud788\ub824 \uc798\ubabb\ub41c \uccad\ud06c\uac00 \uc0dd\uc131\ub420 \uc218 \uc788\ub2e4.</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Capacity%20Planning/","title":"Capacity Planning","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Capacity%20Planning/#1-ram","title":"1. \uba54\ubaa8\ub9ac(RAM) \uc0b0\uc815","text":"<p>\ubca1\ud130\ub97c \ubaa8\ub450 \uba54\ubaa8\ub9ac\uc5d0 \uc801\uc7ac\ud574 \ucd5c\uc801\uc758 \uac80\uc0c9 \uc18d\ub3c4\ub97c \ub0b4\uace0 \uc2f6\ub2e4\uba74 \ub2e4\uc74c \uc2dd\uc73c\ub85c \ub300\ub7b5\uc801\uc778 RAM \uc6a9\ub7c9\uc744 \uacc4\uc0b0\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>\uba54\ubaa8\ub9ac = \ubca1\ud130 \uc218 \u00d7 \ucc28\uc6d0 \uc218 \u00d7 4\ubc14\uc774\ud2b8 \u00d7 1.5\n</code></pre> <p>\ub9c8\uc9c0\ub9c9 1.5\ubc30\ub294 HNSW \uadf8\ub798\ud504\u00b7\uba54\ud0c0\ub370\uc774\ud130\u00b7\uc784\uc2dc \uc138\uadf8\uba3c\ud2b8 \ub4f1 \ubd80\uac00 \uc624\ubc84\ud5e4\ub4dc\ub97c \uace0\ub824\ud55c \uac12\uc774\ub2e4. \uc608\ub97c \ub4e4\uc5b4 1,000,000\uac1c\uc758 1,024\ucc28\uc6d0 \ubca1\ud130\ub97c \uba54\ubaa8\ub9ac\uc5d0 \uc62c\ub9b0\ub2e4\uba74</p> <pre><code>1,000,000 \u00d7 1,024 \u00d7 4 \u00d7 1.5 \u2252 5.7 GB\n</code></pre> <p>\ud301</p> <ul> <li> <p>\uc591\uc774 \ubc29\ub300\ud558\ub2e4\uba74 \uc591\uc790\ud654(Quantization)\ub97c \uc801\uc6a9\ud574 \ud544\uc694\ud55c RAM\uc744 \ucd94\uac00\ub85c \uc904\uc77c \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uba54\ubaa8\ub9ac\uc5d0 \uc62c\ub9b4 \ubca1\ud130 \uc591\uc744 \uc808\ubc18\uc73c\ub85c \uc904\uc774\uba74 \uc9c0\uc5f0 \uc2dc\uac04(latency)\uc774 \ub300\ub7b5 2\ubc30 \uc99d\uac00\ud55c\ub2e4\uace0 \uac00\uc815\ud558\uba74 \ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Capacity%20Planning/#2","title":"2. \ud398\uc774\ub85c\ub4dc \ud06c\uae30 \uc0b0\uc815","text":"<p>\ud398\uc774\ub85c\ub4dc\ub294 \ub370\uc774\ud130 \uad6c\uc870\uc5d0 \ub530\ub77c \ud3b8\ucc28\uac00 \ud06c\ub2e4.</p> \ud0c0\uc785 \uc608\uc2dc \ud06c\uae30 \uc124\uba85 \ubb38\uc790\uc5f4 \uae38\uc774\uc5d0 \ube44\ub840 \ud14d\uc2a4\ud2b8 \uae38\uc774\uc640 \uc778\ucf54\ub529 \ubc29\uc2dd\uc5d0 \uc601\ud5a5 int64/float64 8 B \uc22b\uc790\ud615 bool 1 B \ubd88\ub9ac\uc5b8 <p>\ud398\uc774\ub85c\ub4dc \ucd1d \ud06c\uae30\ub294 \ub2e4\uc74c \uc2dd\uc73c\ub85c \ucd94\uc815\ud55c\ub2e4.</p> <pre><code>\ucd1d \ud398\uc774\ub85c\ub4dc = \ud3ec\uc778\ud2b8 \uc218 \u00d7 \ub2e8\uc77c \ud398\uc774\ub85c\ub4dc \ud06c\uae30 \u00d7 1.5\n</code></pre> <p>\uc608\ub97c \ub4e4\uc5b4 5 KB JSON \ud398\uc774\ub85c\ub4dc\ub97c \uac00\uc9c4 1 M \ud3ec\uc778\ud2b8\ub77c\uba74 \uc57d 4.77 GB\ub97c \uc608\uc0c1\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Capacity%20Planning/#3-ram","title":"3. RAM \u2194 \ub514\uc2a4\ud06c \ubc30\uce58 \uc804\ub7b5","text":"\uc2dc\ub098\ub9ac\uc624 \uad8c\uc7a5 \uc124\uc815 \ub300\uaddc\ubaa8 \ubca1\ud130, \ud3c9\uade0 \uc9c0\uc5f0 \ud5c8\uc6a9 \uba54\ubaa8\ub9ac \ub9e4\ud551(mmap). \ubca1\ud130\ub294 \ub514\uc2a4\ud06c\uc5d0 \ub450\uace0 \uc790\uc8fc \uc870\ud68c\ub418\ub294 \uc77c\ubd80\ub9cc \uce90\uc2dc \ub2e4\uc911 \ud14c\ub10c\ud2b8/\uc11c\ube0c\uadf8\ub8f9 \uac80\uc0c9 \uba54\ubaa8\ub9ac \ub9e4\ud551 + \ud14c\ub10c\ud2b8\ubcc4 \uc11c\ube0c\uc14b\ub9cc \uce90\uc2dc \uc804\uccb4\ub97c \uba54\ubaa8\ub9ac\uc5d0 \ucda9\ubd84\ud55c RAM \ud655\ubcf4, \uc55e\uc758 \uacc4\uc0b0\uc2dd \ucc38\uace0 <p>\ub514\uc2a4\ud06c I/O \uc18d\ub3c4 \uc5ed\uc2dc \uc131\ub2a5\uc5d0 \ud070 \uc601\ud5a5\uc744 \ubbf8\uce5c\ub2e4. Qdrant Cloud \uace0\uc6a9\ub7c9 \uac80\uc0c9\uc774 \ud544\uc694\ud558\ub2e4\uba74 \ubb38\uc758\ub97c \uad8c\uc7a5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Capacity%20Planning/#4-qdrant-cloud","title":"4. \ub514\uc2a4\ud06c \ud655\uc7a5(Qdrant Cloud)","text":"<p>UI\uc5d0\uc11c Scale Up \uae30\ub2a5\uc73c\ub85c \ub514\uc2a4\ud06c\ub97c \ub298\ub9b4 \uc218 \uc788\ub2e4. \ud55c \ubc88 \ub298\ub9b0 \ub514\uc2a4\ud06c\ub294 \uc904\uc77c \uc218 \uc5c6\uc73c\ubbc0\ub85c \uacc4\ud68d\uc801\uc73c\ub85c \uacb0\uc815\ud574\uc57c \ud55c\ub2e4.</p> <p>\ud655\uc7a5 \uc774\uc810</p> <ul> <li> <p>\ub354 \ud070 \ub370\uc774\ud130\uc14b \uc800\uc7a5 \u2192 \uac80\uc0c9 \ud488\uc9c8 \ud5a5\uc0c1</p> </li> <li> <p>HNSW \ub4f1 \uace0\uae09 \uc778\ub371\uc2a4 \uc801\uc6a9</p> </li> <li> <p>RAM \uc5ec\uc720 \uc99d\uac00 \u2192 \uce90\uc2f1 \ud6a8\uc728 \ud5a5\uc0c1</p> </li> <li> <p>\ubc31\uc5c5 \ubc0f \uc911\ubcf5\uc131 \ud655\ubcf4</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Capacity%20Planning/#5","title":"5. \uc694\uc57d \uacc4\uc0b0 \uc2dd","text":"\ud56d\ubaa9 \uc2dd \ubca1\ud130 \uba54\ubaa8\ub9ac <code>N_vectors \u00d7 dim \u00d7 4B \u00d7 1.5</code> \ud398\uc774\ub85c\ub4dc \uba54\ubaa8\ub9ac <code>N_points \u00d7 payload_size \u00d7 1.5</code> \uc11c\ube0c\uadf8\ub8f9 \uba54\ubaa8\ub9ac <code>N_active_vectors \u00d7 dim \u00d7 4B \u00d7 1.5</code> <p>\ubaa8\ub4e0 \uc218\uce58\ub294 \ucd94\uc815\uce58\uc774\ubbc0\ub85c \uc2e4\uc81c \ub370\uc774\ud130\ub85c \ud504\ub85c\ud30c\uc77c\ub9c1\ud558\uc5ec \uac80\uc99d\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \uc815\ud655\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/","title":"Codebase with Semantic Search","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#1","title":"1. \ubaa9\ud45c \ubc0f \uc811\uadfc \ubc29\uc2dd","text":"<ol> <li> <p>\uc790\uc5f0\uc5b4 \uc9c8\uc758 \u2192 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9</p> <ul> <li>\uc77c\ubc18 \ubb38\uc7a5\uc6a9 \uc784\ubca0\ub529 \ubaa8\ub378: <code>sentence-transformers/all-MiniLM-L6-v2</code></li> </ul> </li> <li> <p>\ucf54\ub4dc \u2194 \ucf54\ub4dc \uc720\uc0ac\ub3c4 \uac80\uc0c9</p> <ul> <li>\ucf54\ub4dc \ud2b9\ud654 \uc784\ubca0\ub529 \ubaa8\ub378: <code>jinaai/jina-embeddings-v2-base-code</code></li> </ul> </li> <li> <p>\ucf54\ub4dc \uc815\uc81c</p> <ul> <li> <p>\uc790\uc5f0\uc5b4 \ubaa8\ub378\uc744 \uc704\ud574 \ud568\uc218\u2006\u00b7\u2006\uad6c\uc870\uccb4 \uc2dc\uadf8\ub2c8\ucc98, \uc8fc\uc11d, \ubaa8\ub4c8 \uc815\ubcf4\ub97c \ubb38\uc7a5 \ud615\ud0dc\ub85c \ubcc0\ud658</p> </li> <li> <p>\ucf54\ub4dc \ud2b9\ud654 \ubaa8\ub378\uc740 \uc6d0\ubcf8 \ucf54\ub4dc\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9</p> </li> </ul> </li> <li> <p>Qdrant \uceec\ub809\uc158</p> <ul> <li><code>text</code> \ubca1\ud130 \uacf5\uac04\uacfc <code>code</code> \ubca1\ud130 \uacf5\uac04\uc744 \ub3d9\uc2dc\uc5d0 \uc800\uc7a5</li> </ul> </li> <li> <p>\uc9c8\uc758 \uc2dc\ub098\ub9ac\uc624</p> <ul> <li> <p>\uc0ac\uc6a9\uc790 \uc9c8\uc758\ub97c \ub450 \ubaa8\ub378\ub85c \ubaa8\ub450 \uc784\ubca0\ub529 \u2192 \uac01\uac01 \uc0c1\uc704 k\uac1c \uc2a4\ub2c8\ud3ab \uac80\uc0c9</p> </li> <li> <p>\ud544\uc694 \uc2dc \uacb0\uacfc\ub97c \ubcd1\ud569\ud558\uac70\ub098 \uadf8\ub8f9\ud551\ud558\uc5ec \ub2e4\uc591\uc131\uacfc \uc815\ud655\ub3c4\ub97c \ud5a5\uc0c1</p> </li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#2","title":"2. \uc18c\uc2a4 \ucf54\ub4dc \ud30c\uc2f1 \u00b7 \uccad\ud06c \ubd84\ud560","text":"\ub2e8\uacc4 \ub0b4\uc6a9 LSIF \ucd94\ucd9c <code>rust-analyzer</code>\ub97c \uc774\uc6a9\ud574 LSP \u2192 LSIF \ud3ec\ub9f7\uc73c\ub85c \ub0b4\ubcf4\ub0c4 \uccad\ud06c \uc815\uc758 \ud568\uc218\u00b7\uba54\uc11c\ub4dc\u00b7struct\u00b7enum \ub4f1 \uc5b8\uc5b4 \ub2e8\uc704\ubcc4\ub85c \ubd84\ud560 JSON \ubb38\uc11c\ud654 \ucf54\ub4dc, \uc2dc\uadf8\ub2c8\ucc98, docstring, \ubaa8\ub4c8\u00b7\ud30c\uc77c \uacbd\ub85c, \ud589 \ubc88\ud638 \ub4f1\uc744 \ud3ec\ud568 <p>\uc608\uc2dc JSON \ud56d\ubaa9</p> <pre><code>{\n  \"name\": \"await_ready_for_timeout\",\n  \"signature\": \"fn await_ready_for_timeout(&amp;self, timeout: Duration) -&gt; bool\",\n  \"code_type\": \"Function\",\n  \"docstring\": \"Return `true` if ready, `false` if timed out.\",\n  \"line_from\": 43,\n  \"line_to\": 51,\n  \"context\": {\n    \"module\": \"common\",\n    \"file_name\": \"is_ready.rs\",\n    \"struct_name\": \"IsReady\",\n    \"snippet\": \"/// Return `true` if ready ... }\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#3-textify","title":"3. \uc790\uc5f0\uc5b4 \ubcc0\ud658 \ud568\uc218 <code>textify</code>","text":"<ol> <li> <p>\ud45c\uae30 \uc815\uaddc\ud654</p> <ul> <li>CamelCase \u2192 snake_case \u2192 \uc790\uc5f0\uc5b4 \ud615\ud0dc</li> </ul> </li> <li> <p>\uc8fc\uc11d\u00b7docstring \ud3ec\ud568</p> </li> <li> <p>\ud15c\ud50c\ub9bf \uc870\ud569</p> <pre><code>\"Function await ready for timeout defined as fn \u2026 in struct Is ready module common file is_ready rs\"\n</code></pre> </li> <li> <p>\ud2b9\uc218\ubb38\uc790 \uc81c\uac70 \ud6c4 \uacf5\ubc31\uc73c\ub85c \uc5f0\uacb0</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#4-qdrant","title":"4. Qdrant \uceec\ub809\uc158 \uc0dd\uc131 \ubc0f \uc5c5\ub85c\ub4dc","text":"<pre><code>from qdrant_client import QdrantClient, models\n\nclient = QdrantClient(\"http://localhost:6333\")   # \ub610\ub294 \ud074\ub77c\uc6b0\ub4dc URL+API Key\n\nclient.create_collection(\n    \"qdrant-sources\",\n    vectors_config={\n        \"text\": models.VectorParams(\n            size=client.get_embedding_size(\"sentence-transformers/all-MiniLM-L6-v2\"),\n            distance=models.Distance.COSINE\n        ),\n        \"code\": models.VectorParams(\n            size=client.get_embedding_size(\"jinaai/jina-embeddings-v2-base-code\"),\n            distance=models.Distance.COSINE\n        )\n    }\n)\n</code></pre> <p>\uc5c5\ub85c\ub4dc \uc608\uc2dc</p> <pre><code>points = [\n    models.PointStruct(\n        id=uuid.uuid4().hex,\n        vector={\n            \"text\":  models.Document(text=text_repr, model=\"sentence-transformers/all-MiniLM-L6-v2\"),\n            \"code\":  models.Document(text=code_src,  model=\"jinaai/jina-embeddings-v2-base-code\")\n        },\n        payload=meta_dict\n    )\n    for text_repr, code_src, meta_dict in zip(text_reprs, code_snippets, structures)\n]\n\nclient.upload_points(\"qdrant-sources\", points=points, batch_size=64)\n</code></pre> <p><code>qdrant-client[fastembed]</code> \ud328\ud0a4\uc9c0\uac00 Document \uac1d\uccb4\ub97c \uc790\ub3d9\uc73c\ub85c \uc784\ubca0\ub529\ud558\uc5ec \uc804\uc1a1\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#5","title":"5. \uc9c8\uc758 \ubc0f \uacb0\uacfc \ubcd1\ud569","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#51","title":"5.1 \ub2e8\uc77c \ubaa8\ub378 \uac80\uc0c9","text":"<pre><code>query = \"How do I count points in a collection?\"\n\nhits_text = client.query_points(\n    \"qdrant-sources\",\n    query=models.Document(text=query, model=\"sentence-transformers/all-MiniLM-L6-v2\"),\n    using=\"text\",\n    limit=5\n).points\n\nhits_code = client.query_points(\n    \"qdrant-sources\",\n    query=models.Document(text=query, model=\"jinaai/jina-embeddings-v2-base-code\"),\n    using=\"code\",\n    limit=5\n).points\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#52","title":"5.2 \ubc30\uce58 \ucffc\ub9ac\ub85c \ub3d9\uc2dc \uac80\uc0c9","text":"<pre><code>responses = client.query_batch_points(\n    \"qdrant-sources\",\n    requests=[\n        models.QueryRequest(\n            query=models.Document(text=query, model=\"sentence-transformers/all-MiniLM-L6-v2\"),\n            using=\"text\", limit=5, with_payload=True\n        ),\n        models.QueryRequest(\n            query=models.Document(text=query, model=\"jinaai/jina-embeddings-v2-base-code\"),\n            using=\"code\", limit=5, with_payload=True\n        ),\n    ],\n)\n# responses[0].points + responses[1].points -&gt; \uacb0\uacfc \ud6c4\ucc98\ub9ac\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#53","title":"5.3 \ubaa8\ub4c8 \ub2e8\uc704 \uadf8\ub8f9\ud551","text":"<pre><code>grouped = client.query_points_groups(\n    collection_name=\"qdrant-sources\",\n    query=models.Document(text=query, model=\"jinaai/jina-embeddings-v2-base-code\"),\n    using=\"code\",\n    group_by=\"context.module\",\n    limit=5, group_size=1\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#6","title":"6. \uc6f9 \ub370\ubaa8 \ub3d9\uc791 \ud750\ub984","text":"<ol> <li> <p>\uc0ac\uc6a9\uc790\uac00 \uc790\uc5f0\uc5b4 \uc9c8\uc758 \uc785\ub825</p> </li> <li> <p>\ub450 \ubaa8\ub378 \ubcd1\ub82c \uc784\ubca0\ub529</p> </li> <li> <p><code>text</code> 5\uac74 + <code>code</code> 20\uac74 \uac80\uc0c9</p> </li> <li> <p>\uacb0\uacfc \uc911\ubcf5\u00b7\uacb9\uce68 \uc2a4\ub2c8\ud3ab \ubcd1\ud569</p> </li> <li> <p>\ud504\ub7f0\ud2b8\uc5d4\ub4dc\uc5d0\uc11c \ucf54\ub4dc \ud558\uc774\ub77c\uc774\ud2b8 \ud45c\uc2dc</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Codebase%20with%20Semantic%20Search/#7","title":"7. \uc815\ub9ac \ubc0f \uad8c\uc7a5 \uc0ac\ud56d","text":"<ul> <li> <p>\uccad\ud06c \ud06c\uae30: \ud568\uc218\u00b7\uba54\uc11c\ub4dc \ub4f1 \ub17c\ub9ac \ub2e8\uc704\ub85c \ub098\ub204\uc5b4\uc57c \ucee8\ud14d\uc2a4\ud2b8 \uc190\uc2e4\uc774 \uc801\ub2e4.</p> </li> <li> <p>\ubaa8\ub378 \uc774\uc911\ud654: \uc790\uc5f0\uc5b4 \ubaa8\ub378\uc740 \uc2dc\uadf8\ub2c8\ucc98\u00b7\uc8fc\uc11d \uae30\ubc18 \ub9e4\uce6d\uc5d0 \uac15\ud558\uace0, \ucf54\ub4dc \ubaa8\ub378\uc740 \ub85c\uc9c1 \uc720\uc0ac\ub3c4\uc5d0 \uac15\ud558\ub2e4.</p> </li> <li> <p>\uacb0\uacfc \ud6c4\ucc98\ub9ac:</p> <ul> <li> <p>\ub7ad\ud0b9 \ud569\uc0b0, \uc911\ubcf5 \uc81c\uac70, \uadf8\ub8f9\ud551\uc73c\ub85c \ub2e4\uc591\uc131\uacfc \uc815\ud655\ub3c4\ub97c \uc870\uc815\ud55c\ub2e4.</p> </li> <li> <p>UI\uc5d0\uc11c \ucf54\ub4dc \uc704\uce58(\ud30c\uc77c\u00b7\ud589 \ubc88\ud638)\uc640 \uc2a4\ub2c8\ud3ab\uc744 \ud568\uaed8 \ud45c\uae30\ud558\uba74 \ud0d0\uc0c9\uc131\uc774 \ub192\uc544\uc9c4\ub2e4.</p> </li> </ul> </li> <li> <p>\uc131\ub2a5: FastEmbed \ub0b4\uc7a5 \uc778\ud37c\ub7f0\uc2a4\ub294 CPU \ubcd1\ub82c\ud654\uac00 \uac00\ub2a5\ud558\ub098, \ud504\ub85c\uc138\uc2a4 \uc218\uac00 \uacfc\ud558\uba74 \uc2a4\uc651\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c \uc8fc\uc758\uac00 \ud544\uc694\ud558\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/","title":"Collection","text":"<p>Qdrant\ub294 \uace0\uc131\ub2a5 \ubca1\ud130 \uac80\uc0c9 \uc5d4\uc9c4\uc774\uba70, \ub2e4\uc591\ud55c \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \uc774 \uae00\uc5d0\uc11c\ub294 Qdrant\uc758 \ud575\uc2ec \uac1c \uc911 \ud558\ub098\uc778 \uceec\ub809\uc158(Collection)\uc5d0 \ub300\ud574 \uc124\uba85\ud558\uace0, \uc124\uc815 \ubc29\ubc95\uacfc \uace0\uae09 \uae30\ub2a5\uae4c\uc9c0 \uc815\ub9ac\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#collection","title":"\uceec\ub809\uc158(Collection)\uc774\ub780 \ubb34\uc5c7\uc778\uac00","text":"<p>Qdrant\uc5d0\uc11c \uceec\ub809\uc158\uc740 \ubca1\ud130(Point)\uc640 \uadf8\uc5d0 \ub530\ub978 Payload\uc758 \ub17c\ub9ac\uc801 \uc9d1\ud569\uc774\ub2e4. \uceec\ub809\uc158 \ub0b4\ubd80\uc758 \ubaa8\ub4e0 \ubca1\ud130\ub294 \ub3d9\uc77c\ud55c \ucc28\uc6d0(dimensionality)\uacfc \ub3d9\uc77c\ud55c \uac70\ub9ac \uce21\uc815 \ubc29\uc2dd(metric)\uc744 \uc0ac\uc6a9\ud574\uc57c \ud558\uba70, \uac80\uc0c9\uc740 \uceec\ub809\uc158 \ub2e8\uc704\ub85c \uc218\ud589\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_1","title":"\uc9c0\uc6d0 \uac70\ub9ac \uce21\uc815 \ubc29\uc2dd","text":"<ul> <li> <p>Dot Product (\ub0b4\uc801)</p> </li> <li> <p>Cosine Similarity (\ucf54\uc0ac\uc778 \uc720\uc0ac\ub3c4)</p> </li> <li> <p>Euclidean Distance (\uc720\ud074\ub9ac\ub514\uc548 \uac70\ub9ac)</p> </li> <li> <p>Manhattan Distance (\ub9e8\ud574\ud2bc \uac70\ub9ac)</p> </li> </ul> <p>Cosine \ubc29\uc2dd\uc740 \ub0b4\ubd80\uc801\uc73c\ub85c \uc815\uaddc\ud654\ub41c \ubca1\ud130\uc5d0 \ub300\ud55c Dot Product\ub85c \uad6c\ud604\ub418\uba70, \uc5c5\ub85c\ub4dc \uc2dc \ubca1\ud130\ub294 \uc790\ub3d9\uc73c\ub85c \uc815\uaddc\ud654\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_2","title":"\uceec\ub809\uc158 \uc0dd\uc131 \uc608\uc2dc","text":"<pre><code>PUT /collections/:collection_name\n{\n  \"vectors\": {\n    \"size\": 300,\n    \"distance\": \"Cosine\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_3","title":"\uc120\ud0dd \uac00\ub2a5\ud55c \ucd94\uac00 \uc124\uc815","text":"\uc124\uc815 \ud0a4 \uc124\uba85 <code>hnsw_config</code> HNSW \uc778\ub371\uc2a4 \uad6c\uc870 \uc124\uc815 <code>wal_config</code> Write-Ahead Log \uad00\ub828 \uc124\uc815 <code>optimizers_config</code> \uc778\ub371\uc2a4 \ucd5c\uc801\ud654 \uc124\uc815 <code>shard_number</code> \uc0e4\ub4dc \uac1c\uc218 <code>on_disk_payload</code> Payload\ub97c \ub514\uc2a4\ud06c\uc5d0\ub9cc \uc800\uc7a5\ud560\uc9c0 \uc5ec\ubd80 <code>quantization_config</code> \ubca1\ud130 \uc591\uc790\ud654 \uc124\uc815 <code>strict_mode_config</code> Strict \ubaa8\ub4dc \uc124\uc815"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_4","title":"\uba40\ud2f0\ud14c\ub10c\uc2dc \uad6c\uc131 \ubc29\ubc95","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_5","title":"\ub2e8\uc77c \uceec\ub809\uc158 \uae30\ubc18 \uba40\ud2f0\ud14c\ub10c\uc2dc","text":"<p>\ub300\ubd80\ubd84\uc758 \uacbd\uc6b0\uc5d0\ub294 \ud558\ub098\uc758 \uceec\ub809\uc158\uc5d0\uc11c payload \uae30\ubc18 \ubd84\ub9ac \ubc29\uc2dd\uc73c\ub85c \uba40\ud2f0\ud14c\ub10c\uc2dc\ub97c \uad6c\uc131\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \ud6a8\uc728\uc801\uc774\ub2e4. \uc774 \ubc29\ubc95\uc740 \uc0ac\uc6a9\uc790 \uac04\uc758 \ub17c\ub9ac\uc801 \uad6c\ubd84\uc774 \uac00\ub2a5\ud558\uba70, \uc2dc\uc2a4\ud15c \uc790\uc6d0\uc744 \uc808\uc57d\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_6","title":"\ub2e4\uc911 \uceec\ub809\uc158 \uc0ac\uc6a9\uc774 \uc801\ud569\ud55c \uacbd\uc6b0","text":"<p>\uc0ac\uc6a9\uc790 \uc218\uac00 \uc801\uace0, \uc0ac\uc6a9\uc790 \uac04 \uc644\uc804\ud55c \uc131\ub2a5 \ub610\ub294 \ub370\uc774\ud130 \uaca9\ub9ac\uac00 \ud544\uc694\ud560 \uacbd\uc6b0\uc5d0\ub294 \uc5ec\ub7ec \uac1c\uc758 \uceec\ub809\uc158\uc744 \uc0dd\uc131\ud558\ub294 \uac83\uc774 \uc801\ud569\ud558\ub2e4. \ub2e8, \uc774 \ubc29\uc2dd\uc740 \uc790\uc6d0 \uc0ac\uc6a9\ub7c9\uc774 \uc99d\uac00\ud560 \uc218 \uc788\uace0, \uac01 \uceec\ub809\uc158 \uac04 \uc131\ub2a5 \uac04\uc12d\uc744 \ubc29\uc9c0\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_7","title":"\uae30\uc874 \uceec\ub809\uc158\uc73c\ub85c\ubd80\ud130 \uc0c8 \uceec\ub809\uc158 \uc0dd\uc131","text":"<pre><code>PUT /collections/new_collection\n{\n  \"vectors\": {\n    \"size\": 300,\n    \"distance\": \"Cosine\"\n  },\n  \"init_from\": {\n    \"collection\": \"existing_collection\"\n  }\n}\n</code></pre> <p><code>init_from</code> \uae30\ub2a5\uc740 \uc2e4\ud5d8 \ub610\ub294 \ud14c\uc2a4\ud2b8 \ubaa9\uc801\uc5d0\ub294 \uc720\uc6a9\ud558\ub098, \uc131\ub2a5 \ubbfc\uac10 \ud658\uacbd\uc5d0\uc11c\ub294 \uc608\uae30\uce58 \uc54a\uc740 \ubd80\ud558\ub97c \uc720\ubc1c\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c \uc8fc\uc758\uac00 \ud544\uc694\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#named-vector","title":"Named Vector\ub97c \uc0ac\uc6a9\ud55c \ub2e4\uc911 \ubca1\ud130 \uad6c\uc131","text":"<p>\ud558\ub098\uc758 \ud3ec\uc778\ud2b8\uc5d0 \uc11c\ub85c \ub2e4\ub978 \uc885\ub958\uc758 \ubca1\ud130\ub97c \uc800\uc7a5\ud558\uace0, \uac01\uac01\uc758 \uc774\ub984\uacfc \uc124\uc815\uc744 \ubcc4\ub3c4\ub85c \uc9c0\uc815\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/multivector_collection\n{\n  \"vectors\": {\n    \"image\": { \"size\": 4, \"distance\": \"Dot\" },\n    \"text\": { \"size\": 8, \"distance\": \"Cosine\" }\n  }\n}\n</code></pre> <p>\uac01 \ubca1\ud130\ub294 \uace0\uc720 \uc774\ub984\uc744 \uac00\uc838\uc57c \ud558\uba70, \ub3c5\ub9bd\uc801\uc73c\ub85c \uc778\ub371\uc2f1 \ubc0f \ucd5c\uc801\ud654 \uc124\uc815\uc774 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#ram","title":"RAM \ub610\ub294 \ub514\uc2a4\ud06c \uae30\ubc18 \ubca1\ud130 \uc800\uc7a5","text":"<p>\uae30\ubcf8\uc801\uc73c\ub85c \ubca1\ud130\ub294 RAM\uc5d0 \uc800\uc7a5\ub418\uc5b4 \ube60\ub978 \uac80\uc0c9\uc774 \uac00\ub2a5\ud558\ub2e4. \uadf8\ub7ec\ub098 <code>on_disk</code> \uc635\uc158\uc744 \ud65c\uc131\ud654\ud558\uba74 \uba54\ubaa8\ub9ac\ub9f5 \uae30\ubc18\uc73c\ub85c \ub514\uc2a4\ud06c\uc5d0 \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PATCH /collections/my_collection\n{\n  \"vectors\": {\n    \"\": { \"on_disk\": true }\n  }\n}\n</code></pre> <p>Named Vector\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 \ubca1\ud130 \uc774\ub984\uc744 \uba85\uc2dc\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#uint8","title":"\uc815\uc218\ud615 \ubca1\ud130 \uc800\uc7a5 (uint8)","text":"<pre><code>PUT /collections/compact_collection\n{\n  \"vectors\": {\n    \"size\": 1024,\n    \"distance\": \"Cosine\",\n    \"datatype\": \"uint8\"\n  }\n}\n</code></pre> <p>uint8 \ud615\uc2dd\uc740 \uba54\ubaa8\ub9ac\ub97c \uc808\uc57d\ud558\uace0 \uac80\uc0c9 \uc18d\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub2e4. \ub2e4\ub9cc, \uc77c\ubd80 \uc815\ubc00\ub3c4 \uc190\uc2e4\uc774 \uc788\uc744 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#sparse-vector","title":"Sparse Vector \uc800\uc7a5","text":"<p>\ud76c\uc18c \ubca1\ud130\ub294 \uac01 \ucc28\uc6d0\uc5d0 \ud574\ub2f9\ud558\ub294 \uac12\ub9cc \uc800\uc7a5\ub418\ub294 \uad6c\uc870\uc774\uba70, \uc8fc\ub85c \ud14d\uc2a4\ud2b8 \uae30\ubc18 \uac80\uc0c9\uc5d0 \uc0ac\uc6a9\ub41c\ub2e4. \uc774\ub984\uc774 \ubc18\ub4dc\uc2dc \ud544\uc694\ud558\uba70, \uac70\ub9ac \uce21\uc815 \ubc29\uc2dd\uc740 Dot\uc73c\ub85c \uace0\uc815\ub41c\ub2e4.</p> <pre><code>PUT /collections/sparse_collection\n{\n  \"sparse_vectors\": {\n    \"text\": {}\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_8","title":"\uceec\ub809\uc158 \uc0c1\ud0dc \ud655\uc778 \ubc0f \uc0ad\uc81c","text":"<ul> <li> <p>\uceec\ub809\uc158 \uc874\uc7ac \uc5ec\ubd80 \ud655\uc778: <code>GET /collections/{collection_name}/exists</code></p> </li> <li> <p>\uceec\ub809\uc158 \uc815\ubcf4 \uc870\ud68c: <code>GET /collections/{collection_name}</code></p> </li> <li> <p>\uceec\ub809\uc158 \uc0ad\uc81c: <code>DELETE /collections/{collection_name}</code></p> </li> </ul> <p>\uceec\ub809\uc158\uc758 \uc0c1\ud0dc\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \ub098\ud0c0\ub09c\ub2e4.</p> \uc0c1\ud0dc \uc124\uba85 green \ucd5c\uc801\ud654 \uc644\ub8cc yellow \ucd5c\uc801\ud654 \uc911 grey \ucd5c\uc801\ud654 \ub300\uae30 \uc911 (\uc5c5\ub370\uc774\ud2b8 \ud544\uc694) red \uc624\ub958 \ubc1c\uc0dd"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#alias","title":"\uceec\ub809\uc158 Alias \uc0ac\uc6a9","text":"<p>Alias\ub294 \uceec\ub809\uc158\uc5d0 \ub300\ud55c \ubcc4\uce6d\uc744 \uc758\ubbf8\ud55c\ub2e4. \uc6b4\uc601 \ud658\uacbd\uc5d0\uc11c\ub294 \ubc84\uc804 \uc804\ud658 \uc2dc \uc720\uc6a9\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/aliases\n{\n  \"actions\": [\n    {\n      \"create_alias\": {\n        \"collection_name\": \"v1_collection\",\n        \"alias_name\": \"prod_collection\"\n      }\n    }\n  ]\n}\n</code></pre> <p>\uae30\uc874 alias\ub97c \ub2e4\ub978 \uceec\ub809\uc158\uc73c\ub85c \uad50\uccb4\ud560 \uacbd\uc6b0\uc5d0\ub294 \uc6d0\uc790\uc801 \ucc98\ub9ac\ub85c <code>delete_alias</code> \u2192 <code>create_alias</code>\ub97c \ud568\uaed8 \uc218\ud589\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_9","title":"\ubca1\ud130/\ud3ec\uc778\ud2b8 \uc218 \ud655\uc778","text":"<ul> <li> <p><code>points_count</code>: \uc804\uccb4 \ud3ec\uc778\ud2b8 \uc218</p> </li> <li> <p><code>vectors_count</code>: \uc804\uccb4 \ubca1\ud130 \uc218</p> </li> <li> <p><code>indexed_vectors_count</code>: \uc778\ub371\uc2f1\ub41c \ubca1\ud130 \uc218 (HNSW \ub4f1)</p> </li> </ul> <p>\uc774 \uac12\ub4e4\uc740 \ub0b4\ubd80 \ucd5c\uc801\ud654 \uc0c1\ud0dc\uc5d0 \ub530\ub77c \ubcc0\ub3d9\ub418\uba70, \uc815\ud655\ud55c \uc218\uce58\ub97c \uc704\ud574\uc11c\ub294 count API\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \ubc14\ub78c\uc9c1\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Collection/#_10","title":"\uacb0\ub860","text":"<p>Qdrant\uc758 \uceec\ub809\uc158\uc740 \ub2e8\uc21c\ud55c \ubca1\ud130 \uc800\uc7a5\uc18c\ub97c \ub118\uc5b4\uc11c, \ub2e4\uc591\ud55c \uad6c\uc131 \uc635\uc158\uacfc \uc6b4\uc601 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \ub2e4\uc911 \ubca1\ud130 \uad6c\uc131, \uba40\ud2f0\ud14c\ub10c\uc2dc, \ub514\uc2a4\ud06c \uc800\uc7a5, \uc591\uc790\ud654 \ubc0f alias \uae30\ub2a5\uc740 \uc2e4\ubb34 \ud658\uacbd\uc5d0\uc11c \uc720\uc6a9\ud558\uac8c \ud65c\uc6a9\ub420 \uc218 \uc788\ub2e4. \uceec\ub809\uc158\uc758 \uad6c\uc870\uc640 \uc124\uc815\uc744 \uc798 \uc774\ud574\ud558\uace0 \ud65c\uc6a9\ud55c\ub2e4\uba74, Qdrant\ub97c \ud1b5\ud574 \uace0\uc131\ub2a5 \ubca1\ud130 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/","title":"Distributed deployment","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#1","title":"1. \ub178\ub4dc \uc218 \uacb0\uc815","text":"<p>Qdrant \ud074\ub7ec\uc2a4\ud130\uc758 \ub178\ub4dc \uc218\ub294 \ube44\uc6a9\u00b7\uc7a5\uc560 \ud5c8\uc6a9\uc131(\ub0b4\uad6c\uc131)\u00b7\uc131\ub2a5 \uac04\uc758 \uc6b0\uc120\uc21c\uc704\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c4\ub2e4.</p> \uc6b0\uc120\uc21c\uc704 \uad8c\uc7a5 \uad6c\uc131 \uc7a5\uc810 \ub2e8\uc810 \ube44\uc6a9 \uc808\uac10 \ub2e8\uc77c \ub178\ub4dc \uc778\ud504\ub77c \ube44\uc6a9 \ucd5c\uc18c \uc7a5\uc560 \uc2dc \uc989\uc2dc \ub2e4\uc6b4\ud0c0\uc784 \ubc1c\uc0dd, \uc601\uad6c \uc190\uc2e4 \ubcf5\uad6c \ubd88\uac00 \ub0b4\uad6c\uc131 \ucd5c\uc6b0\uc120 3\uac1c \uc774\uc0c1 \ub178\ub4dc + 2-\ubc30\uc218 \ubcf5\uc81c \ub178\ub4dc 1\uac1c \uc7a5\uc560 \uc2dc\uc5d0\ub3c4 \uc77d\uae30\u00b7\uc4f0\uae30\u00b7\uceec\ub809\uc158 \uc791\uc5c5 \uc9c0\uc18d, \uc601\uad6c \uc190\uc2e4 \ubcf5\uad6c \uac00\ub2a5, \ub85c\ub4dc\ubc38\ub7f0\uc2a4\ub85c \uc131\ub2a5 \ud5a5\uc0c1 \ube44\uc6a9 \uc99d\uac00 \uade0\ud615\ud615 2\uac1c \ub178\ub4dc + \ubcf5\uc81c \ub178\ub4dc 1\uac1c \uc7a5\uc560 \uc2dc \ub300\ubd80\ubd84\uc758 \uc77d\uae30\u00b7\uc4f0\uae30 \uac00\ub2a5, \ube44\uc6a9\uc740 3\ub178\ub4dc\ubcf4\ub2e4 \uc800\ub834 \uceec\ub809\uc158 \uc791\uc5c5(\uc0dd\uc131\u00b7\uc218\uc815\u00b7\uc0ad\uc81c)\uc740 \uc911\ub2e8, \uc601\uad6c \uc190\uc2e4 \ubcf5\uad6c \ubd88\uac00 <p>\uc694\uc57d\ud558\uba74 \ub2e8\uc77c \ub178\ub4dc\ub294 \ube44\ud504\ub85c\ub355\uc158, 3+ \ub178\ub4dc \ubcf5\uc81c \ud074\ub7ec\uc2a4\ud130\uac00 \uad8c\uc7a5, 2\ub178\ub4dc \ubcf5\uc81c\ub294 \ube44\uc6a9\u00b7\uc131\ub2a5 \uc808\ucda9\uc548\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#2","title":"2. \uc790\uccb4 \ud638\uc2a4\ud305\uc5d0\uc11c \ubd84\uc0b0 \ubaa8\ub4dc \ud65c\uc131\ud654","text":"<ol> <li> <p>\ud658\uacbd \ubcc0\uc218 \ub610\ub294 \uc124\uc815</p> <pre><code>cluster:\n  enabled: true\n  p2p:\n    port: 6335      # \ub0b4\ubd80 \ud1b5\uc2e0 \ud3ec\ud2b8\n  consensus:\n    tick_period_ms: 100\n</code></pre> <p>\ud639\uc740 <code>QDRANT__CLUSTER__ENABLED=true</code> \uc9c0\uc815.</p> </li> <li> <p>\uccab \ubc88\uc9f8 \ub178\ub4dc \uae30\ub3d9</p> <pre><code>./qdrant --uri 'http://node1:6335'\n</code></pre> </li> <li> <p>\ucd94\uac00 \ub178\ub4dc \ud569\ub958</p> <pre><code>./qdrant --bootstrap 'http://node1:6335'\n# \ud544\uc694 \uc2dc --uri \ub85c \uc790\uc2e0 \uc8fc\uc18c \uba85\uc2dc\n</code></pre> </li> <li> <p>\uc0c1\ud0dc \ud655\uc778</p> <pre><code>GET /cluster\n</code></pre> </li> </ol> <p>\ubd84\uc0b0 \ubaa8\ub4dc \ud65c\uc131\ud654\ub9cc\uc73c\ub85c \ub370\uc774\ud130\uac00 \uc790\ub3d9 \ubcf5\uc81c\ub418\uc9c0 \uc54a\ub294\ub2e4. Replication \uc124\uc815 \ub610\ub294 Shard \uc774\ub3d9 \ub2e8\uacc4\uac00 \ud544\uc694\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#3-qdrant-cloud","title":"3. Qdrant Cloud\uc5d0\uc11c \ubd84\uc0b0 \ubaa8\ub4dc","text":"<ul> <li> <p>\ud074\ub7ec\uc2a4\ud130 \ubc84\uc804\uc744 v1.7.4 \uc774\uc0c1\uc73c\ub85c \uc720\uc9c0\ud558\uba74 \uc548\uc815\uc131\uc774 \ub192\ub2e4.</p> </li> <li> <p>Cloud \ucf58\uc194\uc758 Scale Up\uc73c\ub85c \ub178\ub4dc \uc218\ub97c 2 \uc774\uc0c1\uc73c\ub85c \ub298\ub9ac\uba74 \ubd84\uc0b0 \ubaa8\ub4dc\uac00 \uc790\ub3d9 \uc124\uc815\ub41c\ub2e4.</p> </li> <li> <p>\uc0c8 \ub178\ub4dc\ub294 \ube44\uc5b4 \uc788\uc73c\ubbc0\ub85c \uc0c8 \uceec\ub809\uc158 \uc0dd\uc131 \ub610\ub294 \uc0e4\ub4dc \ubcf5\uc81c/\uc774\ub3d9\uc73c\ub85c \ub370\uc774\ud130\ub97c \ubd84\uc0b0\ud574\uc57c \ud55c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#4","title":"4. \uc0e4\ub529 \uac1c\uc694","text":"<ul> <li> <p>Shard: \ud3ec\uc778\ud2b8\ub97c \uc800\uc7a5\u00b7\uac80\uc0c9\ud558\ub294 \ub3c5\ub9bd \ub2e8\uc704</p> </li> <li> <p>\uc790\ub3d9 \uc0e4\ub529(\uae30\ubcf8): \uc77c\uad00 \ud574\uc2dc\ub85c \ubd84\ubc30</p> </li> <li> <p>\uc0ac\uc6a9\uc790 \uc815\uc758 \uc0e4\ub529: <code>sharding_method: custom</code> \ub85c \uc9c0\uc815, <code>shard_key</code> \ubcc4\ub85c \ud3ec\uc778\ud2b8 \uc5c5\ub85c\ub4dc</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#_1","title":"\uc0e4\ub4dc \uc218 \uc120\ud0dd","text":"<ul> <li> <p><code>shard_number</code>\ub294 \ub178\ub4dc \uc218\uc758 \ubc30\uc218\ub85c \uc124\uc815\ud55c\ub2e4.</p> </li> <li> <p>\ub178\ub4dc\ub2f9 \ucd5c\uc18c 2\uc0e4\ub4dc\ub97c \uad8c\uc7a5\ud558\uba70, \ubbf8\ub798 \ud655\uc7a5\uc744 \uace0\ub824\ud574 12\uc0e4\ub4dc \uad6c\uc131\uc774 \ubb34\ub09c\ud558\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#5","title":"5. \ub178\ub4dc \uc7a5\uc560 \ubcf5\uad6c \uc2dc\ub098\ub9ac\uc624","text":"\uc0c1\ud669 \ub2e8\uc77c \ub178\ub4dc 2\ub178\ub4dc(\ubbf8\ubcf5\uc81c) 2\ub178\ub4dc(\ubcf5\uc81c) 3+\ub178\ub4dc(\ubcf5\uc81c) \uc77c\uc2dc\uc801 \ub2e4\uc6b4 \uc804\uccb4 \uc911\ub2e8 \uc804\uccb4 \uc911\ub2e8 \uceec\ub809\uc158 \uc791\uc5c5 \uc81c\uc678 \uc815\uc0c1 \uc644\uc804 \uc815\uc0c1 \uc601\uad6c \uc190\uc2e4 \ubc31\uc5c5 \ud544\uc694 \ubc31\uc5c5 \ud544\uc694 \ubc31\uc5c5 \ud544\uc694 \ubcf5\uad6c \uac00\ub2a5 <ul> <li> <p>dead \ub178\ub4dc \uc81c\uac70: <code>DELETE /cluster/peer/{peer_id}</code></p> </li> <li> <p>\uc0c8 \ub178\ub4dc \ud569\ub958 \ud6c4 \uc0e4\ub4dc \ubcf5\uc81c \ub610\ub294 \uc2a4\ub0c5\uc0f7 \ubcf5\uc6d0\uc73c\ub85c \ub370\uc774\ud130 \ubcf5\uad6c</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#6","title":"6. \uc77c\uad00\uc131 \uc635\uc158","text":"\uc635\uc158 \uc758\ubbf8 \uae30\ubcf8\uac12 <code>write_consistency_factor</code> \uc4f0\uae30 \uc131\uacf5 \ud310\ub2e8\uc5d0 \ud544\uc694\ud55c \ubcf5\uc81c\ubcf8 \uc218 1 <code>consistency</code> (\uc77d\uae30) all\u00b7majority\u00b7quorum\u00b7\uc22b\uc790 1 <code>ordering</code> (\uc4f0\uae30) weak\u00b7medium\u00b7strong weak <ul> <li> <p><code>write_consistency_factor = replication_factor</code> \ub85c \uc124\uc815\ud558\uba74 \ub178\ub4dc \uc77c\ubd80 \ub2e4\uc6b4 \uc2dc \uc4f0\uae30 \ucc28\ub2e8 \ud6c4 \ub370\uc774\ud130 \uc7ac\ub3d9\uae30\ud654 \ube44\uc6a9 \uac10\uc18c.</p> </li> <li> <p>\uac15\ud55c \uc77c\uad00\uc131\uc774 \ud544\uc694\ud55c \uacbd\uc6b0 <code>ordering=strong</code> \uc0ac\uc6a9.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#7","title":"7. \ucd94\uac00 \uae30\ub2a5","text":"<ul> <li> <p>Listener \ubaa8\ub4dc: <code>node_type: \"Listener\"</code> \ub85c \uc124\uc815 \uc2dc \uac80\uc0c9 \ud2b8\ub798\ud53d\uc5d0\uc11c \uc81c\uc678\ud558\uace0 \uc218\uc9d1 \uc804\uc6a9 \ub178\ub4dc\ub85c \uc0ac\uc6a9.</p> </li> <li> <p>Consensus Checkpointing: <code>POST /cluster/recover</code> \ud638\ucd9c\ub85c Raft \ub85c\uadf8 \uc2a4\ub0c5\uc0f7 \uc0dd\uc131\u00b7\ub85c\uadf8 \uc808\ub2e8\uc744 \ud1b5\ud574 \uc2e0\uaddc \ub178\ub4dc \ub3d9\uae30\ud654 \uc18d\ub3c4 \uac1c\uc120.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Distributed%20deployment/#8","title":"8. \uad8c\uc7a5 \uc6b4\uc601 \uc804\ub7b5","text":"<ol> <li> <p>\ud504\ub85c\ub355\uc158: \ucd5c\uc18c 3\ub178\ub4dc, <code>replication_factor \u22652</code>, <code>write_consistency_factor = replication_factor</code></p> </li> <li> <p>\ube44\uc6a9 \uc808\uac10\ud615: 2\ub178\ub4dc + \ubcf5\uc81c, \uc911\uc694 \uceec\ub809\uc158\ub9cc \ubcf5\uc81c \ud65c\uc131\ud654</p> </li> <li> <p>\uac1c\ubc1c\u00b7\ud14c\uc2a4\ud2b8: \ub2e8\uc77c \ub178\ub4dc, \uc8fc\uae30\uc801 \uc2a4\ub0c5\uc0f7 \ubc31\uc5c5 \ud544\uc218</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/","title":"Explore the Data","text":"<p>Qdrant\ub294 \ubca1\ud130 \uac80\uc0c9 \uc678\uc5d0\ub3c4 \ub2e4\uc591\ud55c \ubc29\uc2dd\uc73c\ub85c \ub370\uc774\ud130\ub97c \ud0d0\uc0c9\ud560 \uc218 \uc788\ub294 API\ub97c \uc81c\uacf5\ud55c\ub2e4. </p> <p>\uc720\uc0ac\ud55c \ubca1\ud130\ub97c \ucc3e\ub294 \uac83\uc740 \ubb3c\ub860, \uc11c\ub85c \uac00\uc7a5 \ub2e4\ub978 \ubca1\ud130\ub97c \ud0d0\uc0c9\ud558\uac70\ub098 \uadf8\ub8f9\ud654\ub41c \uacb0\uacfc\ub97c \ubd84\uc11d\ud558\ub294 \ub4f1 \ucd94\ucc9c \uc2dc\uc2a4\ud15c\uacfc \ub370\uc774\ud130 \ud074\ub80c\uc9d5, \ud1b5\uacc4 \uae30\ubc18 \ubd84\uc11d \ub4f1\uc5d0 \uc720\uc6a9\ud558\uac8c \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#1-api-recommendation-api","title":"1. \ucd94\ucc9c API (Recommendation API)","text":"<p>Qdrant\ub294 \uc5ec\ub7ec \uac1c\uc758 \uae0d\uc815(positive) \ubc0f \ubd80\uc815(negative) \uc608\uc2dc\ub97c \ubc14\ud0d5\uc73c\ub85c \uc720\uc0ac\ud55c \uacb0\uacfc\ub97c \ucc3e\ub294 recommend \ucffc\ub9ac\ub97c \uc81c\uacf5\ud55c\ub2e4. </p> <p>\uc774 \ubc29\uc2dd\uc740 \uae30\uc874 \ud3ec\uc778\ud2b8 ID\ub97c \uc774\uc6a9\ud558\uac70\ub098, \uc6d0\uc2dc \ubca1\ud130(raw vector)\ub97c \uc9c1\uc811 \uc785\ub825\ud558\uc5ec \uc720\uc0ac\ub3c4\ub97c \uacc4\uc0b0\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": {\n    \"recommend\": {\n      \"positive\": [100, 231],\n      \"negative\": [718, [0.2, 0.3, 0.4, 0.5]],\n      \"strategy\": \"average_vector\"\n    }\n  },\n  \"filter\": {\n    \"must\": [\n      {\n        \"key\": \"city\",\n        \"match\": { \"value\": \"London\" }\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#_1","title":"\ucd94\ucc9c \uc804\ub7b5 \uc885\ub958","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#1-average_vector","title":"(1) average_vector (\uae30\ubcf8\uac12)","text":"<ul> <li> <p>\uae0d\uc815 \ubca1\ud130 \ud3c9\uade0\uc5d0\uc11c \ubd80\uc815 \ubca1\ud130 \ud3c9\uade0\uc744 \ube80 \ud6c4 \ub2e4\uc2dc \ub354\ud55c \ubca1\ud130\ub97c \uc0dd\uc131</p> </li> <li> <p>\uc131\ub2a5\uc740 \uc77c\ubc18 \uac80\uc0c9\uacfc \uc720\uc0ac\ud558\uba70 \ube60\ub974\ub2e4</p> </li> <li> <p>\uc804\ub7b5 \uc218\uc2dd</p> <p><code>query = avg_positive + avg_positive - avg_negative</code></p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#2-best_score","title":"(2) best_score","text":"<ul> <li> <p>\uac01 \ud6c4\ubcf4 \ubca1\ud130\uc5d0 \ub300\ud574 \uac01\uac01\uc758 \uae0d\uc815/\ubd80\uc815 \uc608\uc2dc\uc640 \uc810\uc218\ub97c \uacc4\uc0b0\ud55c \ub4a4, \ucd5c\uc0c1\uc758 \uc810\uc218\ub97c \uae30\ubc18\uc73c\ub85c \ud310\ub2e8</p> </li> <li> <p>\ubd80\uc815 \uc608\uc2dc\ub9cc \uc0ac\uc6a9\ud558\uc5ec \uac00\uc7a5 \uc0c1\uc774\ud55c(outlier) \ubca1\ud130\ub97c \ud0d0\uc0c9\ud560 \uc218 \uc788\uc74c</p> </li> <li> <p>\ub9ce\uc740 \uc608\uc2dc\ub97c \uc81c\uacf5\ud560 \uacbd\uc6b0 \uc815\ud655\ub3c4\ub294 \ub192\uc9c0\ub9cc \uc131\ub2a5\uc774 \uc120\ud615\uc801\uc73c\ub85c \uac10\uc18c\ud568</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#3-sum_scores","title":"(3) sum_scores","text":"<ul> <li> <p>\ubaa8\ub4e0 \uc608\uc2dc \ubca1\ud130\uc5d0 \ub300\ud574 \uc810\uc218\ub97c \uacc4\uc0b0\ud558\uace0 \uc774\ub97c \ud569\uc0b0\ud558\uc5ec \ucd5c\uc885 \uc810\uc218\ub85c \uc0ac\uc6a9</p> </li> <li> <p>\ub2e4\uc591\ud55c \ud53c\ub4dc\ubc31 \uae30\ubc18 \ucd94\ucc9c \uc2dc\uc2a4\ud15c\uc5d0 \uc801\ud569</p> </li> <li> <p>\uae0d\uc815 \ubc0f \ubd80\uc815 \uc608\uc2dc\ub9cc\uc73c\ub85c\ub3c4 \uc791\ub3d9 \uac00\ub2a5</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#named-vector","title":"Named Vector \uc0ac\uc6a9","text":"<p>\ub2e4\uc911 \ubca1\ud130\ub97c \uc0ac\uc6a9\ud558\ub294 \uceec\ub809\uc158\uc5d0\uc11c\ub294 <code>using</code> \ud30c\ub77c\ubbf8\ud130\ub97c \ud1b5\ud574 \ubca1\ud130 \uc774\ub984\uc744 \uc9c0\uc815\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>\"using\": \"image\"\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#_2","title":"\uc678\ubd80 \uceec\ub809\uc158 \ubca1\ud130 \ucc38\uc870","text":"<p><code>lookup_from</code> \ud30c\ub77c\ubbf8\ud130\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub2e4\ub978 \uceec\ub809\uc158\uc758 \ubca1\ud130\ub97c \ucc38\uc870\ud574 \ucd94\ucc9c\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub2e4. \ub3d9\uc77c\ud55c \ucc28\uc6d0\uacfc \uac70\ub9ac \uce21\uc815 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0\ub9cc \uac00\ub2a5\ud558\ub2e4.</p> <pre><code>\"lookup_from\": {\n  \"collection\": \"users\",\n  \"vector\": \"profile_embedding\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#_3","title":"\ubc30\uce58 \ucd94\ucc9c","text":"<p>\uc5ec\ub7ec \uac1c\uc758 \ucd94\ucc9c \uc694\uccad\uc744 \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud560 \uc218 \uc788\ub2e4. \uac01 \uc694\uccad\uc740 \ud544\ud130, \ubca1\ud130, \uc804\ub7b5\uc744 \ub3c5\ub9bd\uc801\uc73c\ub85c \uc124\uc815\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/{collection_name}/query/batch\n{\n  \"searches\": [\n    {\n      \"query\": { \"recommend\": { \"positive\": [100, 231], \"negative\": [718] } },\n      \"filter\": { \"must\": [{ \"key\": \"city\", \"match\": { \"value\": \"London\" } }] },\n      \"limit\": 10\n    },\n    ...\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#2-api-discovery-api","title":"2. \ub514\uc2a4\ucee4\ubc84\ub9ac API (Discovery API)","text":"<p>v1.7\ubd80\ud130 \uc9c0\uc6d0\ub418\ub294 Discovery API\ub294 \uac80\uc0c9 \uacf5\uac04\uc744 positive/negative \uc30d(context)\uc73c\ub85c \ub098\ub204\uace0, \ud574\ub2f9 context\uc5d0 \uc801\ud569\ud55c \ud3ec\uc778\ud2b8\ub97c \ud0d0\uc0c9\ud558\ub294 \uae30\ub2a5\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#_4","title":"\ub514\uc2a4\ucee4\ubc84\ub9ac \uac80\uc0c9","text":"<p><code>target</code> \ubca1\ud130\ub97c \uae30\uc900\uc73c\ub85c, \uc5bc\ub9c8\ub098 \ub9ce\uc740 \uae0d\uc815 \uc601\uc5ed\uc5d0 \uc18d\ud558\uace0 \ubd80\uc815 \uc601\uc5ed\uc744 \ud53c\ud558\ub294\uc9c0\ub97c \uae30\ubc18\uc73c\ub85c \ud3ec\uc778\ud2b8\ub97c \uc120\ud0dd\ud55c\ub2e4.</p> <pre><code>\"discover\": {\n  \"target\": [0.2, 0.1, 0.9, 0.7],\n  \"context\": [\n    { \"positive\": 100, \"negative\": 718 },\n    { \"positive\": 200, \"negative\": 300 }\n  ]\n}\n</code></pre> <ul> <li> <p>\uc815\ud655\ub3c4 \ud5a5\uc0c1\uc744 \uc704\ud574 <code>params.ef</code> \uac12\uc744 64 \uc774\uc0c1\uc73c\ub85c \ub192\uc774\ub294 \uac83\uc774 \uad8c\uc7a5\ub41c\ub2e4</p> </li> <li> <p>ID\ub85c \uc9c0\uc815\ud55c \ud3ec\uc778\ud2b8\ub294 \uac80\uc0c9 \uacb0\uacfc\uc5d0\uc11c \uc81c\uc678\ub41c\ub2e4</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#context-search","title":"\ucee8\ud14d\uc2a4\ud2b8 \uac80\uc0c9 (Context search)","text":"<p>target \uc5c6\uc774 context\ub9cc \uc81c\uacf5\ud558\uc5ec \ubd80\uc815 \uc608\uc2dc\ub97c \ud53c\ud558\uace0 \uae0d\uc815 \uc608\uc2dc\uc5d0 \uac00\uae4c\uc6b4 \ud3ec\uc778\ud2b8\ub97c \ud0d0\uc0c9\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4. triplet loss \uae30\ubc18 \uc810\uc218 \uacc4\uc0b0\uc744 \uc0ac\uc6a9\ud55c\ub2e4.</p> <pre><code>\"query\": {\n  \"context\": [\n    { \"positive\": 100, \"negative\": 718 },\n    { \"positive\": 200, \"negative\": 300 }\n  ]\n}\n</code></pre> <ul> <li> <p>score\uac00 0.0\uc5d0 \uac00\uae4c\uc6b8\uc218\ub85d \ub354 \uc801\ud569\ud55c \uacb0\uacfc\ub85c \uac04\uc8fc\ub41c\ub2e4</p> </li> <li> <p>\ub2e4\uc591\ud55c \uc704\uce58\uc758 \uacb0\uacfc\ub97c \uc5bb\uc744 \uc218 \uc788\uc5b4 \ud0d0\uc0c9\uc5d0 \uc801\ud569\ud558\ub2e4</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#3-distance-matrix-api","title":"3. Distance Matrix API","text":"<p>v1.12.0\ubd80\ud130 Qdrant\ub294 \ubca1\ud130 \uac04 \uac70\ub9ac\ub97c \uc0d8\ud50c\ub9c1 \uae30\ubc18\uc73c\ub85c \uacc4\uc0b0\ud560 \uc218 \uc788\ub294 distance matrix API\ub97c \uc9c0\uc6d0\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574 \uad70\uc9d1\ud654, \uc2dc\uac01\ud654, \ucc28\uc6d0 \ucd95\uc18c \ub4f1 \ub2e4\uc591\ud55c \ubd84\uc11d\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#1-pairwise","title":"(1) Pairwise \ud615\uc2dd","text":"<p>\ub450 \ud3ec\uc778\ud2b8 \uac04 \uac70\ub9ac \uac12\uc744 \uc30d\uc73c\ub85c \ubc18\ud658\ud55c\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/search/matrix/pairs\n{\n  \"sample\": 10,\n  \"limit\": 2,\n  \"filter\": {\n    \"must\": [\n      { \"key\": \"color\", \"match\": { \"value\": \"red\" } }\n    ]\n  }\n}\n</code></pre> <pre><code>\"pairs\": [\n  { \"a\": 1, \"b\": 3, \"score\": 1.40 },\n  { \"a\": 1, \"b\": 4, \"score\": 1.25 },\n  ...\n]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#2-offset","title":"(2) Offset \ud615\uc2dd","text":"<p>\ud76c\uc18c \ud589\ub82c \ud615\ud0dc\ub85c \uac70\ub9ac\ub97c \ubc18\ud658\ud55c\ub2e4. \ub2e4\ub978 \ubd84\uc11d \ub3c4\uad6c\uc640\uc758 \uc5f0\ub3d9\uc5d0 \uc801\ud569\ud558\ub2e4.</p> <pre><code>\"offsets_row\": [0, 0, 1, 1],\n\"offsets_col\": [2, 3, 0, 7],\n\"scores\": [...],\n\"ids\": [1, 2, 3, 4, ...]\n</code></pre> <ul> <li> <p><code>offsets_row</code>, <code>offsets_col</code>: \uac70\ub9ac \uac12 \uc704\uce58 \uc815\ubcf4</p> </li> <li> <p><code>scores</code>: \uac70\ub9ac \uc810\uc218</p> </li> <li> <p><code>ids</code>: \uac01 \ud3ec\uc778\ud2b8\uc758 ID \ubaa9\ub85d</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Explore%20the%20Data/#_5","title":"\uacb0\ub860","text":"<p>Qdrant\ub294 \ub2e8\uc21c\ud55c \ubca1\ud130 \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc744 \ub118\uc5b4\uc11c \ub2e4\uc591\ud55c \ub370\uc774\ud130 \ud0d0\uc0c9 \ub3c4\uad6c\ub97c \uc81c\uacf5\ud55c\ub2e4. \ucd94\ucc9c \uc2dc\uc2a4\ud15c\uc744 \uc704\ud55c positive/negative \uae30\ubc18 \uac80\uc0c9, \ucee8\ud14d\uc2a4\ud2b8 \uae30\ubc18\uc758 \uc720\uc5f0\ud55c \uac80\uc0c9, \ub300\uaddc\ubaa8 \ubca1\ud130 \uac04 \uac70\ub9ac \ubd84\uc11d \ub4f1\uc740 \ub370\uc774\ud130 \ud488\uc9c8 \uac1c\uc120\uacfc \uc758\ubbf8 \uae30\ubc18 \ucd94\ucc9c\uc744 \uc704\ud55c \uac15\ub825\ud55c \uc218\ub2e8\uc774 \ub41c\ub2e4.</p> <p>\uc774\ub7ec\ud55c \uace0\uae09 \uac80\uc0c9 \uae30\ub2a5\ub4e4\uc740 \uc815\ubc00\ud55c \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud558\uac70\ub098 \ubcf5\uc7a1\ud55c \ud0d0\uc0c9 \ubb38\uc81c\ub97c \ud574\uacb0\ud574\uc57c \ud558\ub294 \uacbd\uc6b0\uc5d0 \ud2b9\ud788 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/","title":"FastEmbed","text":"<p>FastEmbed\ub294 \uacbd\ub7c9\ud654\u00b7\uace0\uc131\ub2a5 \uc784\ubca0\ub529 \uc0dd\uc131\uc744 \ubaa9\ud45c\ub85c \uac1c\ubc1c\ub41c Python \ub77c\uc774\ube0c\ub7ec\ub9ac\uc774\ub2e4. </p> <p>ONNX Runtime \uae30\ubc18\uc73c\ub85c \ub3d9\uc791\ud558\uc5ec \uc758\uc874\uc131\uc774 \uc801\uace0, \uc11c\ubc84\ub9ac\uc2a4 \ud658\uacbd(\uc608: AWS Lambda)\uc5d0\uc11c\ub3c4 \uac00\ubccd\uac8c \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4.</p> \ud2b9\uc9d5 \uc124\uba85 Light PyTorch\ub098 Transformers \ub300\ube44 \uc678\ubd80 \uc758\uc874\uc131\uc774 \uac70\uc758 \uc5c6\ub2e4. Fast ONNX Runtime\uc744 \ud1b5\ud574 \ud558\ub4dc\uc6e8\uc5b4\ubcc4 \ucd5c\uc801\ud654\ub41c \ucd94\ub860 \uc18d\ub3c4\ub97c \uc81c\uacf5\ud55c\ub2e4. Accurate MTEB \ubca4\uce58\ub9c8\ud06c\uc5d0\uc11c \uc6b0\uc218\ud55c \uc131\ub2a5\uc744 \ub0b4\ub294 \ubaa8\ub378\uc744 \uae30\ubcf8 \uc0ac\uc6a9\ud55c\ub2e4. Multilingual \ub2e4\uad6d\uc5b4 \ubaa8\ub378\uc744 \ud3ec\ud568\ud574 \ud3ed\ub113\uc740 \ubaa8\ub378\uc744 \uc9c0\uc6d0\ud55c\ub2e4. <p>FastEmbed\ub294 Qdrant\uc640 \uc27d\uac8c \uc5f0\ub3d9\ub418\uc5b4 \uba40\ud2f0\ubaa8\ub2ec \uac80\uc0c9, \ubc00\uc9d1(dense)\u00b7\ud76c\uc18c(sparse) \uc784\ubca0\ub529, \uba40\ud2f0\ubca1\ud130(multivector), \uc7ac\ub7ad\ud0b9 \ub4f1 \ub2e4\uc591\ud55c \uc2dc\ub098\ub9ac\uc624\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#1-fastembed","title":"1. FastEmbed \uae30\ubcf8 \uc0ac\uc6a9: \ud14d\uc2a4\ud2b8 \uc784\ubca0\ub529 \uc0dd\uc131","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#11","title":"1.1 \uc124\uce58","text":"<pre><code>pip install fastembed\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#12","title":"1.2 \ubaa8\ub378 \ub85c\ub4dc \ubc0f \ub370\uc774\ud130 \uc900\ube44","text":"<pre><code>from fastembed import TextEmbedding\nfrom typing import List\n\ndocuments: List[str] = [\n    \"FastEmbed is lighter than Transformers &amp; Sentence-Transformers.\",\n    \"FastEmbed is supported by and maintained by Qdrant.\",\n]\n\nembedding_model = TextEmbedding()  # \uae30\ubcf8 \ubaa8\ub378: BAAI/bge-small-en-v1.5\nprint(\"The model BAAI/bge-small-en-v1.5 is ready to use.\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#13","title":"1.3 \uc784\ubca0\ub529 \uc0dd\uc131","text":"<pre><code>embeddings = list(embedding_model.embed(documents))\nprint(len(embeddings[0]))  # 384 \ucc28\uc6d0\n</code></pre> <ul> <li> <p>\uae30\ubcf8 \ubaa8\ub378\uc740 384\ucc28\uc6d0 \ubca1\ud130\ub97c \ucd9c\ub825\ud55c\ub2e4.</p> </li> <li> <p>\ubc18\ud658 \ud0c0\uc785\uc740 <code>numpy.ndarray</code>\uc774\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#2-fastembed-qdrant","title":"2. FastEmbed \u00d7 Qdrant: \ubca1\ud130 \uac80\uc0c9 \ud30c\uc774\ud504\ub77c\uc778","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#21","title":"2.1 \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>pip install \"qdrant-client[fastembed]&gt;=1.14.2\"\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#22-qdrant","title":"2.2 Qdrant \ud074\ub77c\uc774\uc5b8\ud2b8 \ucd08\uae30\ud654","text":"<pre><code>from qdrant_client import QdrantClient, models\n\nclient = QdrantClient(\":memory:\")  # \uc778\uba54\ubaa8\ub9ac \ubaa8\ub4dc\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#23","title":"2.3 \uceec\ub809\uc158 \uc0dd\uc131","text":"<pre><code>model_name = \"BAAI/bge-small-en\"\nclient.create_collection(\n    collection_name=\"test_collection\",\n    vectors_config=models.VectorParams(\n        size=client.get_embedding_size(model_name),\n        distance=models.Distance.COSINE,\n    ),\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#24","title":"2.4 \ub370\uc774\ud130 \uc5c5\ub85c\ub4dc(\uc784\ubca0\ub529 \uc790\ub3d9 \uc0dd\uc131)","text":"<pre><code>docs = [\n    \"Qdrant has a LangChain integration for chatbots.\",\n    \"Qdrant has a LlamaIndex integration for agents.\",\n]\npayloads = [{\"source\": \"langchain-docs\"}, {\"source\": \"llamaindex-docs\"}]\nids = [42, 2]\n\nclient.upload_collection(\n    collection_name=\"test_collection\",\n    vectors=[models.Document(text=d, model=model_name) for d in docs],\n    payload=[\n        {\"document\": d, \"source\": p[\"source\"]} for d, p in zip(docs, payloads)\n    ],\n    ids=ids,\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#25","title":"2.5 \ucffc\ub9ac \uc218\ud589","text":"<pre><code>search_result = client.query_points(\n    collection_name=\"test_collection\",\n    query=models.Document(\n        text=\"Which integration is best for agents?\",\n        model=model_name,\n    ),\n).points\nfor point in search_result:\n    print(point.payload[\"document\"], point.score)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#3","title":"3. \uace0\uae09 \uc0ac\uc6a9 \uc0ac\ub840","text":"<p>FastEmbed\ub294 \ub2e4\uc591\ud55c \uc784\ubca0\ub529 \uc720\ud615\uacfc \uac80\uc0c9 \ubc29\uc2dd\uc744 \uc9c0\uc6d0\ud55c\ub2e4.</p> \uc720\ud615 \ubaa9\uc801 \ud575\uc2ec \ud3ec\uc778\ud2b8 Dense Embeddings \uc758\ubbf8\uc801 \uc720\uc0ac\ub3c4 \uac80\uc0c9 \uae30\ubcf8 TextEmbedding + Qdrant \ubca1\ud130 \uc0c9\uc778 Sparse Embeddings (miniCOIL) \uc815\ud655\ud55c \ud0a4\uc6cc\ub4dc \ub9e4\uce6d Qdrant\uc758 \ud76c\uc18c \ubca1\ud130 \uc0c9\uc778 \ud65c\uc6a9 Sparse Embeddings (SPLADE) \ubb38\uc11c \uac80\uc0c9 \ucd5c\uc801\ud654 sparse retriever + Qdrant Multivector (ColBERT) \ud1a0\ud070\ubcc4 \uc138\ubc00\ud55c \ub9e4\uce6d\u00b7\uc7ac\uc810\uc218\ud654 <code>max_sim</code> \ube44\uad50\uae30 \uc0ac\uc6a9 Reranking 1\ucc28 \uac80\uc0c9 \uacb0\uacfc \uc815\ubc00 \uc7ac\uc815\ub82c Cross-Encoder \uae30\ubc18 \uc7ac\ub7ad\ucee4"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#4-cross-encoder","title":"4. Cross-Encoder \uc7ac\ub7ad\ud0b9 \uc608\uc2dc","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#41","title":"4.1 \ud658\uacbd \uc900\ube44","text":"<pre><code>pip install \"qdrant-client[fastembed]&gt;=1.14.1\"\n</code></pre> <pre><code>from fastembed import TextEmbedding\nfrom fastembed.rerank.cross_encoder import TextCrossEncoder\n\ndense_model = TextEmbedding(model_name=\"sentence-transformers/all-MiniLM-L6-v2\")\nreranker = TextCrossEncoder(model_name=\"jinaai/jina-reranker-v2-base-multilingual\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#42","title":"4.2 \ub370\uc774\ud130 \uc5c5\ub85c\ub4dc","text":"<pre><code>descriptions = [\n    \"In 1431, Jeanne d'Arc is placed on trial on charges of heresy.\",\n    \"A sci-fi adventure through space and time.\",\n    \"A world-weary political journalist picks up the story of a woman's search.\",\n]\ndesc_emb = list(dense_model.embed(descriptions))\n\nclient = QdrantClient(\":memory:\")\nclient.create_collection(\n    collection_name=\"movies\",\n    vectors_config={\"embedding\": models.VectorParams(\n        size=dense_model.embedding_size, distance=models.Distance.COSINE)}\n)\n\nclient.upload_points(\n    collection_name=\"movies\",\n    points=[\n        models.PointStruct(\n            id=i,\n            payload={\"description\": d},\n            vector={\"embedding\": v},\n        )\n        for i, (d, v) in enumerate(zip(descriptions, desc_emb))\n    ],\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#43-1","title":"4.3 1\ucc28 \uac80\uc0c9","text":"<pre><code>query = \"A story about a strong historically significant female figure.\"\nquery_vec = list(dense_model.query_embed(query))[0]\n\ninitial_hits = client.query_points(\n    collection_name=\"movies\",\n    using=\"embedding\",\n    query=query_vec,\n    with_payload=True,\n    limit=10,\n).points\n\ncandidates = [hit.payload[\"description\"] for hit in initial_hits]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#44","title":"4.4 \uc7ac\ub7ad\ud0b9","text":"<pre><code>scores = list(reranker.rerank(query, candidates))\nranked = sorted(zip(candidates, scores), key=lambda x: x[1], reverse=True)\n\nfor rank, (doc, score) in enumerate(ranked, 1):\n    print(f\"{rank}. {doc} (score={score:.4f})\")\n</code></pre> <ul> <li> <p>\uc7ac\ub7ad\ucee4\ub294 \ud1a0\ud070 \uc218\uc900 \uc0c1\ud638\uc791\uc6a9\uc744 \uace0\ub824\ud574 \ub354 \uc815\ubc00\ud55c \uc21c\uc11c\ub97c \uc81c\uacf5\ud55c\ub2e4.</p> </li> <li> <p>\uc77c\ubc18\uc801\uc73c\ub85c \uc0c1\uc704 K\uac1c(\uc608: 50~200\uac1c) \uacb0\uacfc\uc5d0\ub9cc \uc7ac\ub7ad\ucee4\ub97c \uc801\uc6a9\ud574 \uc18d\ub3c4\uc640 \uc815\ud655\ub3c4\ub97c \uade0\ud615 \uc788\uac8c \uc720\uc9c0\ud55c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#5-sparsemultivector","title":"5. Sparse\u00b7Multivector \ud65c\uc6a9","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#51-minicoil-splade","title":"5.1 miniCOIL / SPLADE \ud76c\uc18c \ubca1\ud130","text":"<pre><code>from fastembed import SparseEmbedding\n\nsparse_model = SparseEmbedding(model_name=\"naver/miniCOIL\")\nsparse_vecs = list(sparse_model.embed(documents))\n\nclient.create_collection(\n    collection_name=\"sparse_collection\",\n    sparse_vectors_config={\"text\": {}}\n)\nclient.upload_points(\n    collection_name=\"sparse_collection\",\n    points=[\n        models.PointStruct(id=i, vector={\"text\": v}) for i, v in enumerate(sparse_vecs)\n    ]\n)\n</code></pre> <ul> <li> <p>Qdrant\uc5d0\uc11c <code>sparse_vectors</code> \uc124\uc815\uc744 \ud1b5\ud574 \ud76c\uc18c \ubca1\ud130 \uc804\uc6a9 \uc778\ub371\uc2a4\ub97c \uc0ac\uc6a9\ud55c\ub2e4.</p> </li> <li> <p>\uac80\uc0c9 \uc2dc <code>using=\"text\"</code> \ud30c\ub77c\ubbf8\ud130 \uc9c0\uc815\uc73c\ub85c dot-product \uae30\ubc18 \uc815\ud655 \uac80\uc0c9\uc774 \uac00\ub2a5\ud558\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#52-colbert-multivector","title":"5.2 ColBERT Multivector","text":"<pre><code>from fastembed import MultiVectorEmbedding\n\nmv_model = MultiVectorEmbedding(model_name=\"colbert-ir/colbertv2\")\nmv_vectors = list(mv_model.embed(documents))  # \uac01 \ubb38\uc11c\ub2f9 \ub2e4\uc911 \ubca1\ud130 \ub9ac\uc2a4\ud2b8\n\nclient.create_collection(\n    collection_name=\"colbert_collection\",\n    vectors_config=models.VectorParams(\n        size=mv_model.vector_size,\n        distance=models.Distance.COSINE,\n        multivector_config=models.MultiVectorConfig(comparator=\"max_sim\"),\n    ),\n)\n\nclient.upload_points(\n    collection_name=\"colbert_collection\",\n    points=[\n        models.PointStruct(id=i, vector=vecs) for i, vecs in enumerate(mv_vectors)\n    ],\n)\n</code></pre> <ul> <li> <p><code>max_sim</code> \ube44\uad50\uae30\ub85c \ub2e4\uc911 \ubca1\ud130 \uac04 \ucd5c\ub300 \uc720\uc0ac\ub3c4\ub97c \uc0ac\uc6a9\ud55c\ub2e4.</p> </li> <li> <p>ColBERT\ub294 1\ucc28 \uac80\uc0c9 \ud6c4\ubcf4 \uc7ac\uc810\uc218\ud654(rescoring)\ub098 \uc18c\uaddc\ubaa8 \ub370\uc774\ud130\uc5d0\uc11c \uc9c1\uc811 \uac80\uc0c9\uc6a9\uc73c\ub85c \uc801\ud569\ud558\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/FastEmbed/#6","title":"6. \uc815\ub9ac","text":"<ol> <li> <p>FastEmbed\ub294 ONNX Runtime \uae30\ubc18\uc73c\ub85c \uac00\ubccd\uace0 \ube60\ub974\uba70 \uc815\ud655\ud55c \uc784\ubca0\ub529 \uc0dd\uc131\uc744 \uc9c0\uc6d0\ud55c\ub2e4.</p> </li> <li> <p>Qdrant\uc640\uc758 \ud1b5\ud569\uc744 \ud1b5\ud574 Dense, Sparse, Multivector \uc784\ubca0\ub529\uc744 \ubaa8\ub450 \uc800\uc7a5\u00b7\uac80\uc0c9\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>Cross-Encoder \uc7ac\ub7ad\ucee4\ub97c \ud65c\uc6a9\ud558\uc5ec 1\ucc28 \uac80\uc0c9 \uacb0\uacfc\ub97c \uc815\ubc00\ud558\uac8c \uc7ac\ubc30\uc5f4\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>Sparse\u00b7Multivector\u00b7\uc7ac\ub7ad\ud0b9 \uc870\ud569\uc73c\ub85c \uc18d\ub3c4\uc640 \uc815\ud655\ub3c4\ub97c \uc0c1\ud669\uc5d0 \ub9de\ucdb0 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4.</p> </li> </ol> <p>FastEmbed\uc640 Qdrant\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\uba74 \uacbd\ub7c9\ud654\ub41c \uc784\ubca0\ub529 \ud30c\uc774\ud504\ub77c\uc778\uacfc \uace0\uc131\ub2a5 \ubca1\ud130 \uac80\uc0c9 \uc5d4\uc9c4\uc744 \ub2e8\uc77c \uc2a4\ud0dd\uc73c\ub85c \uad6c\ucd95\ud560 \uc218 \uc788\ub2e4. \uc774\ub97c \ud1b5\ud574 \uba40\ud2f0\ubaa8\ub2ec \uac80\uc0c9, \ubb38\uc11c \uac80\uc0c9, \ucc57\ubd07, \uc5d0\uc774\uc804\ud2b8 \ub4f1 \ub2e4\uc591\ud55c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \ube60\ub974\uace0 \uc815\ud655\ud55c \uacb0\uacfc\ub97c \uc5bb\uc744 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/","title":"Filtering","text":"<p>Qdrant\ub294 \ubca1\ud130 \uae30\ubc18 \uc720\uc0ac\ub3c4 \uac80\uc0c9 \uc678\uc5d0\ub3c4, \ud3ec\uc778\ud2b8(point)\uc758 payload\ub098 ID\uc5d0 \uae30\ubc18\ud55c \ub2e4\uc591\ud55c \ud544\ud130\ub9c1 \uc870\uac74\uc744 \uc9c0\uc6d0\ud55c\ub2e4. </p> <p>\uc774\ub294 \ub2e8\uc21c\ud55c \uc784\ubca0\ub529 \ud45c\ud604\ub9cc\uc73c\ub85c\ub294 \uc124\uba85\ud560 \uc218 \uc5c6\ub294 \uc2e4\ubb34\uc0c1\uc758 \uc81c\uc57d \uc870\uac74\ub4e4(\uc608: \uc7ac\uace0 \uc5ec\ubd80, \uc9c0\uc5ed \uc81c\ud55c, \uac00\uaca9 \ubc94\uc704 \ub4f1)\uc744 \uac80\uc0c9 \uacb0\uacfc\uc5d0 \ubc18\uc601\ud558\ub294 \ub370 \ub9e4\uc6b0 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#1-clauses","title":"1. \ud544\ud130\ub9c1 \uad6c\ubb38 \uad6c\uc870 (Clauses)","text":"<p>Qdrant\ub294 \ub17c\ub9ac\uc801 \uc870\uac74\ub4e4\uc744 \uc870\ud569\ud558\uc5ec \uac80\uc0c9 \uc870\uac74\uc744 \uad6c\uc131\ud560 \uc218 \uc788\ub2e4. \uae30\ubcf8\uc801\uc73c\ub85c \ub2e4\uc74c\uacfc \uac19\uc740 \uc5f0\uc0b0\uc790\ub97c \uc9c0\uc6d0\ud55c\ub2e4.</p> \uad6c\ubb38 \uc124\uba85 <code>must</code> \ubaa8\ub4e0 \uc870\uac74\uc744 \ub9cc\uc871\ud574\uc57c \ud568 (AND) <code>should</code> \ud558\ub098 \uc774\uc0c1\uc758 \uc870\uac74\uc744 \ub9cc\uc871\ud558\uba74 \ub428 (OR) <code>must_not</code> \ubaa8\ub4e0 \uc870\uac74\uc774 \ub9cc\uc871\ub418\uc9c0 \uc54a\uc544\uc57c \ud568 (NOT)"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#_1","title":"\uc608\uc2dc \ub370\uc774\ud130","text":"<pre><code>[\n  { \"id\": 1, \"city\": \"London\", \"color\": \"green\" },\n  { \"id\": 2, \"city\": \"London\", \"color\": \"red\" },\n  { \"id\": 3, \"city\": \"London\", \"color\": \"blue\" },\n  { \"id\": 4, \"city\": \"Berlin\", \"color\": \"red\" },\n  { \"id\": 5, \"city\": \"Moscow\", \"color\": \"green\" },\n  { \"id\": 6, \"city\": \"Moscow\", \"color\": \"blue\" }\n]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#must","title":"must","text":"<pre><code>\"must\": [\n  { \"key\": \"city\", \"match\": { \"value\": \"London\" } },\n  { \"key\": \"color\", \"match\": { \"value\": \"red\" } }\n]\n</code></pre> <p>\uacb0\uacfc: ID 2</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#should","title":"should","text":"<pre><code>\"should\": [\n  { \"key\": \"city\", \"match\": { \"value\": \"London\" } },\n  { \"key\": \"color\", \"match\": { \"value\": \"red\" } }\n]\n</code></pre> <p>\uacb0\uacfc: ID 1, 2, 3, 4</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#must_not","title":"must_not","text":"<pre><code>\"must_not\": [\n  { \"key\": \"city\", \"match\": { \"value\": \"London\" } },\n  { \"key\": \"color\", \"match\": { \"value\": \"red\" } }\n]\n</code></pre> <p>\uacb0\uacfc: ID 5, 6</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#_2","title":"\ud63c\ud569 \uc0ac\uc6a9","text":"<pre><code>{\n  \"must\": [{ \"key\": \"city\", \"match\": { \"value\": \"London\" } }],\n  \"must_not\": [{ \"key\": \"color\", \"match\": { \"value\": \"red\" } }]\n}\n</code></pre> <p>\uacb0\uacfc: ID 1, 3</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#2","title":"2. \ud544\ud130 \uc870\uac74 \uc720\ud615","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#match","title":"Match","text":"<p>\ub2e8\uc77c \uac12\uacfc\uc758 \uc77c\uce58 \uc5ec\ubd80\ub97c \uac80\uc0ac\ud55c\ub2e4.</p> <pre><code>{ \"key\": \"color\", \"match\": { \"value\": \"red\" } }\n</code></pre> <p>\uc9c0\uc6d0: \ubb38\uc790\uc5f4, \uc815\uc218, \ubd88\ub9ac\uc5b8</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#match-any-or","title":"Match Any (OR \uc870\uac74)","text":"<pre><code>{ \"key\": \"color\", \"match\": { \"any\": [\"red\", \"green\"] } }\n</code></pre> <p>\uac12\uc774 \uc5ec\ub7ec \uac1c\uc77c \uacbd\uc6b0, \uadf8 \uc911 \ud558\ub098\ub77c\ub3c4 \ud3ec\ud568\ub418\uba74 true\uac00 \ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#match-except-not-in","title":"Match Except (NOT IN \uc870\uac74)","text":"<pre><code>{ \"key\": \"color\", \"match\": { \"except\": [\"red\", \"green\"] } }\n</code></pre> <p>\ubaa8\ub4e0 \uac12\uc774 \uc81c\uc678 \ub300\uc0c1\uc5d0 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc544\uc57c \ub9cc\uc871\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#3-nested-key","title":"3. \uc911\ucca9 \ud544\ub4dc(Nested Key)","text":"<p>Qdrant\ub294 JSON \ud615\ud0dc\uc758 payload\ub97c \uc9c0\uc6d0\ud558\ubbc0\ub85c, \uc911\ucca9 \ud544\ub4dc\uc5d0 \ub300\ud55c \uac80\uc0c9\ub3c4 \uac00\ub2a5\ud558\ub2e4.</p> <pre><code>{ \"key\": \"country.name\", \"match\": { \"value\": \"Germany\" } }\n</code></pre> <p>\ubc30\uc5f4 \ub0b4\ubd80\uc5d0 \uc788\ub294 \uac12\ub3c4 \ub2e4\uc74c\uacfc \uac19\uc774 \uc9c0\uc815\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>{ \"key\": \"country.cities[].population\", \"range\": { \"gte\": 9.0 } }\n</code></pre> <p>\ubc30\uc5f4 \uc694\uc18c\uc758 \uc18d\uc131\uac12 \uc911 \ud558\ub098\ub77c\ub3c4 \uc870\uac74\uc744 \ub9cc\uc871\ud558\uba74 \ud574\ub2f9 \ud3ec\uc778\ud2b8\ub294 \uacb0\uacfc\uc5d0 \ud3ec\ud568\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#4-nested-object-filter","title":"4. \uc911\ucca9 \uc624\ube0c\uc81d\ud2b8 \ud544\ud130 (Nested Object Filter)","text":"<p>\ubc30\uc5f4\uc758 \uac01 \uac1d\uccb4\ub97c \ub3c5\ub9bd\uc801\uc73c\ub85c \ud3c9\uac00\ud558\ub824\uba74 <code>nested</code> \uc870\uac74\uc744 \uc0ac\uc6a9\ud55c\ub2e4.</p> <pre><code>{\n  \"nested\": {\n    \"key\": \"diet\",\n    \"filter\": {\n      \"must\": [\n        { \"key\": \"food\", \"match\": { \"value\": \"meat\" } },\n        { \"key\": \"likes\", \"match\": { \"value\": true } }\n      ]\n    }\n  }\n}\n</code></pre> <p>\uc774 \ubc29\uc2dd\uc740 \ud55c \uac1d\uccb4 \uc548\uc5d0\uc11c \ubaa8\ub4e0 \uc870\uac74\uc774 \ucda9\uc871\ub418\ub294\uc9c0 \ud3c9\uac00\ud558\ubbc0\ub85c, \uc815\ud655\ud55c \uc870\ud569 \uac80\uc0c9\uc774 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#5","title":"5. \uace0\uae09 \ud544\ud130\ub9c1 \uc870\uac74","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#full-text-match","title":"Full Text Match","text":"<p>\ubb38\uc790\uc5f4 \ud544\ub4dc \ub0b4 \ud14d\uc2a4\ud2b8 \uac80\uc0c9</p> <pre><code>{ \"key\": \"description\", \"match\": { \"text\": \"good cheap\" } }\n</code></pre> <p>\ub2e8\uc5b4\uac00 \ubaa8\ub450 \ud3ec\ud568\ub418\uc5b4\uc57c \uc77c\uce58\ub85c \uac04\uc8fc\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#range","title":"Range","text":"<pre><code>{\n  \"key\": \"price\",\n  \"range\": {\n    \"gte\": 100.0,\n    \"lte\": 450.0\n  }\n}\n</code></pre> <p>\uc9c0\uc6d0: \uc815\uc218, \uc2e4\uc218</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#datetime-range","title":"Datetime Range","text":"<p>RFC 3339 \ud3ec\ub9f7\uc744 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>{\n  \"key\": \"date\",\n  \"range\": {\n    \"gt\": \"2023-02-08T10:49:00Z\",\n    \"lte\": \"2024-01-31T10:14:31Z\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#uuid-match","title":"UUID Match","text":"<pre><code>{ \"key\": \"uuid\", \"match\": { \"value\": \"550e8400-e29b-41d4-a716-446655440000\" } }\n</code></pre> <p>\ubb38\uc790\uc5f4\uacfc \uc720\uc0ac\ud558\uac8c \uc791\ub3d9\ud558\uba70, uuid \uc778\ub371\uc2a4\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uba54\ubaa8\ub9ac \uce21\uba74\uc5d0\uc11c \ud6a8\uc728\uc801\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#6-geo","title":"6. Geo \ud544\ud130","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#geo_bounding_box","title":"geo_bounding_box","text":"<pre><code>{\n  \"key\": \"location\",\n  \"geo_bounding_box\": {\n    \"top_left\": { \"lat\": 52.5207, \"lon\": 13.4036 },\n    \"bottom_right\": { \"lat\": 52.4958, \"lon\": 13.4558 }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#geo_radius","title":"geo_radius","text":"<pre><code>{\n  \"key\": \"location\",\n  \"geo_radius\": {\n    \"center\": { \"lat\": 52.5207, \"lon\": 13.4036 },\n    \"radius\": 1000.0\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#geo_polygon","title":"geo_polygon","text":"<pre><code>{\n  \"key\": \"location\",\n  \"geo_polygon\": {\n    \"exterior\": {\n      \"points\": [ ... ]\n    },\n    \"interiors\": [ ... ]\n  }\n}\n</code></pre> <p>\ubcf5\uc7a1\ud55c \uc9c0\uc5ed \ubc94\uc704 \uc124\uc815\uc5d0 \uc720\uc6a9\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#7","title":"7. \uae30\ud0c0 \uc870\uac74","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#values_count","title":"values_count","text":"<pre><code>{\n  \"key\": \"comments\",\n  \"values_count\": {\n    \"gt\": 2\n  }\n}\n</code></pre> <p>\ubc30\uc5f4 \uac12 \uac1c\uc218\uac00 \ud2b9\uc815 \uc870\uac74\uc744 \ub9cc\uc871\ud558\ub294 \uacbd\uc6b0\uc5d0 \ud544\ud130\ub9c1\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#is_empty","title":"is_empty","text":"<pre><code>{\n  \"is_empty\": { \"key\": \"reports\" }\n}\n</code></pre> <p>\ud574\ub2f9 \ud544\ub4dc\uac00 \uc5c6\uac70\ub098 \ube48 \ubc30\uc5f4 \ub610\ub294 null\uc77c \uacbd\uc6b0 \uc77c\uce58\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#is_null","title":"is_null","text":"<pre><code>{\n  \"is_null\": { \"key\": \"reports\" }\n}\n</code></pre> <p>\ud574\ub2f9 \ud544\ub4dc\uac00 null \uac12\uc77c \uacbd\uc6b0 \uc77c\uce58\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#8-id","title":"8. ID/\ubca1\ud130 \uc874\uc7ac \uc870\uac74","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#has_id","title":"has_id","text":"<pre><code>{ \"has_id\": [1, 3, 5] }\n</code></pre> <p>\ud2b9\uc815 ID\uc5d0 \ud574\ub2f9\ud558\ub294 \ud3ec\uc778\ud2b8\ub9cc \ud544\ud130\ub9c1\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#has_vector","title":"has_vector","text":"<pre><code>{ \"has_vector\": \"image\" }\n</code></pre> <p>\ud2b9\uc815 Named Vector\uac00 \uc874\uc7ac\ud558\ub294 \ud3ec\uc778\ud2b8\ub9cc \ud544\ud130\ub9c1\ud55c\ub2e4. Named Vector\uac00 \uc5c6\ub294 \uacbd\uc6b0 \ube48 \ubb38\uc790\uc5f4 <code>\"\"</code>\ub85c \uc9c0\uc815\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Filtering/#_3","title":"\uacb0\ub860","text":"<p>Qdrant\ub294 \ub2e8\uc21c\ud55c \uc720\uc0ac\ub3c4 \uae30\ubc18 \uac80\uc0c9\ubfd0\ub9cc \uc544\ub2c8\ub77c \ub2e4\uc591\ud55c \uc2e4\ubb34 \uc81c\uc57d\uc744 \ud45c\ud604\ud560 \uc218 \uc788\ub3c4\ub85d \ud48d\ubd80\ud55c \ud544\ud130\ub9c1 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. Boolean \uc870\ud569, \ubc94\uc704 \uc870\uac74, \ubc30\uc5f4 \ud544\ub4dc, \uc911\ucca9 \uad6c\uc870, \uc704\uce58 \uae30\ubc18 \ud544\ud130, \ud14d\uc2a4\ud2b8 \ub9e4\uce6d \ub4f1 \uac70\uc758 \ubaa8\ub4e0 \uad6c\uc870\uc758 \uc870\uac74\uc744 \ud45c\ud604\ud560 \uc218 \uc788\ub2e4.</p> <p>\uc774\ub7ec\ud55c \ud544\ud130 \uae30\ub2a5\uc744 \uc801\uc808\ud788 \ud65c\uc6a9\ud558\uba74 Qdrant\ub97c \ub9e4\uc6b0 \uc815\ubc00\ud558\uace0 \uac15\ub825\ud55c \uac80\uc0c9 \uc5d4\uc9c4\uc73c\ub85c \uad6c\uc131\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/","title":"Hybrid Queries","text":"<p>Qdrant\ub294 \ubcf5\uc218\uc758 \ubca1\ud130 \ud45c\ud604(named vectors)\uc744 \uac00\uc9c4 \ud3ec\uc778\ud2b8\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uac80\uc0c9\ud558\uace0 \uacb0\ud569\ud560 \uc218 \uc788\ub3c4\ub85d \ub2e4\uc591\ud55c \uac80\uc0c9 \uc804\ub7b5\uc744 \uc9c0\uc6d0\ud55c\ub2e4. </p> <p>\ub2e8\uc77c \ucffc\ub9ac\ub97c \ub118\uc5b4\uc11c \ub2e4\ub2e8\uacc4 \uac80\uc0c9, \uc720\uc0ac\ub3c4 \uae30\ubc18 \uc21c\uc704 \uc870\uc815, \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ubc18\uc601\ud55c \uc810\uc218 \ubcf4\uc815\uae4c\uc9c0 \uac00\ub2a5\ud55c Query API\ub294 \uac15\ub825\ud558\uace0 \uc720\uc5f0\ud55c \ubca1\ud130 \uac80\uc0c9 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#1-hybrid-search","title":"1. Hybrid Search (\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_1","title":"\uac1c\uc694","text":"<p>\ub2e4\uc591\ud55c \uc784\ubca0\ub529 \ud45c\ud604\uc744 \ub3d9\uc2dc\uc5d0 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0, \uac01 \ud45c\ud604\uc73c\ub85c \uc218\ud589\ud55c \uac80\uc0c9 \uacb0\uacfc\ub97c \ud558\ub098\ub85c \uc735\ud569\ud558\ub294 \uac83\uc774 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc758 \ud575\uc2ec\uc774\ub2e4. \uc608\ub97c \ub4e4\uc5b4, dense vector\uc640 sparse vector\ub97c \uac01\uac01 \uac80\uc0c9\ud55c \ub4a4 \uc774\ub97c \uacb0\ud569\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_2","title":"\uc735\ud569 \ubc29\uc2dd","text":"<ul> <li> <p>rrf (Reciprocal Rank Fusion)     \uacb0\uacfc \uc21c\uc704 \uae30\ubc18\uc73c\ub85c \uc810\uc218\ub97c \uc735\ud569\ud558\uba70, \uc5ec\ub7ec \ucffc\ub9ac\uc5d0\uc11c \ub192\uc740 \uc21c\uc704\ub97c \ucc28\uc9c0\ud55c \ud3ec\uc778\ud2b8\uc5d0 \uac00\uc911\uce58\ub97c \ubd80\uc5ec\ud55c\ub2e4.</p> </li> <li> <p>dbsf (Distribution-Based Score Fusion)     \uac01 \ucffc\ub9ac \uacb0\uacfc\uc758 \uc810\uc218\ub97c \uc815\uaddc\ud654\ud55c \ub4a4 \uac19\uc740 \ud3ec\uc778\ud2b8\uc5d0 \ub300\ud574 \uc810\uc218\ub97c \ud569\uc0b0\ud55c\ub2e4. v1.11.0\ubd80\ud130 \uc9c0\uc6d0\ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#dense-sparse","title":"\uc608\uc2dc: dense + sparse \ubca1\ud130 \uc735\ud569","text":"<pre><code>POST /collections/{collection_name}/points/query\n{\n  \"prefetch\": [\n    {\n      \"query\": {\n        \"indices\": [1, 42],\n        \"values\": [0.22, 0.8]\n      },\n      \"using\": \"sparse\",\n      \"limit\": 20\n    },\n    {\n      \"query\": [0.01, 0.45, 0.67, ...],\n      \"using\": \"dense\",\n      \"limit\": 20\n    }\n  ],\n  \"query\": { \"fusion\": \"rrf\" },\n  \"limit\": 10\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#2-multi-stage-query","title":"2. Multi-Stage Query (\ub2e4\ub2e8\uacc4 \uac80\uc0c9)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_3","title":"\uac1c\uc694","text":"<p>\uc815\ud655\ub3c4\uac00 \ub192\uc740 \uace0\ucc28\uc6d0 \ubca1\ud130\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc740 \ube44\uc6a9\uc774 \ud06c\uae30 \ub54c\ubb38\uc5d0, \ube60\ub978 \uac80\uc0c9\uc6a9 \ubca1\ud130\ub85c \ud6c4\ubcf4\uad70\uc744 \ucd94\ucd9c\ud55c \ub4a4, \uace0\uc815\ubc00 \ubca1\ud130\ub85c \uc7ac\uc815\ub82c\ud558\ub294 \ubc29\uc2dd\uc774 \uc720\ud6a8\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_4","title":"\uad6c\uc131 \uc608\uc2dc","text":"<ul> <li> <p>1\ub2e8\uacc4: \ube60\ub978 \ubca1\ud130\ub85c \ud6c4\ubcf4 \ucd94\ucd9c</p> </li> <li> <p>2\ub2e8\uacc4: \uc815\ud655\ud55c \ubca1\ud130\ub85c \uc7ac\uc815\ub82c</p> </li> </ul> <pre><code>POST /collections/{collection_name}/points/query\n{\n  \"prefetch\": {\n    \"query\": [1, 23, 45, 67],\n    \"using\": \"mrl_byte\",\n    \"limit\": 1000\n  },\n  \"query\": [0.01, 0.299, 0.45, 0.67, ...],\n  \"using\": \"full\",\n  \"limit\": 10\n}\n</code></pre> <p>\ub610\ub294 \ub2e4\ub2e8\uacc4\ub85c \uc911\ucca9\ub41c prefetch\ub3c4 \uac00\ub2a5\ud558\ub2e4.</p> <pre><code>\"prefetch\": {\n  \"prefetch\": {\n    \"query\": [1, 23, 45, 67],\n    \"using\": \"mrl_byte\",\n    \"limit\": 1000\n  },\n  \"query\": [0.01, 0.45, 0.67, ...],\n  \"using\": \"full\",\n  \"limit\": 100\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#3-score-boosting","title":"3. Score Boosting (\uc810\uc218 \ubcf4\uc815)","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_5","title":"\uac1c\uc694","text":"<p>\uae30\uacc4 \ud559\uc2b5 \uae30\ubc18\uc758 \ubca1\ud130 \uc720\uc0ac\ub3c4\ub9cc\uc73c\ub85c\ub294 \ub3c4\uba54\uc778 \ud2b9\uc131\uc774\ub098 \ube44\uc988\ub2c8\uc2a4 \uc6b0\uc120\uc21c\uc704\ub97c \ubc18\uc601\ud558\uae30 \uc5b4\ub824\uc6b4 \uacbd\uc6b0\uac00 \ub9ce\ub2e4. Qdrant\ub294 \ubca1\ud130 \uae30\ubc18 \uc810\uc218\uc5d0 \uc870\uac74 \uae30\ubc18 \uc810\uc218\ub97c \ud569\uc0b0\ud558\uac70\ub098 \uac00\uc911\uce58\ub97c \ubd80\uc5ec\ud560 \uc218 \uc788\ub294 formula \uae30\ubc18 score boosting\uc744 \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_6","title":"\uc608\uc2dc: \ucf58\ud150\uce20 \uc720\ud615\uc5d0 \ub530\ub77c \uc810\uc218 \uac00\uc911\uce58 \uc870\uc815","text":"<pre><code>\"query\": {\n  \"formula\": {\n    \"sum\": [\n      \"$score\",\n      {\n        \"mult\": [0.5, { \"key\": \"tag\", \"match\": { \"any\": [\"h1\", \"h2\", \"h3\"] } }]\n      },\n      {\n        \"mult\": [0.25, { \"key\": \"tag\", \"match\": { \"any\": [\"p\", \"li\"] } }]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_7","title":"\uc608\uc2dc: \uc0ac\uc6a9\uc790 \uc704\uce58 \uae30\ubc18 \uc810\uc218 \ubcf4\uc815","text":"<pre><code>\"query\": {\n  \"formula\": {\n    \"sum\": [\n      \"$score\",\n      {\n        \"gauss_decay\": {\n          \"x\": {\n            \"geo_distance\": {\n              \"origin\": { \"lat\": 52.504043, \"lon\": 13.393236 },\n              \"to\": \"geo.location\"\n            }\n          },\n          \"scale\": 5000\n        }\n      }\n    ]\n  },\n  \"defaults\": {\n    \"geo.location\": { \"lat\": 48.137154, \"lon\": 11.576124 }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_8","title":"\uc9c0\uc6d0 \uc5f0\uc0b0\uc790 \uc694\uc57d","text":"\uc5f0\uc0b0\uc790 \uc124\uba85 <code>$score</code> prefetch\uc5d0\uc11c \uacc4\uc0b0\ub41c \uc720\uc0ac\ub3c4 \uc810\uc218 <code>key</code> payload \ud0a4 \ucc38\uc870 <code>sum</code>, <code>mult</code>, <code>div</code>, <code>pow</code> \ub4f1 \uc218\uce58 \uc5f0\uc0b0 <code>geo_distance</code> \ub450 \uc9c0\ub9ac \uc88c\ud45c \uac04 \uac70\ub9ac \uacc4\uc0b0 <code>gauss_decay</code>, <code>lin_decay</code>, <code>exp_decay</code> \uac70\ub9ac \uae30\ubc18 \uc810\uc218 \uac10\uc18c \ud568\uc218 <code>datetime</code>, <code>datetime key</code> \ub0a0\uc9dc \uae30\ubc18 \uc815\ub82c \ub610\ub294 \uc810\uc218\ud654"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#4-grouping","title":"4. Grouping (\uacb0\uacfc \uadf8\ub8f9\ud654)","text":"<p>\uac19\uc740 \ud56d\ubaa9\uc5d0 \ub300\ud574 \ub2e4\uc218\uc758 \ud3ec\uc778\ud2b8\uac00 \uc874\uc7ac\ud560 \uacbd\uc6b0, \uc774\ub97c \uadf8\ub8f9\ud654\ud558\uc5ec \uc911\ubcf5\uc744 \uc904\uc774\uace0 \ub300\ud45c \uacb0\uacfc\ub9cc \ubcf4\uc5ec\uc904 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/query/groups\n{\n  \"query\": [1.1],\n  \"group_by\": \"document_id\",\n  \"limit\": 4,\n  \"group_size\": 2\n}\n</code></pre> <ul> <li> <p><code>group_by</code>: \uadf8\ub8f9\uc758 \uae30\uc900 \ud544\ub4dc</p> </li> <li> <p><code>limit</code>: \uadf8\ub8f9 \uc218 \uc81c\ud55c</p> </li> <li> <p><code>group_size</code>: \uac01 \uadf8\ub8f9\uc5d0\uc11c \ubc18\ud658\ud560 \ucd5c\ub300 \ud3ec\uc778\ud2b8 \uc218</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Hybrid%20Queries/#_9","title":"\uacb0\ub860","text":"<p>Qdrant\ub294 \ubcf5\uc218 \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \ud658\uacbd\uc5d0\uc11c \ub2e8\uc21c\ud55c \uc720\uc0ac\ub3c4 \ube44\uad50\ub97c \ub118\uc5b4\uc11c \uac80\uc0c9 \uc735\ud569, \ub2e4\ub2e8\uacc4 \ucd5c\uc801\ud654, \uc870\uac74 \uae30\ubc18 \uc810\uc218 \uc870\uc815, \uadf8\ub8f9\ud654 \ub4f1 \uace0\ub3c4\ud654\ub41c \uac80\uc0c9 \ub85c\uc9c1\uc744 \uad6c\ucd95\ud560 \uc218 \uc788\ub3c4\ub85d \ud48d\ubd80\ud55c \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574 \uac80\uc0c9 \ud488\uc9c8 \ud5a5\uc0c1, \uc131\ub2a5 \ucd5c\uc801\ud654, \ube44\uc988\ub2c8\uc2a4 \ubaa9\uc801\uc5d0 \ubd80\ud569\ud558\ub294 \uc815\ub82c \ubc0f \ucd94\ucc9c\uc774 \uac00\ub2a5\ud574\uc9c4\ub2e4.</p> <p>\uc774\ub7ec\ud55c \uace0\uae09 \uae30\ub2a5\uc740 \ud2b9\ud788 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 \uc2dc\uc2a4\ud15c, MRL \uae30\ubc18 \uac80\uc0c9, \uc0ac\uc6a9\uc790 \ub9de\ucda4\ud615 \ucd94\ucc9c \uc2dc\uc2a4\ud15c, \ubcf5\ud569 \uc870\uac74 \uac80\uc0c9\uc5d0\uc11c \ud070 \ud6a8\uacfc\ub97c \ubc1c\ud718\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/","title":"Indexing","text":"<p>Qdrant\ub294 \ubca1\ud130 \uc778\ub371\uc2a4\uc640 \uc804\ud1b5\uc801\uc778 \ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ubca1\ud130 \uac80\uc0c9 \uc5d4\uc9c4\uc774\ub2e4. </p> <p>\ud544\ud130\ub9c1 \uc870\uac74\uc774 \ud3ec\ud568\ub41c \uace0\uc18d \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc744 \uac00\ub2a5\ud558\uac8c \ud558\uae30 \uc704\ud574\uc11c\ub294 \ubca1\ud130 \uc778\ub371\uc2a4\ubfd0 \uc544\ub2c8\ub77c \ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4\ub3c4 \ud568\uaed8 \uad6c\ucd95\ub418\uc5b4\uc57c \ud55c\ub2e4. </p> <p>Qdrant\ub294 \ub2e4\uc591\ud55c \uc778\ub371\uc2a4 \ud0c0\uc785\uacfc \uc124\uc815\uc744 \ud1b5\ud574 \uc774\ub7ec\ud55c \uae30\ub2a5\uc744 \uc720\uc5f0\ud558\uac8c \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#1","title":"1. \uc778\ub371\uc2a4 \uad6c\uc131 \uc6d0\uce59","text":"<ul> <li> <p>\ubca1\ud130 \uc778\ub371\uc2a4\ub294 \uc720\uc0ac\ub3c4 \uac80\uc0c9 \uc18d\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a8\ub2e4.</p> </li> <li> <p>\ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4\ub294 \ud544\ud130\ub9c1 \uc18d\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a8\ub2e4.</p> </li> <li> <p>\ubaa8\ub4e0 \uc138\uadf8\uba3c\ud2b8\uac00 \uc778\ub371\uc2a4\ub97c \uac16\ub294 \uac83\uc740 \uc544\ub2c8\uba70, \ud544\uc694 \uc5ec\ubd80\ub294 Optimizer \uc124\uc815\uacfc \ub370\uc774\ud130 \uaddc\ubaa8\uc5d0 \ub530\ub77c \uc790\ub3d9 \uacb0\uc815\ub41c\ub2e4.</p> </li> <li> <p>\uc778\ub371\uc2a4 \uc124\uc815\uc740 \uceec\ub809\uc158 \uc218\uc900\uc5d0\uc11c \uc124\uc815\ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#2-payload-index","title":"2. \ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4 (Payload Index)","text":"<p>\ubb38\uc11c\ud615 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc758 \ud544\ub4dc \uc778\ub371\uc2a4\uc640 \uc720\uc0ac\ud558\uac8c \uc791\ub3d9\ud55c\ub2e4. \ud2b9\uc815 \ud544\ub4dc\uc5d0 \ub300\ud574 \ube60\ub978 \uc870\uac74 \uac80\uc0c9\uc774 \uac00\ub2a5\ud574\uc9c4\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/index\n{\n  \"field_name\": \"city\",\n  \"field_schema\": \"keyword\"\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#_1","title":"\uc9c0\uc6d0 \ud0c0\uc785","text":"\ud0c0\uc785 \uc124\uba85 keyword \ubb38\uc790\uc5f4 \ud544\ub4dc\uc6a9 (Match) integer \uc815\uc218\uac12 \ud544\ub4dc\uc6a9 (Match, Range) float \uc2e4\uc218\uac12 \ud544\ub4dc\uc6a9 (Range) bool \ubd88\ub9ac\uc5b8 \ud544\ub4dc\uc6a9 (Match, v1.4.0 \uc774\uc0c1) geo \uc704\uce58 \uc815\ubcf4 (Bounding Box, Radius \ub4f1) datetime \ub0a0\uc9dc \ud544\ub4dc\uc6a9 (Range, v1.8.0 \uc774\uc0c1) text \uc804\ubb38 \uac80\uc0c9\uc6a9 \uc778\ub371\uc2a4 (Full Text) uuid UUID \ubb38\uc790\uc5f4 \ud544\ub4dc \ucd5c\uc801\ud654 (v1.11.0 \uc774\uc0c1) <p>\ud544\ud130\ub9c1 \uc870\uac74\uc73c\ub85c \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \ud544\ub4dc\ub9cc \uc778\ub371\uc2f1\ud558\ub294 \uac83\uc774 \uba54\ubaa8\ub9ac \ud6a8\uc728\uc801\uc774\ub2e4. \uac12\uc758 \uc885\ub958\uac00 \ub9ce\uc740 \ud544\ub4dc\uc77c\uc218\ub85d \uc778\ub371\uc2f1 \ud6a8\uacfc\uac00 \ud06c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#3-full-text","title":"3. Full Text \uc778\ub371\uc2a4","text":"<p>\ud14d\uc2a4\ud2b8 \uac80\uc0c9\uc744 \uc704\ud55c \ud2b9\uc218\ud55c \uc778\ub371\uc2a4 \ud0c0\uc785\uc774\ub2e4. \ud14d\uc2a4\ud2b8\ub97c \ud1a0\ud070 \ub2e8\uc704\ub85c \ubd84\ub9ac\ud558\uc5ec \uc5ed\uc0c9\uc778 \uad6c\uc870\ub85c \uc800\uc7a5\ud55c\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/index\n{\n  \"field_name\": \"description\",\n  \"field_schema\": {\n    \"type\": \"text\",\n    \"tokenizer\": \"word\",\n    \"min_token_len\": 2,\n    \"max_token_len\": 20,\n    \"lowercase\": true\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#_2","title":"\uc9c0\uc6d0 \ud1a0\ud06c\ub098\uc774\uc800","text":"<ul> <li> <p><code>word</code>: \uc77c\ubc18\uc801\uc778 \ub2e8\uc5b4 \uae30\uc900 \ubd84\ud560</p> </li> <li> <p><code>whitespace</code>: \uacf5\ubc31 \uae30\uc900 \ubd84\ud560</p> </li> <li> <p><code>prefix</code>: \uc811\ub450\uc0ac \uae30\ubc18 \uac80\uc0c9</p> </li> <li> <p><code>multilingual</code>: \ub2e4\uc591\ud55c \uc5b8\uc5b4 \uc9c0\uc6d0 (\ube4c\ub4dc\uc2dc \uc635\uc158 \ud544\uc694)</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#4-parameterized-index","title":"4. \ud30c\ub77c\ubbf8\ud130 \uc778\ub371\uc2a4 (Parameterized Index)","text":"<p>\uc815\uc218 \ud544\ub4dc(integer)\uc5d0 \ub300\ud574 <code>lookup</code>, <code>range</code>\ub97c \ub3c5\ub9bd\uc801\uc73c\ub85c \uc9c0\uc815\ud558\uc5ec \uc778\ub371\uc2a4 \uc131\ub2a5\uc744 \uc870\uc808\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/index\n{\n  \"field_name\": \"score\",\n  \"field_schema\": {\n    \"type\": \"integer\",\n    \"lookup\": false,\n    \"range\": true\n  }\n}\n</code></pre> <ul> <li> <p><code>lookup: true</code> \u2192 Match \ud544\ud130 \uc9c0\uc6d0</p> </li> <li> <p><code>range: true</code> \u2192 Range \ud544\ud130 \uc9c0\uc6d0</p> </li> <li> <p>\ub458 \uc911 \ud558\ub098\ub9cc \ud65c\uc131\ud654\ud558\uba74 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\uacfc \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#5-on-disk-payload-index","title":"5. \ub514\uc2a4\ud06c \uae30\ubc18 \uc778\ub371\uc2a4 (On-Disk Payload Index)","text":"<p>\uae30\ubcf8\uc801\uc73c\ub85c \ubaa8\ub4e0 \ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4\ub294 \uba54\ubaa8\ub9ac\uc5d0 \uc720\uc9c0\ub41c\ub2e4. \ud558\uc9c0\ub9cc \uc778\ub371\uc2a4 \ud06c\uae30\uac00 \ud06c\uac70\ub098 \uc790\uc8fc \uc0ac\uc6a9\ub418\uc9c0 \uc54a\ub294 \uacbd\uc6b0 \ub514\uc2a4\ud06c \uae30\ubc18 \uc778\ub371\uc2a4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/index\n{\n  \"field_name\": \"uuid\",\n  \"field_schema\": {\n    \"type\": \"uuid\",\n    \"on_disk\": true\n  }\n}\n</code></pre> <p>\uc9c0\uc6d0 \ud0c0\uc785: keyword, integer, float, datetime, uuid, text, geo</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#6-tenant-index","title":"6. \uba40\ud2f0\ud14c\ub10c\uc2dc \uc778\ub371\uc2a4 (Tenant Index)","text":"<p>\uc5ec\ub7ec \ud14c\ub10c\ud2b8\ub97c \ud3ec\ud568\ud55c \uceec\ub809\uc158\uc5d0\uc11c \ud2b9\uc815 \ud544\ub4dc \uae30\uc900\uc73c\ub85c \uc11c\ube0c \uc778\ub371\uc2a4\ub97c \ubd84\ub9ac \uad6c\uc131\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/index\n{\n  \"field_name\": \"tenant_id\",\n  \"field_schema\": {\n    \"type\": \"keyword\",\n    \"is_tenant\": true\n  }\n}\n</code></pre> <ul> <li> <p><code>is_tenant: true</code>\ub85c \uc124\uc815\ub41c \ud544\ub4dc\ub294 \ub514\uc2a4\ud06c\uc0c1\uc5d0\uc11c \ud14c\ub10c\ud2b8 \ub2e8\uc704\ub85c \ud074\ub7ec\uc2a4\ud130\ub9c1\ub418\uc5b4 \uac80\uc0c9 \ud6a8\uc728\uc744 \ud5a5\uc0c1\uc2dc\ud0a8\ub2e4.</p> </li> <li> <p>\uc9c0\uc6d0 \ud0c0\uc785: keyword, uuid</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#7-principal-index","title":"7. \uc8fc \ud544\ub4dc \uc778\ub371\uc2a4 (Principal Index)","text":"<p>\uc2dc\uac04\uc774\ub098 \uc21c\uc11c \uae30\ubc18 \uac80\uc0c9\uc774 \ub9ce\uc740 \uacbd\uc6b0, \ud2b9\uc815 \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uac80\uc0c9 \ucd5c\uc801\ud654\ub97c \uc218\ud589\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/index\n{\n  \"field_name\": \"timestamp\",\n  \"field_schema\": {\n    \"type\": \"datetime\",\n    \"is_principal\": true\n  }\n}\n</code></pre> <ul> <li> <p>\uc2dc\uac04 \ud544\ud130 \uae30\ubc18 \ucffc\ub9ac\ub97c \ube60\ub974\uac8c \ucc98\ub9ac\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\uc9c0\uc6d0 \ud0c0\uc785: integer, float, datetime</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#8-vector-index","title":"8. \ubca1\ud130 \uc778\ub371\uc2a4 (Vector Index)","text":"<p>Qdrant\ub294 \ud604\uc7ac HNSW(Hierarchical Navigable Small World) \uc778\ub371\uc2a4\ub97c \ubca1\ud130 \uc778\ub371\uc2a4\ub85c \uc0ac\uc6a9\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#hnsw","title":"HNSW \uac1c\uc694","text":"<ul> <li> <p>\ub2e4\uce35 \uadf8\ub798\ud504 \uad6c\uc870</p> </li> <li> <p>\uc0c1\uc704 \ub808\ubca8: \uac04\uc120 \uc801\uc74c, \uac70\ub9ac \uba40\ub2e4</p> </li> <li> <p>\ud558\uc704 \ub808\ubca8: \uac04\uc120 \ub9ce\uc74c, \uac70\ub9ac \uac00\uae5d\ub2e4</p> </li> <li> <p>\uac80\uc0c9\uc740 \uc0c1\uc704\uc5d0\uc11c \uc2dc\uc791\ud558\uc5ec \uc810\uc810 \uc815\ud655\ud558\uac8c \uc774\ub3d9</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#_3","title":"\uc124\uc815 \uc608\uc2dc","text":"<pre><code>storage:\n  hnsw_index:\n    m: 16  # \ub178\ub4dc\ub2f9 \ucd5c\ub300 \uc5f0\uacb0 \uc218\n    ef_construct: 100  # \uc778\ub371\uc2a4 \uc0dd\uc131 \uc2dc \ud0d0\uc0c9 \ud3ed\n    full_scan_threshold: 10000  # \ud544\ud130\uac00 \uac15\ud558\uba74 \uc804\uccb4 \uc2a4\uce94 \uc6b0\uc120\n</code></pre> <ul> <li> <p><code>m</code>: \uc815\ud655\ub3c4 \ubc0f \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\uc5d0 \uc601\ud5a5</p> </li> <li> <p><code>ef_construct</code>: \uc778\ub371\uc2a4 \uad6c\ucd95 \uc18d\ub3c4 \u2194 \uc815\ud655\ub3c4</p> </li> </ul> <p>\uceec\ub809\uc158 \uc0dd\uc131 \uc2dc \ub610\ub294 vector\ubcc4\ub85c <code>hnsw_config</code>\ub97c \uc124\uc815\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#9-sparse-vector-index","title":"9. \uc2a4\ud30c\uc2a4 \ubca1\ud130 \uc778\ub371\uc2a4 (Sparse Vector Index)","text":"<p>\uc2a4\ud30c\uc2a4 \ubca1\ud130\ub294 \ub300\ubd80\ubd84\uc758 \uac12\uc774 0\uc778 \ubca1\ud130\ub85c, \ud6a8\uc728\uc801\uc778 \uc778\ub371\uc2a4\uac00 \ud544\uc694\ud558\ub2e4. Qdrant\ub294 \uc5ed\uc0c9\uc778 \uae30\ubc18 \uad6c\uc870\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc815\ud655\ud55c \uac80\uc0c9\uc744 \uc218\ud589\ud55c\ub2e4.</p> <pre><code>PUT /collections/{collection_name}\n{\n  \"sparse_vectors\": {\n    \"text\": {\n      \"index\": {\n        \"on_disk\": false\n      }\n    }\n  }\n}\n</code></pre> <ul> <li> <p>on_disk: true \u2192 \ub514\uc2a4\ud06c \uc800\uc7a5 (\uba54\ubaa8\ub9ac \uc808\uc57d, \uc18d\ub3c4 \uc800\ud558 \uac00\ub2a5)</p> </li> <li> <p>on_disk: false \u2192 \uba54\ubaa8\ub9ac\uc5d0 \uc720\uc9c0 (\ube60\ub978 \uac80\uc0c9)</p> </li> </ul> <p>\uc2a4\ud30c\uc2a4 \ubca1\ud130 \uc778\ub371\uc2a4\ub294 Dot Product\ub9cc \uc9c0\uc6d0\ud558\uba70, \uace0\uc815\ub41c \ucc28\uc6d0 \uc124\uc815\uc774 \ud544\uc694 \uc5c6\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#10-idf-modifier","title":"10. IDF Modifier","text":"<p>\uc2a4\ud30c\uc2a4 \ubca1\ud130\uc5d0\uc11c \ud76c\uc18c\ud55c \ub2e8\uc5b4\uc5d0 \uac00\uc911\uce58\ub97c \ub450\ub294 Inverse Document Frequency(IDF) \uae30\ubc95\uc744 \uc790\ub3d9\uc73c\ub85c \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/{collection_name}\n{\n  \"sparse_vectors\": {\n    \"text\": {\n      \"modifier\": \"idf\"\n    }\n  }\n}\n</code></pre> <ul> <li> <p>\uc790\uc8fc \ub4f1\uc7a5\ud558\uc9c0 \uc54a\ub294 \ud1a0\ud070\uc77c\uc218\ub85d \uac00\uc911\uce58\ub97c \ub192\uc5ec \uac80\uc0c9 \ud488\uc9c8\uc744 \ud5a5\uc0c1\uc2dc\ud0a8\ub2e4.</p> </li> <li> <p>\uc2a4\ud2b8\ub9ac\ubc0d \uc778\ud37c\ub7f0\uc2a4 \ud658\uacbd\uc5d0\uc11c \uc720\uc6a9\ud558\uac8c \ud65c\uc6a9\ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#11-filtrable-index","title":"11. Filtrable Index (\uacb0\ud569\ud615 \uc778\ub371\uc2a4 \ucd5c\uc801\ud654)","text":"<p>Qdrant\ub294 \ud544\ud130 \uc870\uac74\uc774 \ub108\ubb34 \uc57d\ud558\uac70\ub098 \ub108\ubb34 \uac15\ud560 \uacbd\uc6b0, HNSW \ub2e8\ub3c5 \uc0ac\uc6a9 \ub610\ub294 Full Scan \ubc29\uc2dd\uc774 \uac01\uac01 \uc801\ud569\ud558\ub2e4. \ud558\uc9c0\ub9cc \uc911\uac04 \ub09c\uc774\ub3c4\uc758 \uc870\uac74\uc5d0 \ub300\ud574\uc11c\ub294 \uc801\uc808\ud55c \ucd5c\uc801\ud654\uac00 \ud544\uc694\ud558\ub2e4.</p> <p>\uc774\ub97c \uc704\ud574 Qdrant\ub294 \ud544\ud130 \uc870\uac74 \uae30\ubc18\uc73c\ub85c \ucd94\uac00 \uac04\uc120\uc744 \uac16\ub294 HNSW \uad6c\uc870\ub97c \uc0ac\uc6a9\ud55c\ub2e4. \uac80\uc0c9 \uc911 \uc870\uac74\uc744 \ub9cc\uc871\ud558\ub294 \ubca1\ud130\ub9cc \ud0d0\uc0c9\ud558\uc5ec \ubd88\ud544\uc694\ud55c \uc810\uc218 \uacc4\uc0b0\uc744 \uc904\uc774\uace0 \uac80\uc0c9 \uc18d\ub3c4\ub97c \uc720\uc9c0\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Indexing/#_4","title":"\uacb0\ub860","text":"<p>Qdrant\uc758 \uc778\ub371\uc2f1 \uad6c\uc870\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \ud2b9\uc9d5\uc744 \uac00\uc9c4\ub2e4.</p> <ul> <li> <p>\ubca1\ud130 \uac80\uc0c9 + \ud544\ud130\ub9c1\uc744 \ubcd1\ud589\ud558\uae30 \uc704\ud55c \uad6c\uc870</p> </li> <li> <p>HNSW \uae30\ubc18 \uace0\uc18d \ubca1\ud130 \uc778\ub371\uc2f1\uacfc \ub2e4\uc591\ud55c \ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4\ub97c \uc9c0\uc6d0</p> </li> <li> <p>\ud14d\uc2a4\ud2b8, \uc704\uce58 \uc815\ubcf4, \ub0a0\uc9dc/\uc2dc\uac04, UUID \ub4f1 \ub2e4\uc591\ud55c \ud544\ub4dc\uc5d0 \ub300\ud574 \ucd5c\uc801\ud654 \uac00\ub2a5</p> </li> <li> <p>\ud14c\ub10c\uc2dc \ubc0f \uc2dc\uac04 \uae30\ubc18 \uac80\uc0c9 \ucd5c\uc801\ud654 \uae30\ub2a5 \ub0b4\uc7a5</p> </li> </ul> <p>\ubcf5\ud569\uc801\uc778 \uac80\uc0c9 \uc870\uac74, \ub300\uaddc\ubaa8 \ub370\uc774\ud130\uc14b, \ub2e4\uc591\ud55c \ud544\ud130 \uc870\uac74\uc744 \uace0\ub824\ud55c \uac80\uc0c9 \uc131\ub2a5\uc744 \ud655\ubcf4\ud558\uace0\uc790 \ud560 \ub54c, Qdrant\uc758 \uc778\ub371\uc2a4 \uc124\uc815\uc740 \ub9e4\uc6b0 \uc911\uc694\ud55c \uad6c\uc131 \uc694\uc18c\uac00 \ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/","title":"Load and Search Hugging Face Datasets","text":"<p>Hugging Face\ub294 \ubaa8\ub378\ubfd0 \uc544\ub2c8\ub77c \ub2e4\uc591\ud55c \uacf5\uac1c \ub370\uc774\ud130\uc14b\uc744 \uc81c\uacf5\ud55c\ub2e4. Qdrant \ud300 \uc5ed\uc2dc \uc784\ubca0\ub529\uc774 \ubbf8\ub9ac \uacc4\uc0b0\ub41c \ub370\uc774\ud130\uc14b\uc744 \uc5c5\ub85c\ub4dc\ud574 \ub450\uc5c8\ub2e4. \uc774\ub97c \ud65c\uc6a9\ud558\uba74 \uc784\ubca0\ub529 \uc0dd\uc131 \uacfc\uc815\uc744 \uc0dd\ub7b5\ud558\uace0 \uc989\uc2dc \ubca1\ud130 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc2e4\uc2b5\uc744 \uc2dc\uc791\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#arxiv-titles-instructorxl-embeddings","title":"\uc608\uc2dc \ub370\uc774\ud130\uc14b \u2015 <code>arxiv-titles-instructorxl-embeddings</code>","text":"<ul> <li> <p>\ub0b4\uc6a9: ArXiv \ub17c\ubb38 _\uc81c\ubaa9_\ub9cc\uc744 INSTRUCTOR-XL(768\ucc28\uc6d0)\ub85c \uc784\ubca0\ub529</p> </li> <li> <p>\ud06c\uae30: \uc57d 225\ub9cc \uac1c \ubca1\ud130, 16 GB \uc774\uc0c1</p> </li> <li> <p>\ud398\uc774\ub85c\ub4dc:</p> <pre><code>{\n  \"title\": \"Nash Social Welfare for Indivisible Items under ...\",\n  \"DOI\": \"1612.05191\"\n}\n</code></pre> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#1-hugging-face","title":"1. Hugging Face\uc5d0\uc11c \ub370\uc774\ud130 \ubd88\ub7ec\uc624\uae30","text":"<pre><code>from datasets import load_dataset\n\ndataset = load_dataset(\"Qdrant/arxiv-titles-instructorxl-embeddings\")\n# \u2192 \ub514\uc2a4\ud06c \uc804\uccb4 \ub2e4\uc6b4\ub85c\ub4dc (\uc2dc\uac04 \uc18c\uc694)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#_1","title":"\uc2a4\ud2b8\ub9ac\ubc0d\uc73c\ub85c \uba54\ubaa8\ub9ac \uc808\uc57d","text":"<pre><code>dataset = load_dataset(\n    \"Qdrant/arxiv-titles-instructorxl-embeddings\",\n    split=\"train\",\n    streaming=True,      # \ub2e4\uc6b4\ub85c\ub4dc \uc5c6\uc774 \uc2a4\ud2b8\ub9bc\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#2-qdrant","title":"2. Qdrant \uceec\ub809\uc158 \uc0dd\uc131","text":"<pre><code>from qdrant_client import QdrantClient, models\n\nclient = QdrantClient(\"http://localhost:6333\")   # \ud544\uc694 \uc2dc URL \ubcc0\uacbd\n\nclient.create_collection(\n    collection_name=\"arxiv-titles-instructorxl-embeddings\",\n    vectors_config=models.VectorParams(\n        size=768,\n        distance=models.Distance.COSINE\n    ),\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#3","title":"3. \ub300\uc6a9\ub7c9 \ubc30\uce58 \uc5c5\ub85c\ub4dc","text":"<p>\ub300\uaddc\ubaa8 \ub370\uc774\ud130\ub294 \ubc30\uce58\ub85c \ub098\ub204\uc5b4 <code>upsert</code> \ud574\uc57c \ud6a8\uc728\uc801\uc774\ub2e4.</p> <pre><code>from itertools import islice\n\ndef batched(iterable, n: int):\n    iterator = iter(iterable)\n    while (batch := list(islice(iterator, n))):\n        yield batch\n\nbatch_size = 100\n\nfor batch in batched(dataset, batch_size):\n    ids     = [row.pop(\"id\")     for row in batch]   # id \ubd84\ub9ac\n    vectors = [row.pop(\"vector\") for row in batch]   # \ubca1\ud130 \ubd84\ub9ac\n\n    client.upsert(\n        collection_name=\"arxiv-titles-instructorxl-embeddings\",\n        points=models.Batch(\n            ids=ids,\n            vectors=vectors,\n            payloads=batch,     # title\u00b7DOI \ub4f1 \uba54\ud0c0\ub370\uc774\ud130\n        ),\n    )\n</code></pre> <ul> <li>Python 3.12 \uc774\uc0c1\uc774\uba74 <code>itertools.batched</code> \ub97c \ubc14\ub85c \uc0ac\uc6a9\ud574\ub3c4 \ub41c\ub2e4.</li> </ul> <p>\uc5c5\ub85c\ub4dc\uac00 \ub05d\ub098\uba74 \ubca1\ud130 \uac80\uc0c9 \uc989\uc2dc \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#4","title":"4. \uac04\ub2e8\ud55c \uac80\uc0c9 \uc608\uc2dc","text":"<pre><code>result = client.query_points(\n    collection_name=\"arxiv-titles-instructorxl-embeddings\",\n    query=[\u2026768\ucc28\uc6d0 \ucffc\ub9ac \ubca1\ud130\u2026],\n    limit=5,\n).points\n\nfor p in result:\n    print(p.payload[\"title\"], p.score)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Load%20and%20Search%20Hugging%20Face%20Datasets/#_2","title":"\ub354 \ub9ce\uc740 \uc2e4\uc2b5\uc6a9 \ub370\uc774\ud130","text":"<p>Qdrant Hub\u00b7Hugging Face\uc5d0 \uacc4\uc18d \ucd94\uac00 \uc911\uc774\ub2e4. \ud544\uc694\ud55c \ub370\uc774\ud130\uc14b\uc774 \uc788\ub2e4\uba74 Discord \ucc44\ub110\ub85c \uc694\uccad\ud558\uba74 \ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/","title":"Multivector Reranking","text":"<p>\uba40\ud2f0\ubca1\ud130(multivector) \uae30\ub2a5\uc740 Qdrant\uac00 \uc81c\uacf5\ud558\ub294 \ud575\uc2ec \ud2b9\uc9d5 \uac00\uc6b4\ub370 \ud558\ub098\uc774\ub2e4. </p> <p>\uadf8\ub7ec\ub098 \ubb38\uc11c-\uc218\uc900\uc774 \uc544\ub2cc \ud1a0\ud070-\uc218\uc900 \ubca1\ud130\ub97c \ub2e4\ub8e8\ub294 \ud2b9\uc131\uc0c1, \ubb34\uc791\uc815 \ud65c\uc6a9\ud558\uba74 RAM \uae09\uc99d\u00b7\uc0bd\uc785 \uc9c0\uc5f0\u00b7\uacc4\uc0b0 \ub0ad\ube44\ub85c \uc774\uc5b4\uc9c0\uae30 \uc27d\ub2e4. </p> <p>\ubcf8 \uae00\uc5d0\uc11c\ub294 ColBERT \uac19\uc740 Late-Interaction \ubaa8\ub378\uc744 \uc608\ub85c \ub4e4\uc5b4, Qdrant\uc5d0\uc11c \uba40\ud2f0\ubca1\ud130\ub97c \uc800\ube44\uc6a9\u00b7\uace0\uc815\ubc00\ub85c \uc6b4\uc6a9\ud558\ub294 \uc2e4\uc804 \uc694\ub839\uc744 \uc815\ub9ac\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#1","title":"1. \uba40\ud2f0\ubca1\ud130\ub780 \ubb34\uc5c7\uc778\uac00","text":"<p>\uc77c\ubc18\uc801\uc778 \ubca1\ud130 \uac80\uc0c9 \uc5d4\uc9c4\uc740 \ud558\ub098\uc758 \ubb38\uc11c\ub97c \ub2e8\uc77c \ubca1\ud130\ub85c \ud45c\ud604\ud55c\ub2e4. \uc9e7\uc740 \ud14d\uc2a4\ud2b8\uc5d0\ub294 \ucda9\ubd84\ud558\uc9c0\ub9cc, \uae34 \ubb38\uc11c\uc5d0\uc11c\ub294 \ud480\ub9c1 \uacfc\uc815\uc5d0\uc11c \uc815\ubcf4\uac00 \uc190\uc2e4\ub41c\ub2e4.  </p> <p>\uba40\ud2f0\ubca1\ud130 \ud45c\ud604\uc740 \ubb38\uc11c \u2192 \uc5ec\ub7ec \uac1c\uc758 \ud1a0\ud070/\uad6c\ubb38 \ubca1\ud130\ub85c \ubcc0\ud658\ud558\uc5ec \ucffc\ub9ac \ud1a0\ud070\uacfc \ubb38\uc11c \uc77c\ubd80\ub97c \uc815\ubc00 \ub9e4\uce6d\ud55c\ub2e4. ColBERT\ub294 \uc774\ub7ec\ud55c \ud1a0\ud070-\uc218\uc900 \ubca1\ud130\uc5d0 <code>MaxSim</code> \ud568\uc218\ub97c \uc801\uc6a9\ud574 Late-Interaction \ubc29\uc2dd\uc73c\ub85c \uc810\uc218\ub97c \uacc4\uc0b0\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#2-rescoring","title":"2. \uc7ac\ub7ad\ud0b9(rescoring)\uc758 \uac1c\ub150","text":"<ol> <li> <p>1\ub2e8\uacc4: \ube60\ub978 Dense \ubaa8\ub378\ub85c \ud6c4\ubcf4 \ubb38\uc11c\ub97c \uac00\uc838\uc628\ub2e4.</p> </li> <li> <p>2\ub2e8\uacc4: ColBERT \ub4f1 \uc815\ubc00\ud558\uc9c0\ub9cc \ub290\ub9b0 \ubaa8\ub378\uc774 \ud6c4\ubcf4 \uc9d1\ud569\uc744 \ub2e4\uc2dc \uc810\uc218\ud654\ud55c\ub2e4.</p> </li> </ol> <p>\uc774 \uacfc\uc815\uc5d0\uc11c \uba40\ud2f0\ubca1\ud130\ub294 \uc7ac\ub7ad\ud0b9 \uc804\uc6a9\uc73c\ub85c \uc4f0\uc774\ub294 \uacbd\uc6b0\uac00 \ub9ce\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#3-hnsw","title":"3. \u201c\ubca1\ud130 \uc804\ubd80 HNSW \uc778\ub371\uc2f1\u201d\uc774 \ubb38\uc81c\uc778 \uc774\uc720","text":"<p>Late-Interaction \ubaa8\ub378 \ud55c \ubb38\uc11c\ub294 \uc218\ubc31 \uac1c \ud1a0\ud070 \ubca1\ud130\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc774\ub4e4\uc744 \ubaa8\ub450 HNSW\ub85c \uc778\ub371\uc2f1\ud558\uba74</p> <ul> <li> <p>RAM \uc0ac\uc6a9\ub7c9 \uae09\uc99d</p> </li> <li> <p>HNSW \uadf8\ub798\ud504 \uac31\uc2e0\uc73c\ub85c \uc0bd\uc785 \uc18d\ub3c4 \uc800\ud558</p> </li> </ul> <p>\uc7ac\ub7ad\ud0b9 \ub2e8\uacc4\uc5d0\uc11c\ub294 HNSW \ud0d0\uc0c9\uc774 \uad73\uc774 \ud544\uc694 \uc5c6\uc73c\ubbc0\ub85c, \uba40\ud2f0\ubca1\ud130 \ud544\ub4dc\uc758 \uc778\ub371\uc2f1\uc744 \ube44\ud65c\uc131\ud654\ud558\uc5ec \uc790\uc6d0\uc744 \uc808\uc57d\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>from qdrant_client import QdrantClient, models\n\nclient = QdrantClient(\"http://localhost:6333\")\nclient.create_collection(\n    collection_name=\"dense_multivector_demo\",\n    vectors_config={\n        \"dense\": models.VectorParams(\n            size=384,\n            distance=models.Distance.COSINE            # 1\ub2e8\uacc4 \uac80\uc0c9\uc6a9, \uc778\ub371\uc2f1 \uc720\uc9c0\n        ),\n        \"colbert\": models.VectorParams(\n            size=128,\n            distance=models.Distance.COSINE,\n            multivector_config=models.MultiVectorConfig(\n                comparator=models.MultiVectorComparator.MAX_SIM\n            ),\n            hnsw_config=models.HnswConfigDiff(m=0)      # HNSW \uc778\ub371\uc2f1 OFF\n        ),\n    },\n)\n</code></pre> <ul> <li> <p><code>m=0</code>\uc73c\ub85c \uc124\uc815\ud558\uba74 \ud574\ub2f9 \ubca1\ud130 \uc2a4\ud398\uc774\uc2a4\uc5d0 HNSW \uadf8\ub798\ud504\uac00 \uc0dd\uc131\ub418\uc9c0 \uc54a\ub294\ub2e4.</p> </li> <li> <p>\uacb0\uacfc: RAM \uc808\uac10\u00b7\uc5c5\ub85c\ub4dc \uac00\uc18d\u00b7CPU \ubd80\ud558 \uac10\uc18c \ud6a8\uacfc\uac00 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#4-fastembed-colbert","title":"4. FastEmbed\ub85c ColBERT \uba40\ud2f0\ubca1\ud130 \uc0dd\uc131","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#41","title":"4.1 \uc124\uce58 \ubc0f \ud074\ub77c\uc774\uc5b8\ud2b8 \ucd08\uae30\ud654","text":"<pre><code>pip install \"qdrant-client[fastembed]&gt;=1.14.2\"\n</code></pre> <pre><code>from qdrant_client import QdrantClient, models\nclient = QdrantClient(\"http://localhost:6333\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#42","title":"4.2 \ubb38\uc11c\u00b7\ucffc\ub9ac \uc784\ubca0\ub529","text":"<pre><code>from fastembed import TextEmbedding, LateInteractionTextEmbedding\n\ndocs = [\n    \"Artificial intelligence is used in hospitals for cancer diagnosis and treatment.\",\n    \"Self-driving cars use AI to detect obstacles and make driving decisions.\",\n    \"AI is transforming customer service through chatbots and automation.\",\n]\nquery_text = \"How does AI help in medicine?\"\n\ndense_docs   = [models.Document(text=d, model=\"BAAI/bge-small-en\")   for d in docs]\ncolbert_docs = [models.Document(text=d, model=\"colbert-ir/colbertv2.0\") for d in docs]\n\ndense_query   = models.Document(text=query_text, model=\"BAAI/bge-small-en\")\ncolbert_query = models.Document(text=query_text, model=\"colbert-ir/colbertv2.0\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#43","title":"4.3 \uceec\ub809\uc158 \uc0dd\uc131","text":"<p>\uc55e\uc11c \ubcf8 \uc608\uc2dc\uc640 \ub3d9\uc77c\ud558\uac8c <code>dense</code>\ub294 \uc778\ub371\uc2f1 \uc720\uc9c0, <code>colbert</code>\ub294 \uc778\ub371\uc2f1 \ud574\uc81c\ud558\uc5ec \ub9cc\ub4e0\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#44","title":"4.4 \ubca1\ud130 \uc5c5\ub85c\ub4dc","text":"<pre><code>points = [\n    models.PointStruct(\n        id=i,\n        vector={\n            \"dense\":   dense_docs[i],\n            \"colbert\": colbert_docs[i],\n        },\n        payload={\"text\": docs[i]},\n    )\n    for i in range(len(docs))\n]\n\nclient.upload_points(\n    collection_name=\"dense_multivector_demo\",\n    points=points,\n    batch_size=8,\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#45","title":"4.5 \uac80\uc0c9 + \uc7ac\ub7ad\ud0b9 \ud55c \ubc88\uc5d0 \uc2e4\ud589","text":"<pre><code>results = client.query_points(\n    collection_name=\"dense_multivector_demo\",\n    prefetch=models.Prefetch(                    # 1\ub2e8\uacc4: dense \uac80\uc0c9\n        query=dense_query,\n        using=\"dense\",\n    ),\n    query=colbert_query,                         # 2\ub2e8\uacc4: ColBERT \uc7ac\ub7ad\ud0b9\n    using=\"colbert\",\n    limit=3,\n    with_payload=True,\n)\n</code></pre> <ul> <li> <p><code>prefetch</code> \uacb0\uacfc\uac00 \ud6c4\ubcf4 \uc9d1\ud569\uc744 \uad6c\uc131\ud55c\ub2e4.</p> </li> <li> <p><code>query/using=\"colbert\"</code>\uac00 <code>MaxSim</code> \uae30\ubc18 \ud1a0\ud070-\ub9e4\uce6d\uc73c\ub85c \uc7ac\ub7ad\ud0b9\ud55c\ub2e4.</p> </li> <li> <p>\ucd5c\uc885 \uc0c1\uc704 3\uac1c \ubb38\uc11c\ub97c \ubc18\ud658\ud55c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Multivector%20Reranking/#5","title":"5. \uc694\uc57d","text":"<ul> <li> <p>\uba40\ud2f0\ubca1\ud130\ub294 \ud1a0\ud070-\uc218\uc900 \uc815\ubc00 \ub9e4\uce6d\uc73c\ub85c Late-Interaction \uc7ac\ub7ad\ud0b9\uc5d0 \ud0c1\uc6d4\ud558\ub2e4.</p> </li> <li> <p>Qdrant\uc5d0\uc11c\ub294 \ubca1\ud130\ubcc4 \uc778\ub371\uc2f1 \uc5ec\ubd80\ub97c \uc790\uc720\ub86d\uac8c \uc124\uc815\ud560 \uc218 \uc788\ub2e4.</p> <ul> <li> <p>Dense \ubca1\ud130: HNSW \uc778\ub371\uc2f1 \uc720\uc9c0 \u2192 \ube60\ub978 1\ucc28 \uac80\uc0c9</p> </li> <li> <p>ColBERT \ubca1\ud130: <code>m=0</code> \u2192 \uc778\ub371\uc2f1 \ud574\uc81c \u2192 \uc790\uc6d0 \uc808\uc57d</p> </li> </ul> </li> <li> <p>FastEmbed + Qdrant \uc870\ud569\uc73c\ub85c ColBERT \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc190\uc27d\uac8c \uad6c\ucd95\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>\ud55c \ubc88\uc758 API \ud638\ucd9c\ub85c \ud6c4\ubcf4 \uac80\uc0c9 + \ud1a0\ud070-\uc815\ubc00 \uc7ac\ub7ad\ud0b9\uc744 \uc218\ud589\ud558\uc5ec \ud6a8\uc728\uacfc \uc815\ud655\ub3c4\ub97c \ub3d9\uc2dc\uc5d0 \ud655\ubcf4\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul> <p>\uc774 \uac00\uc774\ub4dc\ub97c \uc801\uc6a9\ud558\uba74 \uba40\ud2f0\ubca1\ud130 \uae30\ubc18 \uc7ac\ub7ad\ud0b9\uc744 RAM\u00b7\uc5f0\uc0b0 \ube44\uc6a9 \uac71\uc815 \uc5c6\uc774 \uc2e4\uc11c\ube44\uc2a4\uc5d0 \ub3c4\uc785\ud560 \uc218 \uc788\ub2e4.  Qdrant Cloud\ub97c \uc774\uc6a9\ud558\uba74 \uad00\ub9ac\ud615 \ud658\uacbd\uc5d0\uc11c\ub3c4 \ub3d9\uc77c\ud55c \uad6c\uc131\uc744 \uc989\uc2dc \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/","title":"Payload","text":"<p>Qdrant\ub294 \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc774\uc9c0\ub9cc, \ub2e8\uc21c\ud55c \ubca1\ud130 \uc720\uc0ac\ub3c4 \ube44\uad50\ub97c \ub118\uc5b4 \ucd94\uac00\uc801\uc778 \uc18d\uc131 \uc815\ubcf4(Payload)\ub97c \ud568\uaed8 \uc800\uc7a5\ud558\uace0 \uac80\uc0c9\ud560 \uc218 \uc788\ub2e4\ub294 \uc810\uc5d0\uc11c \ub9e4\uc6b0 \uac15\ub825\ud558\ub2e4. </p> <p>\uc774 \uae30\ub2a5\uc744 \ud1b5\ud574 \uc0ac\uc6a9\uc790 \uc815\uc758 \ud544\ud130\ub9c1, \uba54\ud0c0\ub370\uc774\ud130 \uae30\ubc18 \uc870\uac74 \uac80\uc0c9, \ud398\uc774\uc2f1 \ubc0f \ud328\uc2ef \uae30\ubc18 \ud0d0\uc0c9\uc774 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#payload","title":"Payload\ub780 \ubb34\uc5c7\uc778\uac00","text":"<p>Payload\ub294 \ubca1\ud130\uc5d0 \uc5f0\uacb0\ub41c \ubd80\uac00 \uc815\ubcf4\ub85c, JSON \ud615\uc2dd\uc73c\ub85c \uc800\uc7a5\ub41c\ub2e4. \ud14d\uc2a4\ud2b8, \uc22b\uc790, \ub0a0\uc9dc, \uc704\uce58 \uc815\ubcf4 \ub4f1 \ub2e4\uc591\ud55c \ud615\ud0dc\uc758 \ub370\uc774\ud130\ub97c \ub2f4\uc744 \uc218 \uc788\uc73c\uba70, \uac01 \ud3ec\uc778\ud2b8\uc5d0 \uc720\uc758\ubbf8\ud55c \uc18d\uc131\uc744 \ubd80\uc5ec\ud568\uc73c\ub85c\uc368 \uac80\uc0c9 \uacb0\uacfc\uc758 \uc720\uc6a9\uc131\uacfc \uc815\ubc00\ub3c4\ub97c \ub192\uc77c \uc218 \uc788\ub2e4.</p> <p>\ub2e4\uc74c\uc740 \uc608\uc2dc\uc774\ub2e4.</p> <pre><code>{\n  \"name\": \"jacket\",\n  \"colors\": [\"red\", \"blue\"],\n  \"count\": 10,\n  \"price\": 11.99,\n  \"locations\": [{ \"lon\": 52.5200, \"lat\": 13.4050 }],\n  \"reviews\": [\n    { \"user\": \"alice\", \"score\": 4 },\n    { \"user\": \"bob\", \"score\": 5 }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#payload_1","title":"\uc9c0\uc6d0\ud558\ub294 Payload \ud0c0\uc785","text":"<p>Qdrant\ub294 \ub2e4\uc591\ud55c \ub370\uc774\ud130 \ud0c0\uc785\uc744 \uc9c0\uc6d0\ud558\uba70, \uac80\uc0c9 \uc2dc \ud544\ud130\ub9c1 \uc870\uac74\uc73c\ub85c\ub3c4 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4. \ub370\uc774\ud130 \ud0c0\uc785\uc5d0 \ub530\ub77c \uac80\uc0c9 \uac00\ub2a5\ud55c \uc870\uac74\uc774 \ub2e4\ub974\ubbc0\ub85c \uc801\uc808\ud55c \ud0c0\uc785 \uc0ac\uc6a9\uc774 \uc911\uc694\ud558\ub2e4.</p> \ud0c0\uc785 \uc124\uba85 Integer 64\ube44\ud2b8 \uc815\uc218, \ub2e8\uc77c \ud639\uc740 \ubc30\uc5f4 \ud615\ud0dc\ub85c \uc800\uc7a5 \uac00\ub2a5 Float 64\ube44\ud2b8 \uc2e4\uc218, \uac00\uaca9, \uc810\uc218 \ub4f1\uc758 \uc815\ubc00\ud55c \uc218\uce58 \ud45c\ud604 Bool true \ub610\ub294 false Keyword \ubb38\uc790\uc5f4 \ub370\uc774\ud130, \uc815\ub82c \ubc0f \ub9e4\uce6d \uc870\uac74\uc5d0 \uc801\ud569 Geo \uc704\ub3c4(lat), \uacbd\ub3c4(lon)\ub85c \uad6c\uc131\ub41c \uc88c\ud45c\uac12 Datetime RFC 3339 \ud3ec\ub9f7\uc758 \ub0a0\uc9dc/\uc2dc\uac04 UUID \uace0\uc720 \uc2dd\ubcc4\uc790 \ud615\ud0dc\uc758 \ubb38\uc790\uc5f4. 1.11.0 \uc774\uc0c1\uc5d0\uc11c \ubcc4\ub3c4 \ud0c0\uc785 \uc9c0\uc6d0"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#_1","title":"\ubc30\uc5f4 \ucc98\ub9ac \ubc29\uc2dd","text":"<p>\ubc30\uc5f4\uc740 \ub0b4\ubd80 \uac12 \uc911 \ud558\ub098\ub77c\ub3c4 \uc870\uac74\uc5d0 \ubd80\ud569\ud558\uba74 \ud544\ud130 \uc870\uac74\uc744 \ucda9\uc871\ud55c \uac83\uc73c\ub85c \uac04\uc8fc\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#payload_2","title":"Payload \uc0bd\uc785 \uc608\uc2dc","text":"<pre><code>PUT /collections/my_collection/points\n{\n  \"points\": [\n    {\n      \"id\": 1,\n      \"vector\": [0.05, 0.61, 0.76, 0.74],\n      \"payload\": { \"city\": \"Berlin\", \"price\": 1.99 }\n    },\n    {\n      \"id\": 2,\n      \"vector\": [0.19, 0.81, 0.75, 0.11],\n      \"payload\": { \"city\": [\"Berlin\", \"London\"], \"price\": 1.99 }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#payload_3","title":"Payload \uc5c5\ub370\uc774\ud2b8 \ubc29\uc2dd","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#1-set-payload","title":"1. Set Payload","text":"<p>\uae30\uc874 \ud398\uc774\ub85c\ub4dc\ub294 \uc720\uc9c0\ud55c \ucc44 \ud2b9\uc815 \ud544\ub4dc\ub9cc \uc124\uc815\ud558\uac70\ub098 \ub36e\uc5b4\uc4f4\ub2e4.</p> <pre><code>POST /collections/my_collection/points/payload\n{\n  \"payload\": {\n    \"brand\": \"Nike\",\n    \"stock\": 100\n  },\n  \"points\": [1, 2]\n}\n</code></pre> <p>\ub610\ub294 \ud544\ud130\ub97c \uc0ac\uc6a9\ud574 \ud2b9\uc815 \uc870\uac74\uc744 \ub9cc\uc871\ud558\ub294 \ud3ec\uc778\ud2b8\uc5d0 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>{\n  \"payload\": { \"brand\": \"Nike\" },\n  \"filter\": {\n    \"must\": [{ \"key\": \"color\", \"match\": { \"value\": \"red\" } }]\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#2-nested","title":"2. \ud0a4 \uc9c0\uc815 \uc5c5\ub370\uc774\ud2b8 (Nested \uad6c\uc870 \uc9c0\uc6d0)","text":"<pre><code>POST /collections/my_collection/points/payload\n{\n  \"payload\": { \"nested_property\": \"qux\" },\n  \"key\": \"property1\",\n  \"points\": [1]\n}\n</code></pre> <p>\uc774 \ubc29\uc2dd\uc740 <code>property1</code> \ub0b4\ubd80\uc758 <code>nested_property</code> \uac12\ub9cc \ubcc0\uacbd\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#3-overwrite-payload","title":"3. Overwrite Payload","text":"<p>\uae30\uc874 payload \uc804\uccb4\ub97c \uc644\uc804\ud788 \ub300\uccb4\ud55c\ub2e4.</p> <pre><code>PUT /collections/my_collection/points/payload\n{\n  \"payload\": {\n    \"name\": \"jacket\",\n    \"price\": 19.99\n  },\n  \"points\": [1, 2]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#4-clear-payload","title":"4. Clear Payload","text":"<p>\ud3ec\uc778\ud2b8\uc5d0\uc11c \ubaa8\ub4e0 payload \ud544\ub4dc\ub97c \uc81c\uac70\ud55c\ub2e4.</p> <pre><code>POST /collections/my_collection/points/payload/clear\n{\n  \"points\": [1, 2]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#5-delete-payload-keys","title":"5. Delete Payload Keys","text":"<p>\ud2b9\uc815 \ud0a4\ub9cc \uc81c\uac70\ud558\uace0 \ub098\uba38\uc9c0 \ud544\ub4dc\ub294 \uc720\uc9c0\ud55c\ub2e4.</p> <pre><code>POST /collections/my_collection/points/payload/delete\n{\n  \"keys\": [\"price\", \"color\"],\n  \"points\": [1, 2]\n}\n</code></pre> <p>\ud544\ud130\ub97c \ud65c\uc6a9\ud55c \uc81c\uac70\ub3c4 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#payload_4","title":"Payload \uc778\ub371\uc2f1","text":"<p>\ud6a8\uc728\uc801\uc778 \uac80\uc0c9\uc744 \uc704\ud574 payload \ud544\ub4dc\uc5d0 \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4. \uc778\ub371\uc2a4\ub294 \uac80\uc0c9 \uc18d\ub3c4\ub97c \ud06c\uac8c \ud5a5\uc0c1\uc2dc\ud0a4\uba70, \ud2b9\ud788 \uacb0\uacfc \ubc94\uc704\ub97c \ube60\ub974\uac8c \uc904\uc77c \uc218 \uc788\ub294 \ud544\ub4dc\uc5d0 \ud6a8\uacfc\uc801\uc774\ub2e4.</p> <p>\uc608\uc2dc</p> <pre><code>PUT /collections/my_collection/index\n{\n  \"field_name\": \"brand\",\n  \"field_schema\": \"keyword\"\n}\n</code></pre> <p>\ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4\ub294 \uceec\ub809\uc158 \uba54\ud0c0 \uc815\ubcf4 \uc870\ud68c \uc2dc \ud655\uc778\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>\"payload_schema\": {\n  \"brand\": {\n    \"data_type\": \"keyword\"\n  },\n  \"price\": {\n    \"data_type\": \"float\"\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#facet-count","title":"Facet Count (\ud328\uc2ef \uce74\uc6b4\ud2b8)","text":"<p>1.12.0\ubd80\ud130 Qdrant\ub294 \ud2b9\uc815 \ud544\ub4dc\uc5d0 \ub300\ud574 \uac12\ubcc4 \uac1c\uc218 \ud1b5\uacc4(facet)\ub97c \uc81c\uacf5\ud55c\ub2e4. \uc774\ub294 SQL\uc758 <code>GROUP BY</code>\uc640 \uc720\uc0ac\ud558\uba70, \ud544\ud130\ub9c1 \ub610\ub294 \ubd84\ud3ec \uc2dc\uac01\ud654\uc5d0 \ud65c\uc6a9\ub41c\ub2e4.</p> <pre><code>POST /collections/my_collection/facet\n{\n  \"key\": \"size\",\n  \"filter\": {\n    \"must\": [{ \"key\": \"color\", \"match\": { \"value\": \"red\" } }]\n  }\n}\n</code></pre> <p>\uacb0\uacfc \uc608\uc2dc</p> <pre><code>\"hits\": [\n  { \"value\": \"L\", \"count\": 19 },\n  { \"value\": \"M\", \"count\": 10 },\n  { \"value\": \"S\", \"count\": 5 }\n]\n</code></pre> <p>\uae30\ubcf8\uc801\uc73c\ub85c <code>limit</code>\uc740 10\uc774\uba70, <code>exact: true</code>\ub85c \uc124\uc815\ud558\uba74 \uc815\ud655\ud55c \uc218\uce58\ub97c \ubc18\ud658\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Payload/#_2","title":"\ub9c8\ubb34\ub9ac","text":"<p>Qdrant\uc758 Payload \uae30\ub2a5\uc740 \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9\uc5d0 \uad6c\uc870\ud654\ub41c \uc870\uac74\uc744 \ub354\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\uba70, \uc774\ub97c \ud1b5\ud574 \ub2e8\uc21c \uc720\uc0ac\ub3c4 \uae30\ubc18 \uac80\uc0c9\uc744 \ub118\uc5b4\uc120 \uace0\ucc28\uc6d0\uc801 \ud544\ud130\ub9c1\uacfc \ubd84\uc11d\uc774 \uac00\ub2a5\ud558\ub2e4. \uc815\ud615 \ub370\uc774\ud130\uc640 \ube44\uc815\ud615 \ub370\uc774\ud130\uac00 \ud568\uaed8 \uc874\uc7ac\ud558\ub294 \uc0c1\ud669\uc5d0\uc11c\ub3c4 Qdrant\ub294 \uc720\uc5f0\ud558\uace0 \uac15\ub825\ud55c \ub370\uc774\ud130 \ud45c\ud604 \ubc0f \ud544\ud130\ub9c1 \ub2a5\ub825\uc744 \uc81c\uacf5\ud55c\ub2e4.</p> <p>Payload\ub97c \uc798 \uc124\uacc4\ud558\uace0 \uc778\ub371\uc2f1\uc744 \uc801\uc808\ud788 \uc124\uc815\ud558\uba74 \uac80\uc0c9 \ud488\uc9c8\uacfc \uc751\ub2f5 \uc18d\ub3c4\ub97c \ubaa8\ub450 \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/","title":"Points","text":"<p>Qdrant\uc5d0\uc11c \uac00\uc7a5 \ud575\uc2ec\uc801\uc778 \ub370\uc774\ud130 \ub2e8\uc704\ub294 \ud3ec\uc778\ud2b8(Point)\uc774\ub2e4. \ud3ec\uc778\ud2b8\ub294 \ubca1\ud130\uc640 \ud398\uc774\ub85c\ub4dc(payload)\ub97c \ud568\uaed8 \ud3ec\ud568\ud558\ub294 \ud558\ub098\uc758 \ub808\ucf54\ub4dc\uc774\uba70, Qdrant\uc5d0\uc11c\uc758 \uc720\uc0ac\ub3c4 \uac80\uc0c9, \ud544\ud130\ub9c1 \uae30\ubc18 \uac80\uc0c9, \ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8, \uc0ad\uc81c \ubc0f \uc870\ud68c \ub4f1\uc758 \ubaa8\ub4e0 \uc5f0\uc0b0\uc740 \uc774 \ud3ec\uc778\ud2b8\ub97c \uc911\uc2ec\uc73c\ub85c \uc774\ub8e8\uc5b4\uc9c4\ub2e4.  </p> <p>\ud558\ub098\uc758 \ud3ec\uc778\ud2b8\ub294 \ubc18\ub4dc\uc2dc \ud558\ub098 \uc774\uc0c1\uc758 \ubca1\ud130\ub97c \ud3ec\ud568\ud574\uc57c \ud558\uba70, \uc774 \ubca1\ud130\ub294 \uba38\uc2e0\ub7ec\ub2dd \ubaa8\ub378\uc774\ub098 \uc784\ubca0\ub529 \uc54c\uace0\ub9ac\uc998\uc5d0 \uc758\ud574 \uc0dd\uc131\ub41c \uace0\ucc28\uc6d0 \uc218\uce58 \ubc30\uc5f4\uc774\ub2e4. \ubca1\ud130\ub294 \uc8fc\ub85c \uc758\ubbf8\uc801 \uc720\uc0ac\uc131\uc744 \ube44\uad50\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\uba70, \uc0ac\uc6a9\uc790\ub294 \uc720\uc0ac\ud55c \ubca1\ud130\ub97c \uac00\uc9c4 \ud3ec\uc778\ud2b8\ub97c \ube60\ub974\uac8c \ucc3e\uc544\ub0bc \uc218 \uc788\ub2e4.</p> <p>\ud398\uc774\ub85c\ub4dc\ub294 \uc120\ud0dd\uc801\uc73c\ub85c \uc81c\uacf5\ub418\ub294 \ucd94\uac00 \uc815\ubcf4\ub85c, \uc77c\ubc18\uc801\uc778 JSON \ud615\ud0dc\uc758 \ud0a4-\uac12 \uc30d\uc73c\ub85c \uad6c\uc131\ub41c\ub2e4.  \uc608\ub97c \ub4e4\uc5b4 <code>\"color\": \"red\"</code> \ub610\ub294 <code>\"category\": \"electronics\"</code>\uc640 \uac19\uc740 \ud615\ud0dc\uc774\uba70,  \uac80\uc0c9 \uc2dc \ud544\ud130 \uc870\uac74\uc73c\ub85c \ud65c\uc6a9\ud558\uac70\ub098, \uc870\ud68c \uc2dc \uba54\ud0c0\ub370\uc774\ud130\ub85c \ud568\uaed8 \uc751\ub2f5\ubc1b\uc744 \uc218 \uc788\ub2e4.</p> <p>Qdrant\uc758 \ud3ec\uc778\ud2b8\ub294 \ub2e8\uc21c\ud55c \ub370\uc774\ud130 \uad6c\uc870\ub97c \ub118\uc5b4\uc11c, \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc5d0\uc11c\uc758 \uc720\uc5f0\uc131\uacfc \ud655\uc7a5\uc131\uc744 \ub3d9\uc2dc\uc5d0 \uc81c\uacf5\ud558\ub294 \uc911\uc2ec \ub2e8\uc704\ub77c \ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_1","title":"\ud3ec\uc778\ud2b8\uc758 \uad6c\uc870","text":"<p>\ud3ec\uc778\ud2b8\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 JSON \ud615\ud0dc\ub85c \ud45c\ud604\ub41c\ub2e4.</p> <pre><code>{\n    \"id\": 129,\n    \"vector\": [0.1, 0.2, 0.3, 0.4],\n    \"payload\": {\"color\": \"red\"}\n}\n</code></pre> <p>\uac01 \ud3ec\uc778\ud2b8\ub294 \ubca1\ud130\ub97c \ud3ec\ud568\ud558\uace0 \uc788\uc73c\uba70, \uc120\ud0dd\uc801\uc73c\ub85c key-value \ud615\ud0dc\uc758 payload\ub97c \ucd94\uac00\ud560 \uc218 \uc788\ub2e4. \ubca1\ud130\ub294 \uceec\ub809\uc158 \ub0b4\uc5d0\uc11c\uc758 \uc720\uc0ac\ub3c4 \uae30\ubc18 \uac80\uc0c9\uc5d0 \uc0ac\uc6a9\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#id","title":"\ud3ec\uc778\ud2b8 \uc2dd\ubcc4\uc790(ID)","text":"<p>Qdrant\ub294 \ud3ec\uc778\ud2b8 \uc2dd\ubcc4\uc790\ub85c \uc815\uc218\ud615 ID (64\ube44\ud2b8 unsigned integer) \ub610\ub294 UUID\ub97c \uc9c0\uc6d0\ud55c\ub2e4. UUID\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \ud615\uc2dd\uc774 \ud5c8\uc6a9\ub41c\ub2e4.</p> <ul> <li> <p>\uac04\ub2e8\ud55c UUID: <code>936DA01F9ABD4d9d80C702AF85C822A8</code></p> </li> <li> <p>\ud558\uc774\ud508 \ud3ec\ud568: <code>550e8400-e29b-41d4-a716-446655440000</code></p> </li> <li> <p>URN \ud615\uc2dd: <code>urn:uuid:F9168C5E-CEB2-4faa-B6BF-329BF39FA1E4</code></p> </li> </ul> <p>UUID\uc640 \uc815\uc218\ub294 \uc790\uc720\ub86d\uac8c \uc120\ud0dd\ud560 \uc218 \uc788\uc73c\uba70, \uc544\ub798\uc640 \uac19\uc774 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>{\n  \"points\": [\n    {\n      \"id\": \"5c56c793-69f3-4fbf-87e6-c4bf54c28c26\",\n      \"vector\": [0.9, 0.1, 0.1],\n      \"payload\": {\"color\": \"red\"}\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_2","title":"\uc9c0\uc6d0 \ubca1\ud130 \uc720\ud615","text":"<p>Qdrant\ub294 \ub2e4\uc591\ud55c \uc720\ud615\uc758 \ubca1\ud130\ub97c \ud3ec\uc778\ud2b8\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc788\ub2e4.</p> \ubca1\ud130 \uc720\ud615 \uc124\uba85 Dense Vector \ub300\ubd80\ubd84\uc758 \uc784\ubca0\ub529 \ubaa8\ub378\uc774 \uc0dd\uc131\ud558\ub294 \uc77c\ubc18\uc801\uc778 \ubca1\ud130 Sparse Vector \ub300\ubd80\ubd84\uc758 \uac12\uc774 0\uc778 \ud76c\uc18c \ubca1\ud130. \ud14d\uc2a4\ud2b8 \ucc98\ub9ac\ub098 \ud611\uc5c5 \ud544\ud130\ub9c1\uc5d0 \uc720\uc6a9 MultiVector ColBERT \uac19\uc740 \ubaa8\ub378\uc5d0\uc11c \uc0dd\uc131\ub41c \uace0\uc815 \ub108\ube44, \uac00\ubcc0 \ub192\uc774 \ud589\ub82c <p>Qdrant\ub294 \uc5ec\ub7ec \ubca1\ud130\ub97c \ud558\ub098\uc758 \ud3ec\uc778\ud2b8\uc5d0 \ubd99\uc77c \uc218 \uc788\uc73c\uba70, \uc774\ub97c Named Vector\ub77c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_3","title":"\ud3ec\uc778\ud2b8 \uc5c5\ub85c\ub4dc \ubc29\uc2dd","text":"<p>Qdrant\ub294 \uc131\ub2a5\uc744 \uc704\ud574 \ubc30\uce58 \uc5c5\ub85c\ub4dc(Batch Insert)\ub97c \uc9c0\uc6d0\ud55c\ub2e4. \ud55c \ubc88\uc758 \uc694\uccad\uc73c\ub85c \uc5ec\ub7ec \ud3ec\uc778\ud2b8\ub97c \ub4f1\ub85d\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#1-column-oriented","title":"1. Column-Oriented \ubc29\uc2dd","text":"<pre><code>{\n  \"batch\": {\n    \"ids\": [1, 2, 3],\n    \"payloads\": [\n      {\"color\": \"red\"},\n      {\"color\": \"green\"},\n      {\"color\": \"blue\"}\n    ],\n    \"vectors\": [\n      [0.9, 0.1, 0.1],\n      [0.1, 0.9, 0.1],\n      [0.1, 0.1, 0.9]\n    ]\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#2-record-oriented","title":"2. Record-Oriented \ubc29\uc2dd","text":"<pre><code>{\n  \"points\": [\n    {\n      \"id\": 1,\n      \"vector\": [0.9, 0.1, 0.1],\n      \"payload\": {\"color\": \"red\"}\n    },\n    {\n      \"id\": 2,\n      \"vector\": [0.1, 0.9, 0.1],\n      \"payload\": {\"color\": \"green\"}\n    }\n  ]\n}\n</code></pre> <p>\ubaa8\ub4e0 \uc5c5\ub85c\ub4dc \uc791\uc5c5\uc740 idempotent\ud558\ub2e4. \uc989, \uac19\uc740 \ud3ec\uc778\ud2b8 ID\ub97c \uac00\uc9c4 \ub370\uc774\ud130\ub97c \uc5ec\ub7ec \ubc88 \uc5c5\ub85c\ub4dc\ud574\ub3c4 \uacb0\uacfc\ub294 \ub3d9\uc77c\ud558\uba70, \uc774\uc804 \uac12\uc774 \ub36e\uc5b4\uc4f0\uc5ec\uc9c4\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#named-vector","title":"Named Vector \uc608\uc2dc","text":"<pre><code>{\n  \"points\": [\n    {\n      \"id\": 1,\n      \"vector\": {\n        \"image\": [0.9, 0.1, 0.1, 0.2],\n        \"text\": [0.4, 0.7, 0.1, 0.8, 0.1, 0.1, 0.9, 0.2]\n      }\n    }\n  ]\n}\n</code></pre> <p>\ud3ec\uc778\ud2b8 \uc5c5\ub85c\ub4dc \uc2dc \ud2b9\uc815 vector\ub9cc \uc9c0\uc815\ud558\uba74, \uc9c0\uc815\ud558\uc9c0 \uc54a\uc740 \ubca1\ud130\ub294 \uc0ad\uc81c\ub41c\ub2e4. \uae30\uc874 \ubca1\ud130\ub97c \uc720\uc9c0\ud55c \ucc44 \ud2b9\uc815 \ubca1\ud130\ub9cc \ubcc0\uacbd\ud558\ub824\uba74 update vectors API\ub97c \uc0ac\uc6a9\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#sparse-vector","title":"Sparse Vector \ud45c\ud604 \ubc29\uc2dd","text":"<p>\ud76c\uc18c \ubca1\ud130\ub294 \ub300\ubd80\ubd84\uc758 \uac12\uc774 0\uc774\ubbc0\ub85c, (index, value) \uc30d\uc758 \ubc30\uc5f4\ub85c \ud45c\ud604\ub41c\ub2e4.</p> <pre><code>{\n  \"indices\": [6, 7],\n  \"values\": [1.0, 2.0]\n}\n</code></pre> <p>\ubca1\ud130\ub294 \ubc18\ub4dc\uc2dc Named Vector \ud615\uc2dd\uc73c\ub85c \uc5c5\ub85c\ub4dc\ud574\uc57c \ud558\uba70, index\ub294 \uc815\ub82c\ub418\uc9c0 \uc54a\uc544\ub3c4 \ub418\uc9c0\ub9cc \ub0b4\ubd80\uc801\uc73c\ub85c \uc790\ub3d9 \uc815\ub82c\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#api","title":"\ubca1\ud130 \uc218\uc815 API","text":"<p>\ud2b9\uc815 \ubca1\ud130\ub9cc \uc5c5\ub370\uc774\ud2b8\ud558\uace0 \ub098\uba38\uc9c0\ub294 \uc720\uc9c0\ud558\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \ud55c\ub2e4.</p> <pre><code>PUT /collections/{collection_name}/points/vectors\n{\n  \"points\": [\n    {\n      \"id\": 1,\n      \"vector\": {\n        \"image\": [0.1, 0.2, 0.3, 0.4]\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#api_1","title":"\ubca1\ud130 \uc0ad\uc81c API","text":"<p>\ud2b9\uc815 \ubca1\ud130\ub9cc \uc81c\uac70\ud558\uace0 \ub098\uba38\uc9c0\ub294 \uadf8\ub300\ub85c \uc720\uc9c0\ud558\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \ud55c\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/vectors/delete\n{\n  \"points\": [1],\n  \"vectors\": [\"text\"]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_4","title":"\ud3ec\uc778\ud2b8 \uc0ad\uc81c","text":"<pre><code>POST /collections/{collection_name}/points/delete\n{\n  \"points\": [1, 2, 3]\n}\n</code></pre> <p>\ud544\ud130\ub97c \ud1b5\ud574 \uc870\uac74\uc5d0 \ub9de\ub294 \ud3ec\uc778\ud2b8\ub9cc \uc0ad\uc81c\ud560 \uc218\ub3c4 \uc788\ub2e4.</p> <pre><code>{\n  \"filter\": {\n    \"must\": [\n      {\n        \"key\": \"color\",\n        \"match\": { \"value\": \"red\" }\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_5","title":"\ud3ec\uc778\ud2b8 \uc870\ud68c","text":"<p>ID \ubaa9\ub85d\uc73c\ub85c \uc870\ud68c:</p> <pre><code>POST /collections/{collection_name}/points\n{\n  \"ids\": [1, 2]\n}\n</code></pre> <p>\ub2e8\uc77c \ud3ec\uc778\ud2b8 \uc870\ud68c:</p> <pre><code>GET /collections/{collection_name}/points/1\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#scroll","title":"\ud3ec\uc778\ud2b8 Scroll (\ud398\uc774\uc9d5)","text":"<pre><code>POST /collections/{collection_name}/points/scroll\n{\n  \"filter\": {\n    \"must\": [\n      {\n        \"key\": \"color\",\n        \"match\": { \"value\": \"red\" }\n      }\n    ]\n  },\n  \"limit\": 1,\n  \"with_payload\": true,\n  \"with_vector\": false\n}\n</code></pre> <p><code>next_page_offset</code> \ud544\ub4dc\ub97c \ud1b5\ud574 \ub2e4\uc74c \ud398\uc774\uc9c0\ub97c \ud0d0\uc0c9\ud560 \uc218 \uc788\ub2e4. \ub9cc\uc57d null\uc774\ub77c\uba74 \ub9c8\uc9c0\ub9c9 \ud398\uc774\uc9c0\uc784\uc744 \uc758\ubbf8\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_6","title":"\ud398\uc774\ub85c\ub4dc \uc815\ub82c \uae30\ubc18 \uc870\ud68c","text":"<p>payload \uc548\uc758 \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uc815\ub82c\ud558\ub824\uba74 <code>order_by</code>\ub97c \uc0ac\uc6a9\ud55c\ub2e4. \uc608\ub97c \ub4e4\uc5b4, timestamp \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uc815\ub82c\ud558\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \ud55c\ub2e4.</p> <pre><code>{\n  \"limit\": 15,\n  \"order_by\": {\n    \"key\": \"timestamp\",\n    \"direction\": \"desc\",\n    \"start_from\": 123\n  }\n}\n</code></pre> <p>\uc815\ub82c\uc744 \uc0ac\uc6a9\ud558\uba74 <code>next_page_offset</code>\uc740 \uc81c\uacf5\ub418\uc9c0 \uc54a\uc73c\uba70, pagination\uc740 \uc218\ub3d9\uc73c\ub85c \ucc98\ub9ac\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_7","title":"\ud3ec\uc778\ud2b8 \uc218 \uce74\uc6b4\ud2b8","text":"<p>\uc870\uac74\uc5d0 \ub9de\ub294 \ud3ec\uc778\ud2b8 \uc218\ub97c \uc870\ud68c\ud558\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \ud55c\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/count\n{\n  \"filter\": {\n    \"must\": [\n      {\n        \"key\": \"color\",\n        \"match\": { \"value\": \"red\" }\n      }\n    ]\n  },\n  \"exact\": true\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_8","title":"\ubc30\uce58 \uc5c5\ub370\uc774\ud2b8","text":"<p>\uc5ec\ub7ec \uc885\ub958\uc758 \uc791\uc5c5\uc744 \ud55c \ubc88\uc5d0 \ucc98\ub9ac\ud558\ub824\uba74 <code>batch</code> API\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/batch\n{\n  \"operations\": [\n    {\n      \"upsert\": {\n        \"points\": [\n          {\n            \"id\": 1,\n            \"vector\": [1.0, 2.0, 3.0, 4.0],\n            \"payload\": {}\n          }\n        ]\n      }\n    },\n    {\n      \"delete_vectors\": {\n        \"points\": [1],\n        \"vector\": [\"\"]\n      }\n    },\n    {\n      \"overwrite_payload\": {\n        \"payload\": {\n          \"test_payload\": \"1\"\n        },\n        \"points\": [1]\n      }\n    },\n    {\n      \"delete\": {\n        \"points\": [1]\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_9","title":"\ube44\ub3d9\uae30 \ucc98\ub9ac","text":"<p>\uc694\uccad \uc2dc <code>?wait=false</code>\ub97c \ubd99\uc774\uba74 \uc751\ub2f5\uc774 \ube60\ub974\uc9c0\ub9cc, \ub370\uc774\ud130 \ubc18\uc601\uae4c\uc9c0 \uc2dc\uac04\uc774 \uac78\ub9b4 \uc218 \uc788\ub2e4. \ubc18\uba74, <code>?wait=true</code>\ub97c \uc0ac\uc6a9\ud558\uba74 \uc5c5\ub370\uc774\ud2b8\uac00 \uc644\ub8cc\ub41c \ud6c4 \uc751\ub2f5\uc744 \ubc1b\ub294\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Points/#_10","title":"\ub9c8\ubb34\ub9ac","text":"<p>Qdrant\uc758 \ud3ec\uc778\ud2b8(Point)\ub294 \ubca1\ud130 \uac80\uc0c9\uacfc \ub370\uc774\ud130 \uc870\uc791\uc758 \uae30\ubcf8 \ub2e8\uc704\ub85c\uc11c \uc911\uc694\ud55c \uc5ed\ud560\uc744 \ud55c\ub2e4. </p> <p>UUID \ub610\ub294 \uc815\uc218 ID\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc720\uc5f0\ud558\uac8c \uc811\uadfc\ud560 \uc218 \uc788\uc73c\uba70, Dense/Sparse/MultiVector \ub4f1 \ub2e4\uc591\ud55c \ubca1\ud130 \uc720\ud615\uc744 \uc9c0\uc6d0\ud55c\ub2e4. \ub610\ud55c \ud398\uc774\ub85c\ub4dc \uae30\ubc18 \ud544\ud130\ub9c1, \uc815\ub82c, \ub300\uc6a9\ub7c9 \ubc30\uce58 \uc5c5\ub85c\ub4dc \ubc0f \uc218\uc815\uae4c\uc9c0 \uad11\ubc94\uc704\ud55c \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\ubbc0\ub85c, \uac80\uc0c9 \uae30\ubc18 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud560 \ub54c \uac15\ub825\ud55c \ub3c4\uad6c\ub85c \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20Async%20API/","title":"Qdrant Async API","text":"<p>Python \uc0dd\ud0dc\uacc4\ub294 \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d(async/await) \uc744 \ud45c\uc900\uc73c\ub85c \ube60\ub974\uac8c \ubc1b\uc544\ub4e4\uc774\uace0 \uc788\ub2e4. </p> <p>FastAPI\u00b7Quart \uac19\uc740 \ud604\ub300\uc801 \uc6f9 \ud504\ub808\uc784\uc6cc\ud06c\ub098 Cohere SDK \ub4f1 SaaS ML \ubaa8\ub378 \ud074\ub77c\uc774\uc5b8\ud2b8\ub3c4 \ubaa8\ub450 \ube44\ub3d9\uae30 API\ub97c \uc81c\uacf5\ud55c\ub2e4. </p> <p>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5ed\uc2dc \ub124\ud2b8\uc6cc\ud06c\ub97c \ud1b5\ud55c IO-bound \uc791\uc5c5\uc774\ubbc0\ub85c, \ube44\ub3d9\uae30\ub85c \ucc98\ub9ac\ud558\uba74 \ub300\uae30 \uc2dc\uac04 \ub3d9\uc548 \uc2a4\ub808\ub4dc\ub97c \uc810\uc720\ud558\uc9c0 \uc54a\uc544 \ub3d9\uc2dc\uc131\uc744 \ud06c\uac8c \ub192\uc77c \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20Async%20API/#async-api","title":"\uc5b8\uc81c Async API\ub97c \uc368\uc57c \ud558\ub294\uac00","text":"\uc0c1\ud669 \uc120\ud0dd \ub2e8\ubc1c\uc131 \uc2a4\ud06c\ub9bd\ud2b8\u00b7\ubc30\uce58\ucc98\ub7fc \ub3d9\uc2dc \uc0ac\uc6a9\uc790\uac00 \uc5c6\ub294 \uacbd\uc6b0 \ub3d9\uae30 API\ub3c4 \ubb34\ubc29 FastAPI \ub4f1 ASGI \uc6f9 \uc11c\ube44\uc2a4\u00b7\ucc57\ubd07\ucc98\ub7fc \uc694\uccad\uc774 \ub3d9\uc2dc\uc5d0 \ub4e4\uc5b4\uc624\ub294 \uacbd\uc6b0 AsyncQdrantClient \uc0ac\uc6a9 \uad8c\uc7a5 <p>\ub3d9\uae30 \ucf54\ub4dc \ub0b4\uc5d0\uc11c\ub294 <code>await</code>\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uace0, \ube44\ub3d9\uae30 \ucee8\ud14d\uc2a4\ud2b8\uc5d0\uc11c \ub3d9\uae30 IO\ub97c \ud638\ucd9c\ud558\uba74 \uc774\ubca4\ud2b8 \ub8e8\ud504\uac00 \ube14\ub85c\ud0b9\ub418\ubbc0\ub85c \ud63c\uc6a9\uc740 \uc9c0\uc591\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20Async%20API/#_1","title":"\uae30\ubcf8 \uc0ac\uc6a9 \ud328\ud134","text":"<ol> <li> <p><code>AsyncQdrantClient</code> \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud55c\ub2e4.</p> </li> <li> <p>\ubaa8\ub4e0 Qdrant \ud638\ucd9c \uc55e\uc5d0 <code>await</code> \ub97c \ubd99\uc778\ub2e4.</p> </li> <li> <p>\uc9c4\uc785\uc810\uc740 async \ud568\uc218\ub85c \uc791\uc131\ud558\uace0, \ubaa8\ub4c8 \ucd5c\uc0c1\uc704\uc5d0\uc11c <code>asyncio.run()</code> \uc73c\ub85c \uc2e4\ud589\ud55c\ub2e4.</p> </li> </ol> <pre><code>import asyncio\nfrom qdrant_client import AsyncQdrantClient, models\n\nasync def main():\n    # 1) \ube44\ub3d9\uae30 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0dd\uc131\n    client = AsyncQdrantClient(\"http://localhost:6333\")\n\n    # 2) \uceec\ub809\uc158 \uc0dd\uc131\n    await client.create_collection(\n        collection_name=\"my_collection\",\n        vectors_config=models.VectorParams(size=4, distance=models.Distance.COSINE),\n    )\n\n    # 3) \ub370\uc774\ud130 \uc0bd\uc785\n    await client.upsert(\n        collection_name=\"my_collection\",\n        points=[\n            models.PointStruct(\n                id=\"5c56c793-69f3-4fbf-87e6-c4bf54c28c26\",\n                payload={\"color\": \"red\"},\n                vector=[0.9, 0.1, 0.1, 0.5],\n            )\n        ],\n    )\n\n    # 4) \uc9c8\uc758\n    result = await client.query_points(\n        collection_name=\"my_collection\",\n        query=[0.9, 0.1, 0.1, 0.5],\n        limit=2,\n    )\n    print(result.points)\n\n# 5) \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc2e4\ud589\nasyncio.run(main())\n</code></pre> <p><code>AsyncQdrantClient</code> \ub294 \ub3d9\uae30 \ubc84\uc804(<code>QdrantClient</code>)\uacfc \uba54\uc11c\ub4dc \uc2dc\uadf8\ub2c8\ucc98\uac00 \ub3d9\uc77c\ud558\ubbc0\ub85c, \uae30\uc874 \ub3d9\uae30 \ucf54\ub4dc\ubca0\uc774\uc2a4\ub97c \ub9c8\uc774\uadf8\ub808\uc774\uc158\ud560 \ub54c</p> <ul> <li> <p><code>QdrantClient</code> \u2192 <code>AsyncQdrantClient</code> \ub85c \uad50\uccb4</p> </li> <li> <p>\uac01 \ud638\ucd9c \uc55e\uc5d0 <code>await</code> \ucd94\uac00</p> </li> <li> <p>\ud638\ucd9c \uccb4\uc778\uc774 async \ud568\uc218\uac00 \ub418\ub3c4\ub85d \uc870\uc815</p> </li> </ul> <p>\uc815\ub3c4\ub9cc \ud574\uc8fc\uba74 \ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20Async%20API/#_2","title":"\uc720\uc758 \uc0ac\ud56d","text":"<ul> <li> <p>\ube44\ub3d9\uae30 \ucee8\ud14d\uc2a4\ud2b8 \ud544\uc218: <code>await</code> \ub294 \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc548\uc5d0\uc11c\ub9cc \ub3d9\uc791\ud55c\ub2e4. Jupyter Notebook\uc5d0\uc11c\ub294 <code>nest_asyncio</code> \ub4f1\uc73c\ub85c \ub8e8\ud504 \uc911\ucca9\uc744 \ud5c8\uc6a9\ud558\uac70\ub098, IPython\uc758 <code>await</code> \uc9c0\uc6d0\uc744 \ud65c\uc6a9\ud55c\ub2e4.</p> </li> <li> <p>IO-bound \uc804\uc6a9: CPU-bound \uc791\uc5c5\uc740 <code>async</code> \uc640 \ubb34\uad00\ud558\ub2e4. CPU \uc791\uc5c5\uc740 \ubcc4\ub3c4\uc758 \uc2a4\ub808\ub4dc/\ud504\ub85c\uc138\uc2a4 \ud480 \ub610\ub294 \ube44\ub3d9\uae30 \uc791\uc5c5 \ud050\ub85c \ubd84\ub9ac\ud558\ub294 \ud3b8\uc774 \ub0ab\ub2e4.</p> </li> <li> <p>\ud0c0 SDK\ub3c4 async \uc0ac\uc6a9: Cohere\u00b7OpenAI Python \ub4f1 \ub2e4\ub978 \ube44\ub3d9\uae30 \ud074\ub77c\uc774\uc5b8\ud2b8\uc640 \uacb0\ud569\ud560 \ub54c \uc5ed\uc2dc \ub3d9\uc77c\ud558\uac8c <code>await</code> \ub97c \ubd99\uc5ec\uc57c \ud55c\ub2e4.</p> </li> </ul> <p>\ube44\ub3d9\uae30 API\ub97c \uc0ac\uc6a9\ud558\uba74 \uc2a4\ub808\ub4dc \ube14\ub85c\ud0b9 \uc5c6\uc774 \ub370\uc774\ud130\ubca0\uc774\uc2a4\u00b7\uc678\ubd80 API \ud638\ucd9c\uc744 \ubcd1\ub82c\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c, Python \uc6f9 \uc11c\ube44\uc2a4\uc758 \ucc98\ub9ac\ub7c9\uacfc \uc751\ub2f5\uc131\uc744 \ud06c\uac8c \uac1c\uc120\ud560 \uc218 \uc788\ub2e4. Qdrant\uc758 <code>AsyncQdrantClient</code> \ub97c \uc801\uadf9 \ud65c\uc6a9\ud558\uc5ec \uace0\uc131\ub2a5 \ube44\ub3d9\uae30 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uad6c\ucd95\ud558\uae30 \ubc14\ub780\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/","title":"Qdrant LangChain","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#1","title":"1. \uac1c\uc694","text":"<p>Qdrant\ub294 \ubca1\ud130 \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc744 \uc704\ud55c \uc5d4\uc9c4\uc73c\ub85c, \uace0\uc131\ub2a5\uc758 \uac80\uc0c9 \uae30\ub2a5\uacfc \ud3b8\ub9ac\ud55c API\ub97c \uc81c\uacf5\ud55c\ub2e4. \ubca1\ud130 \ub370\uc774\ud130 \uc678\uc5d0\ub3c4 JSON \uae30\ubc18\uc758 payload\uc640 \ud655\uc7a5\ub41c \ud544\ud130\ub9c1 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\ubbc0\ub85c, \uc758\ubbf8 \uae30\ubc18 \uac80\uc0c9(semantic search)\uc774\ub098 facet \uac80\uc0c9, \ucd94\ucc9c \uc2dc\uc2a4\ud15c \ub4f1 \ub2e4\uc591\ud55c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <p>LangChain\uc740 Qdrant\ub97c \uc704\ud55c \ud1b5\ud569 \ubaa8\ub4c8\uc778 <code>langchain-qdrant</code>\ub97c \ud1b5\ud574 \ubc00\uc811\ud558\uac8c \uc5f0\ub3d9\ud560 \uc218 \uc788\uc73c\uba70, \uc784\ubca0\ub529 \uae30\ubc18 \uac80\uc0c9(dense), \ud76c\uc18c \ubca1\ud130 \uac80\uc0c9(sparse), \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9(hybrid retrieval)\uc744 \ubaa8\ub450 \uc9c0\uc6d0\ud55c\ub2e4. \uc774 \ubb38\uc11c\ub294 Qdrant\ub97c LangChain\uc5d0\uc11c \ud6a8\uacfc\uc801\uc73c\ub85c \ud65c\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \uc815\ub9ac\ud55c \uac83\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#2","title":"2. \uc124\uce58","text":"<p>\ub2e4\uc74c \uba85\ub839\uc5b4\ub85c \ud544\uc694\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc124\uce58\ud55c\ub2e4.</p> <pre><code>pip install -qU langchain-qdrant\npip install -qU langchain-openai\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#3","title":"3. \uc784\ubca0\ub529 \uc124\uc815","text":"<p>OpenAI \uae30\ubc18 \uc784\ubca0\ub529 \ubaa8\ub378\uc744 \uc124\uc815\ud55c\ub2e4. \uc608\uc2dc\ub294 <code>text-embedding-3-large</code> \ubaa8\ub378\uc744 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc774\ub2e4.</p> <pre><code>from langchain_openai import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings(model=\"text-embedding-3-large\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#4-qdrant","title":"4. Qdrant \ucd08\uae30\ud654","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#1_1","title":"(1) \uc778\uba54\ubaa8\ub9ac \ubaa8\ub4dc","text":"<p>\ud14c\uc2a4\ud2b8 \ubc0f \uc2e4\ud5d8 \uc6a9\ub3c4\ub85c\ub294 Qdrant \uc11c\ubc84 \uc5c6\uc774 \uc778\uba54\ubaa8\ub9ac \ubaa8\ub4dc\ub85c \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>from qdrant_client import QdrantClient\nfrom qdrant_client.http.models import Distance, VectorParams\n\nclient = QdrantClient(\":memory:\")\nclient.create_collection(\n    collection_name=\"demo_collection\",\n    vectors_config=VectorParams(size=3072, distance=Distance.COSINE),\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#2_1","title":"(2) \uc628\ub514\uc2a4\ud06c \ubaa8\ub4dc","text":"<p>\ub85c\uceec \ub514\uc2a4\ud06c\uc5d0 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\ub3c4\ub85d \uc124\uc815\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>client = QdrantClient(path=\"/tmp/langchain_qdrant\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#5-langchain-vector-store","title":"5. LangChain Vector Store \uad6c\uc131","text":"<p>Qdrant \uc778\uc2a4\ud134\uc2a4\ub97c LangChain\uc758 <code>QdrantVectorStore</code>\uc5d0 \uc5f0\uacb0\ud55c\ub2e4.</p> <pre><code>from langchain_qdrant import QdrantVectorStore\n\nvector_store = QdrantVectorStore(\n    client=client,\n    collection_name=\"demo_collection\",\n    embedding=embeddings,\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#6","title":"6. \ubb38\uc11c \uc0bd\uc785 \ubc0f \uc0ad\uc81c","text":"<p>LangChain\uc758 <code>Document</code> \ud074\ub798\uc2a4\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub370\uc774\ud130\ub97c \uc0bd\uc785\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>from langchain_core.documents import Document\nfrom uuid import uuid4\n\ndocuments = [\n    Document(page_content=\"\ubb38\uc7a5 A\", metadata={\"source\": \"test\"}),\n    Document(page_content=\"\ubb38\uc7a5 B\", metadata={\"source\": \"test\"})\n]\n\nuuids = [str(uuid4()) for _ in range(len(documents))]\n\nvector_store.add_documents(documents=documents, ids=uuids)\n</code></pre> <p>\uc0ad\uc81c\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uc218\ud589\ud55c\ub2e4.</p> <pre><code>vector_store.delete(ids=[uuids[0]])\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#7","title":"7. \ubca1\ud130 \uac80\uc0c9","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#1_2","title":"(1) \uae30\ubcf8 \uc720\uc0ac\ub3c4 \uac80\uc0c9","text":"<pre><code>results = vector_store.similarity_search(\"LangChain \uad00\ub828 \ud504\ub85c\uc81d\ud2b8\", k=2)\nfor doc in results:\n    print(doc.page_content, doc.metadata)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#2_2","title":"(2) \uc720\uc0ac\ub3c4 \uc810\uc218 \ud3ec\ud568 \uac80\uc0c9","text":"<pre><code>results = vector_store.similarity_search_with_score(\"\ub0b4\uc77c \ub0a0\uc528\", k=1)\nfor doc, score in results:\n    print(f\"SIM={score:.3f} | {doc.page_content}\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#8","title":"8. \uac80\uc0c9 \ubaa8\ub4dc \uad6c\uc131","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#1-dense-vector","title":"(1) Dense Vector \uac80\uc0c9","text":"<pre><code>from langchain_qdrant import RetrievalMode\n\nqdrant = QdrantVectorStore(\n    client=client,\n    collection_name=\"my_documents\",\n    embedding=embeddings,\n    retrieval_mode=RetrievalMode.DENSE,\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#2-sparse-vector","title":"(2) Sparse Vector \uac80\uc0c9","text":"<pre><code>from langchain_qdrant import FastEmbedSparse\nfrom qdrant_client.http.models import SparseVectorParams\n\nsparse_embeddings = FastEmbedSparse(model_name=\"Qdrant/bm25\")\n\nclient.create_collection(\n    collection_name=\"my_documents\",\n    vectors_config={\"dense\": VectorParams(size=3072, distance=Distance.COSINE)},\n    sparse_vectors_config={\n        \"sparse\": SparseVectorParams(index={\"on_disk\": False})\n    }\n)\n\nqdrant = QdrantVectorStore(\n    client=client,\n    collection_name=\"my_documents\",\n    sparse_embedding=sparse_embeddings,\n    retrieval_mode=RetrievalMode.SPARSE,\n    sparse_vector_name=\"sparse\",\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#3-hybrid","title":"(3) Hybrid \uac80\uc0c9","text":"<pre><code>qdrant = QdrantVectorStore(\n    client=client,\n    collection_name=\"my_documents\",\n    embedding=embeddings,\n    sparse_embedding=sparse_embeddings,\n    retrieval_mode=RetrievalMode.HYBRID,\n    vector_name=\"dense\",\n    sparse_vector_name=\"sparse\",\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#9","title":"9. \uba54\ud0c0\ub370\uc774\ud130 \ud544\ud130\ub9c1","text":"<p>Qdrant\ub294 JSON \uae30\ubc18\uc758 payload\uc5d0 \ub300\ud55c \uc870\uac74 \uac80\uc0c9\uc744 \uc9c0\uc6d0\ud55c\ub2e4. LangChain\uc5d0\uc11c\ub3c4 \uc774\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>from qdrant_client import models\n\nresults = vector_store.similarity_search(\n    query=\"\ucd95\uad6c \uc120\uc218\",\n    k=1,\n    filter=models.Filter(\n        should=[\n            models.FieldCondition(\n                key=\"metadata.source\",\n                match=models.MatchValue(value=\"website\")\n            )\n        ]\n    ),\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#10-retriever","title":"10. Retriever\ub85c \ubcc0\ud658","text":"<p>QdrantVectorStore\ub97c LangChain Retriever\ub85c \ubcc0\ud658\ud558\uc5ec chain\uc774\ub098 agent\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>retriever = vector_store.as_retriever(search_type=\"mmr\", search_kwargs={\"k\": 1})\nresults = retriever.invoke(\"\ub3c4\ub451\uc774 \ud6d4\uce5c \ub3c8\uc740 \uc5bc\ub9c8\uc778\uac00?\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#11-collection","title":"11. \uae30\uc874 Collection \uc0ac\uc6a9","text":"<p>\uc774\ubbf8 \uc0dd\uc131\ub41c Collection\uc744 \uc0ac\uc6a9\ud560 \uacbd\uc6b0 \ub2e4\uc74c\ucc98\ub7fc \ubd88\ub7ec\uc62c \uc218 \uc788\ub2e4.</p> <pre><code>qdrant = QdrantVectorStore.from_existing_collection(\n    embedding=embeddings,\n    collection_name=\"my_documents\",\n    url=\"http://localhost:6333\"\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#12-named-vector-custom-payload","title":"12. Named Vector, Custom Payload \ud0a4 \uc0ac\uc6a9","text":"<p>Qdrant\ub294 \ud558\ub098\uc758 point\uc5d0 \uc5ec\ub7ec \uac1c\uc758 named vector\ub97c \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4. \ub610\ud55c, <code>page_content</code>\uc640 <code>metadata</code> \ud0a4 \ub300\uc2e0 \ucee4\uc2a4\ud140 \ud544\ub4dc\ub97c \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\ub2e4.</p> <pre><code>QdrantVectorStore.from_documents(\n    docs,\n    embeddings,\n    location=\":memory:\",\n    collection_name=\"my_documents\",\n    content_payload_key=\"custom_content\",\n    metadata_payload_key=\"custom_meta\",\n    vector_name=\"my_vector\",\n    sparse_vector_name=\"my_sparse\"\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qdrant%20LangChain/#13","title":"13. \uc815\ub9ac","text":"<p>Qdrant\ub294 LangChain\uacfc \uc644\ubcbd\ud558\uac8c \ud1b5\ud569\ub418\uba70, \ub2e4\uc591\ud55c \uac80\uc0c9 \ubaa8\ub4dc\uc640 \uba54\ud0c0\ub370\uc774\ud130 \ud544\ud130\ub9c1, \uc810\uc218 \uae30\ubc18 \uac80\uc0c9 \ub4f1\uc744 \uc720\uc5f0\ud558\uac8c \uc9c0\uc6d0\ud55c\ub2e4. \uc11c\ubc84 \uae30\ubc18 \ub610\ub294 \ub85c\uceec \uae30\ubc18\uc73c\ub85c \uc2e4\ud589\ud560 \uc218 \uc788\uace0, \uae30\uc874 Collection\uc758 \uc7ac\uc0ac\uc6a9 \ub610\ud55c \uac00\ub2a5\ud558\ub2e4. Retrieval-Augmented Generation (RAG)\uc744 \uad6c\ucd95\ud558\ub294 \ub370 \ub9e4\uc6b0 \uc801\ud569\ud55c \ubca1\ud130 \uac80\uc0c9 \uc2a4\ud1a0\uc5b4\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/","title":"Qptimizer","text":"<p>Qdrant\ub294 \ubca1\ud130 \ub370\uc774\ud130\uc758 \uc800\uc7a5 \ubc0f \uac80\uc0c9 \uc131\ub2a5\uc744 \uc720\uc9c0\ud558\uae30 \uc704\ud574 \ub2e4\uc591\ud55c \uc790\ub3d9 \ucd5c\uc801\ud654(optimizer) \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. </p> <p>\uc774 \ucd5c\uc801\ud654\ub294 \uc8fc\ub85c \uc138\uadf8\uba3c\ud2b8(segment) \ub2e8\uc704\ub85c \uc791\ub3d9\ud558\uba70, \ub514\uc2a4\ud06c \uacf5\uac04 \ud68c\uc218, \uc138\uadf8\uba3c\ud2b8 \ubcd1\ud569, \uc778\ub371\uc2a4 \uc0dd\uc131 \ub4f1 \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \uc218\ud589\ud55c\ub2e4.</p> <p>\ubaa8\ub4e0 Optimizer\ub294 \uc124\uc815 \ud30c\uc77c \ub610\ub294 \uceec\ub809\uc158 \ub2e8\uc704\uc758 \ud30c\ub77c\ubbf8\ud130\ub85c \uad6c\uc131\ud560 \uc218 \uc788\uc73c\uba70, \uc2dc\uc2a4\ud15c\uc758 \uc131\ub2a5 \uc694\uad6c\uc0ac\ud56d\uc5d0 \ub530\ub77c \uc870\uc815\uc774 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#1-segment","title":"1. Segment \ucd5c\uc801\ud654 \uad6c\uc870","text":"<p>Qdrant\ub294 \ub370\uc774\ud130 \uc800\uc7a5 \uad6c\uc870\uac00 \ubd88\ubcc0(immutable)\uc5d0 \uac00\uae4c\uc6b0\ubbc0\ub85c, \ubcc0\uacbd \uc0ac\ud56d\uc740 \uae30\uc874 \uad6c\uc870\ub97c \ubd80\ubd84\uc801\uc73c\ub85c \uc7ac\uad6c\uc131\ud558\uac70\ub098 \uc804\uccb4\ub97c \ubcf5\uc81c\ud55c \ub4a4 \uc0c8\ub85c \uad6c\uc131\ud574\uc57c \ud55c\ub2e4. \uc774\ub54c Proxy Segment\uc640 Copy-On-Write \uc804\ub7b5\uc744 \uc774\uc6a9\ud558\uc5ec, \ucd5c\uc801\ud654 \ub3c4\uc911\uc5d0\ub3c4 \uc138\uadf8\uba3c\ud2b8\ub294 \uc77d\uae30 \uac00\ub2a5\ud55c \uc0c1\ud0dc\ub85c \uc720\uc9c0\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#2-vacuum-optimizer","title":"2. Vacuum Optimizer","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_1","title":"\ubaa9\uc801","text":"<p>\uc0ad\uc81c\ub41c \ud3ec\uc778\ud2b8\ub4e4\uc774 \ub514\uc2a4\ud06c\uc5d0 \uacc4\uc18d \ub0a8\uc544 \uc2dc\uc2a4\ud15c \ub9ac\uc18c\uc2a4\ub97c \uc18c\ubaa8\ud558\ub294 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud55c \ucd5c\uc801\ud654\uc774\ub2e4. Qdrant\ub294 \uc0ad\uc81c \uc694\uccad \uc2dc \ub370\uc774\ud130\ub97c \uc989\uc2dc \uc81c\uac70\ud558\uc9c0 \uc54a\uace0 \"\uc0ad\uc81c \ud45c\uc2dc\"\ub9cc \ud558\uba70, \ucd94\ud6c4 Vacuum Optimizer\uc5d0 \uc758\ud574 \ubb3c\ub9ac\uc801\uc73c\ub85c \uc81c\uac70\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_2","title":"\uc791\ub3d9 \uc870\uac74","text":"<pre><code>storage:\n  optimizers:\n    deleted_threshold: 0.2  # \uc138\uadf8\uba3c\ud2b8 \ub0b4 \uc0ad\uc81c \ubca1\ud130 \ube44\uc728 \uc784\uacc4\uce58 (20%)\n    vacuum_min_vector_number: 1000  # \ucd5c\uc18c \ubca1\ud130 \uc218\n</code></pre> <p>\ud574\ub2f9 \uc870\uac74\uc744 \ub9cc\uc871\ud558\ub294 \uc138\uadf8\uba3c\ud2b8\ub294 \ucd5c\uc801\ud654 \ub300\uc0c1\uc774 \ub418\uc5b4 \uc0ad\uc81c\ub41c \ub370\uc774\ud130\ub97c \uc2e4\uc81c\ub85c \uc81c\uac70\ud558\uace0 \ub514\uc2a4\ud06c \uacf5\uac04\uc744 \ud68c\uc218\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#3-merge-optimizer","title":"3. Merge Optimizer","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_3","title":"\ubaa9\uc801","text":"<p>\uc791\uc740 \uc138\uadf8\uba3c\ud2b8\uac00 \uc9c0\ub098\uce58\uac8c \ub9ce\uc544\uc9c0\ub294 \uacbd\uc6b0 \uac80\uc0c9 \uc131\ub2a5\uc774 \uc800\ud558\ub418\ubbc0\ub85c, \uc774\ub97c \ubcd1\ud569\ud558\uc5ec \uc77c\uc815 \uc218 \uc774\ud558\ub85c \uc720\uc9c0\ud558\ub294 \uae30\ub2a5\uc774\ub2e4. \ubcd1\ud569\uc740 \ubcf4\ud1b5 \uac00\uc7a5 \uc791\uc740 \uc138\uadf8\uba3c\ud2b8 3\uac1c\ub97c \ud558\ub098\ub85c \ud569\uce58\ub294 \ubc29\uc2dd\uc73c\ub85c \uc9c4\ud589\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_4","title":"\uc8fc\uc694 \uc124\uc815","text":"<pre><code>storage:\n  optimizers:\n    default_segment_number: 0  # \uc720\uc9c0\ud558\ub824\ub294 \uc138\uadf8\uba3c\ud2b8 \uc218 (0 = CPU \uc218 \uae30\uc900 \uc790\ub3d9 \uc124\uc815)\n    max_segment_size_kb: null # \ubcd1\ud569 \ud6c4 \uc138\uadf8\uba3c\ud2b8 \ucd5c\ub300 \ud06c\uae30 \uc81c\ud55c (\uc124\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 \uc790\ub3d9)\n</code></pre> <ul> <li> <p>default_segment_number\ub294 \uac80\uc0c9 \uc2a4\ub808\ub4dc \uc218\uc5d0 \ub530\ub77c \uc870\uc815\ub418\ub294 \uac83\uc774 \uad8c\uc7a5\ub41c\ub2e4.</p> </li> <li> <p>max_segment_size_kb\ub97c \uc124\uc815\ud558\uba74 \uc778\ub371\uc2f1 \uc131\ub2a5\uacfc \uac80\uc0c9 \uc131\ub2a5 \uac04\uc758 \uade0\ud615\uc744 \uc870\uc808\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#4-indexing-optimizer","title":"4. Indexing Optimizer","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_5","title":"\ubaa9\uc801","text":"<p>\ub370\uc774\ud130 \uc591\uc774 \ub9ce\uc544\uc9c8 \uacbd\uc6b0 \uc218\ub3d9 \uc778\ub371\uc2a4 \uc124\uc815 \uc5c6\uc774 \uc790\ub3d9\uc73c\ub85c \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud558\uac70\ub098, \uba54\ubaa8\ub9ac\uc5d0\uc11c \ub514\uc2a4\ud06c\ub85c \uc62e\uae30\ub294 \ubc29\uc2dd\uc73c\ub85c \uc2a4\ud1a0\ub9ac\uc9c0 \ucd5c\uc801\ud654\ub97c \uc218\ud589\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_6","title":"\uc8fc\uc694 \uc124\uc815","text":"<pre><code>storage:\n  optimizers:\n    memmap_threshold: 200000  # \uba54\ubaa8\ub9ac\uc5d0 \uc720\uc9c0\ud560 \ucd5c\ub300 \uc138\uadf8\uba3c\ud2b8 \ud06c\uae30(KB), \ucd08\uacfc \uc2dc \ub514\uc2a4\ud06c(mmap) \uc800\uc7a5\n    indexing_threshold_kb: 20000  # \ubca1\ud130 \uc778\ub371\uc2a4 \uc0dd\uc131 \uae30\uc900 \uc6a9\ub7c9(KB)\n</code></pre> <ul> <li> <p>memmap_threshold\ub294 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\uc744 \uc904\uc774\uae30 \uc704\ud55c \uc124\uc815\uc774\ub2e4.</p> </li> <li> <p>indexing_threshold_kb\ub97c \ucd08\uacfc\ud558\uba74 \ube0c\ub8e8\ud2b8\ud3ec\uc2a4 \uac80\uc0c9 \ub300\uc2e0 \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud558\uc5ec \uac80\uc0c9 \uc18d\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0a8\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#5","title":"5. \uceec\ub809\uc158 \ub2e8\uc704 \uc124\uc815 \ubcc0\uacbd","text":"<p>Optimizer \uc124\uc815\uc740 \uae00\ub85c\ubc8c \uc124\uc815 \uc678\uc5d0\ub3c4 \uceec\ub809\uc158 \ub2e8\uc704\ub85c \uac1c\ubcc4 \uc9c0\uc815\uc774 \uac00\ub2a5\ud558\ub2e4. </p> <p>\uc608\ub97c \ub4e4\uc5b4, \ub300\uc6a9\ub7c9 \ub370\uc774\ud130\ub97c \ucc98\uc74c \uc5c5\ub85c\ub4dc\ud560 \ub54c\ub294 \uc778\ub371\uc2f1\uc744 \ube44\ud65c\uc131\ud654\ud55c \ub4a4 \uc5c5\ub85c\ub4dc\uac00 \uc644\ub8cc\ub41c \ud6c4\uc5d0 \uc778\ub371\uc2f1\uc744 \ud65c\uc131\ud654\ud560 \uc218 \uc788\ub2e4. \uc774\ub85c\uc368 \ubd88\ud544\uc694\ud55c \uc778\ub371\uc2a4 \uc7ac\uc0dd\uc131\uc744 \ud53c\ud558\uace0 \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PATCH /collections/{collection_name}\n{\n  \"optimizers_config\": {\n    \"indexing_threshold\": 0\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#6","title":"6. \uc815\ub9ac \ubc0f \ud65c\uc6a9 \uc804\ub7b5","text":"<p>Qdrant\uc758 Optimizer\ub4e4\uc740 \ubca1\ud130 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc790\uc8fc \ubc1c\uc0dd\ud558\ub294 \uc131\ub2a5 \uc800\ud558 \ubb38\uc81c\ub97c \uc790\ub3d9\uc73c\ub85c \ud574\uacb0\ud574\uc900\ub2e4. \ub2e4\uc74c\uacfc \uac19\uc740 \uc0c1\ud669\uc5d0\uc11c \ud6a8\uacfc\uc801\uc73c\ub85c \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p> \uc0ac\uc6a9 \uc0ac\ub840 \ud65c\uc6a9 Optimizer \uc0ad\uc81c\ub41c \ud3ec\uc778\ud2b8 \uc815\ub9ac Vacuum Optimizer \uc791\uc740 \uc138\uadf8\uba3c\ud2b8 \ubcd1\ud569 Merge Optimizer \ub300\ub7c9 \uc5c5\ub85c\ub4dc \uc774\ud6c4 \uc778\ub371\uc2f1 \uc804\ud658 Indexing Optimizer \ub514\uc2a4\ud06c \uba54\ubaa8\ub9ac \uc808\uac10 memmap + indexing threshold \uc870\ud569"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Qptimizer/#_7","title":"\uacb0\ub860","text":"<p>Qdrant\uc758 Optimizer\ub294 \ub300\uaddc\ubaa8 \ubca1\ud130 \ub370\uc774\ud130\uc758 \uc131\ub2a5 \uc800\ud558\ub97c \uc608\ubc29\ud558\uace0, \uac80\uc0c9 \ud488\uc9c8\uc744 \uc720\uc9c0\ud558\uae30 \uc704\ud55c \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc774\ub2e4. \ud2b9\ud788 \ub370\uc774\ud130\uac00 \uc9c0\uc18d\uc801\uc73c\ub85c \uc0bd\uc785, \uc0ad\uc81c, \uc5c5\ub370\uc774\ud2b8\ub418\ub294 \uc2e4\uc2dc\uac04 \uc2dc\uc2a4\ud15c \ud658\uacbd\uc5d0\uc11c\ub294 \uc790\ub3d9 \ucd5c\uc801\ud654 \uc124\uc815\uc774 \uc2dc\uc2a4\ud15c \uc548\uc815\uc131\uacfc \uc131\ub2a5\uc744 \uacb0\uc815\uc9d3\ub294 \uc911\uc694\ud55c \uc694\uc18c\uac00 \ub41c\ub2e4.</p> <p>\uac01 Optimizer\uc758 \uc870\uac74\uc744 \uc0c1\ud669\uc5d0 \ub9de\uac8c \uc870\uc815\ud558\uace0, \ud544\uc694 \uc2dc \uceec\ub809\uc158\ubcc4\ub85c \uc138\ubd84\ud654\ub41c \uc124\uc815\uc744 \uc801\uc6a9\ud558\uba74 Qdrant\uc758 \uc131\ub2a5\uc744 \ucd5c\ub300\ud55c \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/","title":"Reranking Hybrid Search","text":"<p>\ubcf8 \ubb38\uc11c\ub294 Dense + Sparse + Late-Interaction \uc784\ubca0\ub529\uc744 \ud55c \uceec\ub809\uc158\uc5d0 \uc800\uc7a5\ud558\uace0, \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 \ud6c4 ColBERT\ub85c \uc7ac\ub7ad\ud0b9\ud558\ub294 \uc804 \uacfc\uc815\uc744 \uc608\uc2dc \ucf54\ub4dc\uc640 \ud568\uaed8 \uc124\uba85\ud55c\ub2e4.  </p> <p>\ubaa8\ub4e0 \uc608\uc2dc\ub294 Python\u20063.9 \uc774\uc0c1, Qdrant \uc11c\ubc84\uac00 <code>http://localhost:6333</code> \uc5d0 \uad6c\ub3d9\ub418\uc5b4 \uc788\ub2e4\ub294 \uc804\uc81c\ud558\uc5d0 \uc791\uc131\ub418\uc5c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#1","title":"1. \uc544\ud0a4\ud14d\ucc98 \uac1c\uc694","text":"\ub2e8\uacc4 \ub0b4\uc6a9 \ubb38\uc11c \uc778\uc81c\uc2a4\ud2b8 \ubb38\uc11c \u2192 \u2460 Dense (BGE) \u2461 Sparse (BM25) \u2462 ColBERT \ud1a0\ud070 \ubca1\ud130 \uc0dd\uc131 \u2192 Qdrant \uc800\uc7a5 \uac80\uc0c9 \ucffc\ub9ac \ucffc\ub9ac \u2192 \ub3d9\uc77c \uc138 \uac00\uc9c0 \uc784\ubca0\ub529 \uc0dd\uc131 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 Dense + Sparse \ub450 \uc11c\ube0c\ucffc\ub9ac\ub97c <code>prefetch</code> \ub85c \ubcd1\ub82c \uc218\ud589 \uc7ac\ub7ad\ud0b9 ColBERT \uba40\ud2f0\ubca1\ud130\ub85c \ud6c4\ubcf4\ub97c <code>MaxSim</code> \uae30\ubc18 \uc7ac\uc815\ub82c \uacb0\uacfc \ucd5c\uc885 \uc0c1\uc704 N\uac1c \ubb38\uc11c \ubc18\ud658 <p>\uba40\ud2f0\ubca1\ud130(ColBERT) \uc2a4\ud398\uc774\uc2a4\ub294 HNSW \uc778\ub371\uc2a4\ub97c \ub048(m = 0) \uc0c1\ud0dc\ub85c \uc800\uc7a5\ud574 RAM\u00b7\uc0bd\uc785 \uc2dc\uac04\uc744 \ucd5c\uc18c\ud654\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#2","title":"2. \uc900\ube44 \uc0ac\ud56d","text":"<pre><code>pip install qdrant-client[fastembed]&gt;=1.14.2\npip install fastembed\n</code></pre> <p>\ubaa8\ub378 \uc774\ub984</p> <ul> <li> <p>Dense\u2003: <code>sentence-transformers/all-MiniLM-L6-v2</code></p> </li> <li> <p>Sparse : <code>Qdrant/bm25</code></p> </li> <li> <p>Late-Interaction : <code>colbert-ir/colbertv2.0</code></p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#3","title":"3. \uc778\uc81c\uc2a4\ud2b8 \ub2e8\uacc4","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#31","title":"3.1 \uc784\ubca0\ub529 \uc0dd\uc131","text":"<pre><code>from fastembed import (\n    TextEmbedding,\n    SparseTextEmbedding,\n    LateInteractionTextEmbedding,\n)\n\ndocs = [\n    \"Artificial intelligence is used in hospitals for cancer diagnosis and treatment.\",\n    \"Self-driving cars use AI to detect obstacles and make driving decisions.\",\n    \"AI is transforming customer service through chatbots and automation.\",\n]\n\ndense_model   = TextEmbedding(\"sentence-transformers/all-MiniLM-L6-v2\")\nsparse_model  = SparseTextEmbedding(\"Qdrant/bm25\")\ncolbert_model = LateInteractionTextEmbedding(\"colbert-ir/colbertv2.0\")\n\ndense_vecs   = list(dense_model.embed(docs))\nsparse_vecs  = list(sparse_model.embed(docs))\ncolbert_vecs = list(colbert_model.embed(docs))      # \ub9ac\uc2a4\ud2b8(\ud1a0\ud070\uc218)\u2192128\ucc28\uc6d0 \ubca1\ud130 \ubc30\uc5f4\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#32","title":"3.2 \uceec\ub809\uc158 \uc0dd\uc131","text":"<pre><code>from qdrant_client import QdrantClient, models\n\nclient = QdrantClient(\"http://localhost:6333\")\n\nclient.create_collection(\n    collection_name=\"hybrid-search\",\n    vectors_config={\n        \"all-MiniLM-L6-v2\": models.VectorParams(\n            size=len(dense_vecs[0]),\n            distance=models.Distance.COSINE,\n        ),\n        \"colbertv2.0\": models.VectorParams(\n            size=len(colbert_vecs[0][0]),\n            distance=models.Distance.COSINE,\n            multivector_config=models.MultiVectorConfig(\n                comparator=models.MultiVectorComparator.MAX_SIM,\n            ),\n            hnsw_config=models.HnswConfigDiff(m=0),  # \uc778\ub371\uc2f1 OFF\n        ),\n    },\n    sparse_vectors_config={\n        \"bm25\": models.SparseVectorParams(\n            modifier=models.Modifier.IDF   # IDF \uc790\ub3d9 \uc801\uc6a9\n        )\n    },\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#33","title":"3.3 \ub370\uc774\ud130 \uc5c5\uc11c\ud2b8","text":"<pre><code>from qdrant_client.models import PointStruct\n\npoints = [\n    PointStruct(\n        id=i,\n        vector={\n            \"all-MiniLM-L6-v2\": dense_vecs[i],\n            \"bm25\": sparse_vecs[i].as_object(),\n            \"colbertv2.0\": colbert_vecs[i],\n        },\n        payload={\"document\": docs[i]},\n    )\n    for i in range(len(docs))\n]\n\nclient.upsert(\n    collection_name=\"hybrid-search\",\n    points=points,\n    batch_size=8,\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#4","title":"4. \uac80\uc0c9\u00b7\uc7ac\ub7ad\ud0b9 \ub2e8\uacc4","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#41","title":"4.1 \ucffc\ub9ac \uc784\ubca0\ub529","text":"<pre><code>query = \"How does AI help in medicine?\"\n\ndense_q   = next(dense_model.query_embed(query))\nsparse_q  = next(sparse_model.query_embed(query))\ncolbert_q = next(colbert_model.query_embed(query))\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#42-dense-sparse","title":"4.2 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 (Dense + Sparse)","text":"<pre><code>prefetch = [\n    models.Prefetch(\n        query=dense_q,\n        using=\"all-MiniLM-L6-v2\",\n        limit=20,\n    ),\n    models.Prefetch(\n        query=models.SparseVector(**sparse_q.as_object()),\n        using=\"bm25\",\n        limit=20,\n    ),\n]\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#43-colbert","title":"4.3 ColBERT \uc7ac\ub7ad\ud0b9","text":"<pre><code>results = client.query_points(\n    collection_name=\"hybrid-search\",\n    prefetch=prefetch,           # \ud6c4\ubcf4 20+20\n    query=colbert_q,             # \ud1a0\ud070-\ub808\ubca8 MaxSim\n    using=\"colbertv2.0\",\n    limit=10,                    # \ucd5c\uc885 \uc0c1\uc704 10\n    with_payload=True,\n)\nfor r in results.points:\n    print(r.payload[\"document\"], \"| score:\", r.score)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#5","title":"5. \ubca0\uc2a4\ud2b8 \ud504\ub799\ud2f0\uc2a4","text":"<ol> <li> <p>\uba40\ud2f0\ubca1\ud130 \uc778\ub371\uc2f1 OFF</p> <ul> <li> <p><code>hnsw_config.m = 0</code> \ub85c RAM\u00b7\uc0bd\uc785 \uc18d\ub3c4 \ucd5c\uc801\ud654</p> </li> <li> <p>\uc7ac\ub7ad\ud0b9 \uc804\uc6a9 \ud544\ub4dc\uc5d0\ub294 \uc778\ub371\uc2f1\uc774 \ubd88\ud544\uc694\ud558\ub2e4.</p> </li> </ul> </li> <li> <p>Dense + Sparse \ud6c4\ubcf4 \uc9d1\ud569 \ucd95\uc18c</p> <ul> <li>1\ucc28 \uac80\uc0c9 <code>limit</code> \uac12\uc744 \uc791\uac8c \uc7a1\uc544 ColBERT \uacc4\uc0b0\ub7c9\uc744 \uc81c\uc5b4\ud55c\ub2e4.</li> </ul> </li> <li> <p>\uc9c0\uc18d\uc801 \ud488\uc9c8 \ubaa8\ub2c8\ud130\ub9c1</p> <ul> <li>\uc815\uae30\uc801\uc73c\ub85c Precision@k, MRR \ub4f1\uc744 \ud3c9\uac00\ud558\uc5ec \ubaa8\ub378\u00b7\ud30c\ub77c\ubbf8\ud130\ub97c \uc870\uc815\ud55c\ub2e4.</li> </ul> </li> <li> <p>\uc9c0\uc5f0 \uc2dc\uac04 vs \uc815\ud655\ub3c4 \uade0\ud615</p> <ul> <li>\uc7ac\ub7ad\ud0b9\uc740 \ube44\uc6a9\uc774 \ud06c\ubbc0\ub85c \ubc18\ub4dc\uc2dc \ucd95\uc18c\ub41c \ud6c4\ubcf4 \uc9d1\ud569\uc5d0\ub9cc \uc801\uc6a9\ud55c\ub2e4.</li> </ul> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Reranking%20Hybrid%20Search/#6","title":"6. \uacb0\ub860","text":"<p>Qdrant\ub294 \ud55c \uceec\ub809\uc158 \uc548\uc5d0\uc11c Dense + Sparse + \uba40\ud2f0\ubca1\ud130\ub97c \ub3d9\uc2dc\uc5d0 \uc800\uc7a5\ud558\uace0, <code>prefetch</code> / <code>multivector</code> \uae30\ub2a5\uc73c\ub85c \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\u2192ColBERT \uc7ac\ub7ad\ud0b9\uc744 \ud55c \ubc88\uc758 \ud638\ucd9c\ub85c \uc218\ud589\ud560 \uc218 \uc788\ub2e4. \uc778\ub371\uc2a4 \uc0ac\uc6a9 \uc5ec\ubd80\ub97c \ud544\ub4dc \ub2e8\uc704\ub85c \uc81c\uc5b4\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c \uc131\ub2a5\u00b7\uc790\uc6d0 \uc0ac\uc6a9\uc744 \uc138\ubc00\ud558\uac8c \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4.</p> <p>Qdrant Cloud\ub97c \uc774\uc6a9\ud558\uba74 \ub3d9\uc77c \uad6c\uc131\uc744 \uad00\ub9ac\ud615 \ud658\uacbd\uc5d0\uc11c \uc989\uc2dc \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4. \uc9c0\uae08 \ubc14\ub85c \ubb34\ub8cc\ub85c \uac00\uc785\ud558\uc5ec \uace0\uc815\ubc00 \uac80\uc0c9 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uad6c\ucd95\ud574 \ubcf4\uc790.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/","title":"Running with GPU","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#1","title":"1. \uac1c\uc694","text":"<p>Qdrant v1.13.0\ubd80\ud130 GPU \uc778\ub371\uc2f1 \uac00\uc18d\uc744 \uacf5\uc2dd \uc9c0\uc6d0\ud55c\ub2e4. </p> <p>\uae30\ubcf8 \ubc14\uc774\ub108\ub9ac\uc5d0\ub294 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c, \uc804\uc6a9 Docker \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\uac70\ub098 \uc9c1\uc811 GPU \uae30\ub2a5\uc744 \ucf1c\uc11c \ube4c\ub4dc\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#2","title":"2. \uc124\uc815 \uc635\uc158 \uc694\uc57d","text":"<p><code>production.yaml</code> \uc5d0 \ub2e4\uc74c\uacfc \uac19\uc740 <code>gpu</code> \ube14\ub85d\uc774 \uc874\uc7ac\ud55c\ub2e4.</p> <pre><code>gpu:\n  indexing: false          # GPU \uc778\ub371\uc2f1 \uc0ac\uc6a9 \uc5ec\ubd80\n  force_half_precision: false\n  groups_count: 512        # GPU \uc6cc\ud06c \uadf8\ub8f9 \uc218\n  device_filter: \"\"        # \"nvidia\" \ub4f1 \ud544\ud130 \ubb38\uc790\uc5f4\n  devices: null            # \uc778\ub371\uc2a4(0,1\u2026)\ub85c \ud2b9\uc815 GPU \uc120\ud0dd\n  parallel_indexes: 1      # \ubcd1\ub82c \uc778\ub371\uc2f1 \uc791\uc5c5 \uc218\n  allow_integrated: false  # \ub0b4\uc7a5 GPU \ud5c8\uc6a9\n  allow_emulated: false    # \uc18c\ud504\ud2b8\uc6e8\uc5b4 GPU(LLVMpipe) \ud5c8\uc6a9\n</code></pre> <p>\ub300\ubd80\ubd84 \uae30\ubcf8\uac12\uc744 \uc720\uc9c0\ud558\uace0 <code>indexing: true</code>\ub9cc \ud658\uacbd \ubcc0\uc218\ub85c \ucf1c\uba74 \ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#3","title":"3. \ub3c5\ub9bd \uc2e4\ud589\ud615 \ubc14\uc774\ub108\ub9ac \ube4c\ub4dc","text":"<p>\ub85c\uceec \ube4c\ub4dc\ub97c \uc6d0\ud55c\ub2e4\uba74 GPU \uae30\ub2a5\uc744 \ud3ec\ud568\ud558\uc5ec \ucef4\ud30c\uc77c\ud55c\ub2e4.</p> <pre><code>cargo build --release --features gpu\n</code></pre> <ul> <li> <p>GPU \uc0ac\uc6a9 \uc2dc Vulkan 1.3 \uc9c0\uc6d0\uc774 \ud544\uc218\uc774\ub2e4.</p> </li> <li> <p>\uc2e4\ud589 \uc2dc <code>gpu.indexing: true</code>\uac00 \uc124\uc815\ub3fc \uc788\uc5b4\uc57c \uc2e4\uc81c\ub85c GPU\ub97c \uc4f4\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#4-nvidia-gpu-docker","title":"4. NVIDIA GPU\uc6a9 Docker","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#4-1","title":"4-1. \uc0ac\uc804 \uc900\ube44","text":"<ul> <li> <p>\ucd5c\uc2e0 NVIDIA \ub4dc\ub77c\uc774\ubc84</p> </li> <li> <p><code>nvidia-container-toolkit</code> \uc124\uce58</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#4-2","title":"4-2. \uc2e4\ud589 \uc608\uc2dc","text":"<pre><code>docker run --rm \\\n  --gpus=all \\\n  -p 6333:6333 -p 6334:6334 \\\n  -e QDRANT__GPU__INDEXING=1 \\\n  qdrant/qdrant:gpu-nvidia-latest\n</code></pre> <ul> <li> <p><code>--gpus=all</code> \u2192 \ucee8\ud14c\uc774\ub108\uc5d0 \ubb3c\ub9ac GPU \ub178\ucd9c</p> </li> <li> <p><code>QDRANT__GPU__INDEXING=1</code> \u2192 Qdrant\uac00 GPU \uc778\ub371\uc2f1 \ud65c\uc131\ud654</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#4-3","title":"4-3. \uc815\uc0c1 \ub3d9\uc791 \ud655\uc778","text":"<p>\ucee8\ud14c\uc774\ub108 \ub85c\uadf8\uc5d0 \ub2e4\uc74c\uacfc \uac19\uc774 \uc2e4\uc81c GPU\uac00 \uc7a1\ud614\ub294\uc9c0 \ud655\uc778\ud55c\ub2e4.</p> <pre><code>INFO gpu::instance: Found GPU device: NVIDIA GeForce RTX 3090\nINFO gpu::device:   Create GPU device NVIDIA GeForce RTX 3090\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#4-4","title":"4-4. \ubb38\uc81c \ud574\uacb0","text":"<p>GPU\uac00 \ubcf4\uc774\uc9c0 \uc54a\uc73c\uba74 \ub2e4\uc74c\uc744 \uc810\uac80\ud55c\ub2e4.</p> <ol> <li> <p>\ub4dc\ub77c\uc774\ubc84 \ubc0f <code>nvidia-container-toolkit</code> \ucd5c\uc2e0\ud654</p> </li> <li> <p><code>vulkaninfo --summary</code>\ub85c Vulkan \ub178\ucd9c \ud655\uc778</p> </li> <li> <p><code>/etc/nvidia-container-runtime/config.toml</code>\uc5d0\uc11c <code>no-cgroups=false</code> \uc124\uc815 \ud6c4 Docker \uc7ac\uc2dc\uc791</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#5-amd-gpu-docker","title":"5. AMD GPU\uc6a9 Docker","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#5-1","title":"5-1. \uc0ac\uc804 \uc900\ube44","text":"<ul> <li>\ud638\uc2a4\ud2b8\uc5d0 ROCm \uc124\uce58</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#5-2","title":"5-2. \uc2e4\ud589 \uc608\uc2dc","text":"<pre><code>docker run --rm \\\n  --device /dev/kfd --device /dev/dri \\\n  -p 6333:6333 -p 6334:6334 \\\n  -e QDRANT__GPU__INDEXING=1 \\\n  qdrant/qdrant:gpu-amd-latest\n</code></pre> <ul> <li><code>/dev/kfd</code>, <code>/dev/dri</code> \uc7a5\uce58\ub97c \ub178\ucd9c\ud574\uc57c ROCm\uc774 \uc778\uc2dd\ub41c\ub2e4.</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#5-3","title":"5-3. \ub85c\uadf8 \uc608\uc2dc","text":"<pre><code>INFO gpu::instance: Found GPU device: AMD Radeon Graphics (RADV GFX1103_R1)\nINFO gpu::device:   Create GPU device AMD Radeon Graphics (RADV GFX1103_R1)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#6","title":"6. \uba54\ubaa8\ub9ac\u00b7\uc138\uadf8\uba3c\ud2b8 \ud06c\uae30 \uc81c\ud55c","text":"<p>GPU \ud55c \ubc88\uc758 \uc778\ub371\uc2f1 \uc791\uc5c5\uc774 \ucc98\ub9ac\ud560 \uc218 \uc788\ub294 \ub370\uc774\ud130\ub294 16 GB\uae4c\uc9c0\uc774\ub2e4. \uc138\uadf8\uba3c\ud2b8 \ud06c\uae30\uac00 \uc774\ub97c \ucd08\uacfc\ud558\uc9c0 \uc54a\ub3c4\ub85d <code>max_segment_size</code>(KB \ub2e8\uc704) \uac12\uc744 \uc870\uc815\ud55c\ub2e4.</p> <pre><code>PATCH /collections/{collection_name}\n{\n  \"optimizers_config\": {\n    \"max_segment_size\": 1000000   # \uc608: 1,000,000 KB \u2252 1 GB\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#7","title":"7. \uc54c\ub824\uc9c4 \uc81c\uc57d","text":"\ud56d\ubaa9 \ub0b4\uc6a9 \uc9c0\uc6d0 \ud50c\ub7ab\ud3fc Linux x86_64 \uc804\uc6a9 Docker \uc774\ubbf8\uc9c0 \uc81c\uacf5. Windows, macOS, ARM \ubbf8\uc9c0\uc6d0 \uba54\ubaa8\ub9ac \ud55c\uacc4 GPU\ub2f9 16 GB \ubca1\ud130 \ub370\uc774\ud130/\ubc18\ubcf5 \uc778\ub371\uc2f1"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Running%20with%20GPU/#8","title":"8. \ud55c\ub208\uc5d0 \ubcf4\ub294 \uc2e4\ud589 \uc808\ucc28","text":"<ol> <li> <p>GPU \ub4dc\ub77c\uc774\ubc84 &amp; \ub7f0\ud0c0\uc784 \uc124\uce58</p> </li> <li> <p>GPU \uc9c0\uc6d0 Docker \uc774\ubbf8\uc9c0(<code>gpu-nvidia</code>, <code>gpu-amd</code>) \uc120\ud0dd</p> </li> <li> <p>\ucee8\ud14c\uc774\ub108 \uc2e4\ud589 \uc2dc</p> <ul> <li> <p>GPU \uc7a5\uce58 \ub178\ucd9c(<code>--gpus=all</code> \ub610\ub294 <code>--device \u2026</code>)</p> </li> <li> <p><code>QDRANT__GPU__INDEXING=1</code> \ud658\uacbd \ubcc0\uc218 \uc9c0\uc815</p> </li> </ul> </li> <li> <p>\ub85c\uadf8\ub85c \ucd08\uae30\ud654 \uc131\uacf5 \ud655\uc778</p> </li> <li> <p>\ud544\uc694\ud558\ub2e4\uba74 <code>max_segment_size</code>\ub85c \uc138\uadf8\uba3c\ud2b8 \uc870\uc815</p> </li> </ol> <p>\uc774\ub807\uac8c \uc124\uc815\ud558\uba74 Qdrant\uac00 HNSW \uadf8\ub798\ud504 \uad6c\ucd95\uc744 GPU\uc5d0\uc11c \uc218\ud589\ud558\uc5ec \uc778\ub371\uc2f1 \uc18d\ub3c4\uc640 \ubc30\uce58 \ucc98\ub9ac\ub7c9\uc774 \ud06c\uac8c \ud5a5\uc0c1\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/","title":"Scaling PDF Retrieval","text":"<p>\ub300\uaddc\ubaa8 PDF \uac80\uc0c9\uc740 RAG\u00b7\uc5d0\uc774\uc804\ud2b8\ud615 \uc6cc\ud06c\ud50c\ub85c\uc6b0\uc5d0\uc11c \ud575\uc2ec \uc694\uc18c\uc774\ub2e4. </p> <p>ColPali\u00b7ColQwen2\uc640 \uac19\uc740 \ube44\uc804 LLM(VLLM)\uc740 OCR\u00b7\ub8f0 \uae30\ubc18 \ud30c\uc2f1 \uc5c6\uc774 PDF \ud398\uc774\uc9c0 \uc774\ubbf8\uc9c0\ub97c \uc9c1\uc811 \uc784\ubca0\ub529\ud558\uc5ec \ucd5c\uc2e0 \ubca4\uce58\ub9c8\ud06c(\uc608: ViDoRe)\uc5d0\uc11c \ub6f0\uc5b4\ub09c \uc131\ub2a5\uc744 \ubcf4\uc778\ub2e4. </p> <p>\uadf8\ub7ec\ub098 VLLM\uc740 \ud55c \ud398\uc774\uc9c0\ub2f9 \uc218\ubc31 ~ \ucc9c\uc5ec \uac1c\uc758 \uba40\ud2f0\ubca1\ud130\ub97c \uc0dd\uc131\ud558\ubbc0\ub85c, \uadf8\ub300\ub85c HNSW \uc778\ub371\uc2f1\uc744 \uc218\ud589\ud558\uba74 RAM \uc0ac\uc6a9\ub7c9 \ud3ed\uc99d\u00b7\uc778\ub371\uc2a4 \uad6c\ucd95 \uc9c0\uc5f0\u00b7\uac80\uc0c9 \uc9c0\uc5f0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud55c\ub2e4.</p> <p>\ubcf8 \ud29c\ud1a0\ub9ac\uc5bc\uc740 \ub2e4\uc74c \uc804\ub7b5\uc73c\ub85c \uc774\ub7ec\ud55c \ubcd1\ubaa9\uc744 \ud574\uc18c\ud558\ub294 \ubc29\ubc95\uc744 \uc124\uba85\ud55c\ub2e4.</p> <ol> <li> <p>1\ub2e8\uacc4 \uac80\uc0c9 \u2015 \ud589\u00b7\uc5f4 \uae30\uc900 Mean Pooling \uc73c\ub85c \ubca1\ud130 \uc218\ub97c \uc218\uc2ed \uac1c\ub85c \ucd95\uc18c\ud558\uc5ec HNSW \uc778\ub371\uc2a4 \uad6c\ucd95</p> </li> <li> <p>2\ub2e8\uacc4 \uc7ac\ub7ad\ud0b9 \u2015 \uc6d0\ubcf8 \uba40\ud2f0\ubca1\ud130\ub97c \uc0ac\uc6a9\ud574 \uc0c1\uc704 \ud6c4\ubcf4(\uc608: 100\uac1c)\ub97c ColPali\u00b7ColQwen2\uc758 Late Interaction(MAX SIM)\uc73c\ub85c \uc815\ubc00 \uc7ac\uc815\ub82c</p> </li> </ol>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#1","title":"1. \uc0ac\uc804 \uc900\ube44","text":"<pre><code>pip install colpali_engine&gt;=0.3.1         # ColPali / ColQwen2\npip install qdrant-client[fastembed]&gt;=1.12 # Qdrant + \uc784\ubca0\ub529\n</code></pre> <pre><code>from colpali_engine.models import ColPali, ColPaliProcessor\nfrom qdrant_client import QdrantClient, models\n\nclient = QdrantClient(url=\"&lt;Qdrant_Cluster_URL&gt;\", api_key=\"&lt;API_KEY&gt;\")\nmodel      = ColPali.from_pretrained(\"vidore/colpali-v1.3\",\n                                     torch_dtype=\"bfloat16\",\n                                     device_map=\"cuda:0\").eval()\nprocessor  = ColPaliProcessor.from_pretrained(\"vidore/colpali-v1.3\")\n</code></pre> <p>_ColQwen2_\ub3c4 \ub3d9\uc77c\ud55c \ubc29\ubc95\uc73c\ub85c \ub85c\ub4dc\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#2","title":"2. \uceec\ub809\uc158 \uc124\uacc4","text":"\ubca1\ud130 \uc774\ub984 \uc6a9\ub3c4 \ud06c\uae30 HNSW multivector <code>original</code> \uc6d0\ubcf8 \uba40\ud2f0\ubca1\ud130 \u2192 \uc7ac\ub7ad\ud0b9 128 \ube44\ud65c\uc131(m=0) MAX_SIM <code>mean_pooling_rows</code> \ud589\ubcc4 \ud3c9\uade0 128 \ud65c\uc131 MAX_SIM <code>mean_pooling_columns</code> \uc5f4\ubcc4 \ud3c9\uade0 128 \ud65c\uc131 MAX_SIM <pre><code>client.create_collection(\n    \"pdf-pages\",\n    vectors_config = {\n        \"original\": models.VectorParams(\n            size=128, distance=models.Distance.COSINE,\n            multivector_config=models.MultiVectorConfig(\n                comparator=models.MultiVectorComparator.MAX_SIM),\n            hnsw_config=models.HnswConfigDiff(m=0)            # \uc778\ub371\uc2f1 OFF\n        ),\n        \"mean_pooling_rows\": models.VectorParams(\n            size=128, distance=models.Distance.COSINE,\n            multivector_config=models.MultiVectorConfig(\n                comparator=models.MultiVectorComparator.MAX_SIM)\n        ),\n        \"mean_pooling_columns\": models.VectorParams(\n            size=128, distance=models.Distance.COSINE,\n            multivector_config=models.MultiVectorConfig(\n                comparator=models.MultiVectorComparator.MAX_SIM)\n        )\n    }\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#3","title":"3. \ub370\uc774\ud130\uc14b \uc900\ube44","text":"<pre><code>from datasets import load_dataset\ndataset = load_dataset(\"davanstrien/ufo-ColPali\", split=\"train\")\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#4-mean-pooling","title":"4. \uc784\ubca0\ub529 \ubc0f Mean Pooling","text":"<pre><code>import torch, uuid, tqdm\n\ndef embed_page(image):\n    proc = processor.process_images([image])\n    vecs = model(**proc)[0]               # (1030, 128) ColPali \uc608\uc2dc\n    mask = proc.input_ids[0] == processor.image_token_id\n    img_tokens = vecs[mask]\n    x, y = processor.get_n_patches(image.size, model.patch_size)  # (32, 32)\n    img_tokens = img_tokens.view(x, y, -1)\n\n    # \ud589\u00b7\uc5f4 \ud3c9\uade0\n    rows    = img_tokens.mean(dim=1)                # (x, 128)\n    columns = img_tokens.mean(dim=0)                # (y, 128)\n\n    # \ud2b9\uc218 \ud1a0\ud070 6\uac1c \uc720\uc9c0\n    specials = vecs[~mask]\n    rows    = torch.cat([rows, specials])           # (x+6, 128)\n    columns = torch.cat([columns, specials])        # (y+6, 128)\n\n    return vecs, rows, columns\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#5","title":"5. \uc5c5\ub85c\ub4dc","text":"<pre><code>points=[]\nfor i, row in enumerate(tqdm.tqdm(dataset[:1000])):  # \uc608\uc2dc: 1,000\ud398\uc774\uc9c0\n    original, rows, cols = embed_page(row[\"image\"])\n\n    points.append(\n        models.PointStruct(\n            id=uuid.uuid4().hex,\n            vector={\n                \"original\": original.cpu().numpy(),\n                \"mean_pooling_rows\": rows.cpu().numpy(),\n                \"mean_pooling_columns\": cols.cpu().numpy()\n            },\n            payload={\"index\": i}\n        )\n    )\n\nclient.upload_points(\"pdf-pages\", points=points, batch_size=8)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#6","title":"6. \uac80\uc0c9 \ud30c\uc774\ud504\ub77c\uc778","text":"<pre><code>query = \"Lee Harvey Oswald's involvement in the JFK assassination\"\nq_vec  = model(**processor.process_queries([query]).to(model.device))[0]\n\nprefetched = client.query_points(\n    \"pdf-pages\",\n    query=q_vec,\n    prefetch=[\n        models.Prefetch(query=q_vec, using=\"mean_pooling_rows\",    limit=100),\n        models.Prefetch(query=q_vec, using=\"mean_pooling_columns\", limit=100)\n    ],\n    using=\"original\",            # \uc7ac\ub7ad\ud0b9 \ub2e8\uacc4\n    limit=10,\n    with_payload=True\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#7","title":"7. \uc131\ub2a5 \ud6a8\uacfc","text":"<ul> <li> <p>ColPali \uc6d0\ubcf8: \ud398\uc774\uc9c0\ub2f9 1,030 \ubca1\ud130 \u00d7 <code>ef_construct=100</code> \u2192 \uc0bd\uc785\ub2f9 \ucd5c\uc18c 103,000 \ube44\uad50</p> </li> <li> <p>Mean Pooling 32\u00d732: \ud398\uc774\uc9c0\ub2f9 \u224832 \ubca1\ud130 \u2192 \ube44\uad50\ub7c9\uc744 30\ubc30 \uc774\uc0c1 \uac10\uc18c</p> </li> <li> <p>\uc2e4\ud5d8 \uacb0\uacfc</p> <ul> <li> <p>\uc778\ub371\uc2f1 \uc2dc\uac04: 10\ubc30 \uc774\uc0c1 \ub2e8\ucd95</p> </li> <li> <p>1\ub2e8\uacc4 Recall: \uc6d0\ubcf8 \ub300\ube44 \uc190\uc2e4 \ubbf8\ubbf8</p> </li> <li> <p>\uc7ac\ub7ad\ud0b9: \ucd5c\uc885 \uc815\ubc00\ub3c4 \uc720\uc9c0</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Scaling%20PDF%20Retrieval/#8","title":"8. \uacb0\ub860 \ubc0f \uad8c\uc7a5 \uc0ac\ud56d","text":"<ul> <li> <p>\uba40\ud2f0\ubca1\ud130 \uc555\ucd95 \u2192 1\ub2e8\uacc4 \uac80\uc0c9, \uc6d0\ubcf8 \uba40\ud2f0\ubca1\ud130 \u2192 \uc7ac\ub7ad\ud0b9 \uc804\ub7b5\uc774 \ud544\uc218\uc801\uc774\ub2e4.</p> </li> <li> <p>\ub2e8\uc21c \uc591\uc790\ud654\ub294 \ube44\uad50 \ud69f\uc218\ub97c \uc904\uc774\uc9c0 \ubabb\ud558\ubbc0\ub85c \ucc98\ub9ac \uc18d\ub3c4 \ubcd1\ubaa9\uc744 \ud574\uacb0\ud558\uc9c0 \ubabb\ud55c\ub2e4.</p> </li> <li> <p>Qdrant\uc758 <code>multivector_config</code>, <code>hnsw_config(m=0)</code> \uc635\uc158\uc744 \uc801\uadf9 \ud65c\uc6a9\ud558\uc5ec RAM\u00b7CPU \uc790\uc6d0\uc744 \uc808\uc57d\ud558\ub77c.</p> </li> <li> <p>ColPali\u00b7ColQwen2\uc640 \uac19\uc740 VLLM \uae30\ubc18 PDF RAG \ud30c\uc774\ud504\ub77c\uc778\uc744 \uad6c\ucd95\ud560 \ub54c, \ubcf8 \ud29c\ud1a0\ub9ac\uc5bc\uc758 \uc124\uacc4\ub97c \uc801\uc6a9\ud558\uba74 \ub300\ub7c9 \ubb38\uc11c\ub3c4 \uc2e4\uc6a9\uc801\uc778 \uc2dc\uac04 \uc548\uc5d0 \uc778\ub371\uc2f1\u00b7\uac80\uc0c9\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/","title":"Semantic Search Tutorials","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#1-5","title":"1. 5 \ubd84 \ub9cc\uc5d0 \ub9cc\ub4dc\ub294 \uac04\ub2e8\ud55c \uc2dc\ub9e8\ud2f1 \uac80\uc0c9 \uc5d4\uc9c4","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#11","title":"1.1 \uc900\ube44 \uc0ac\ud56d","text":"<ul> <li> <p>Python \ucd5c\uc2e0 \ubc84\uc804</p> </li> <li> <p>\uac00\uc0c1 \ud658\uacbd(\uc608: <code>python -m venv tutorial-env &amp;&amp; source tutorial-env/bin/activate</code>)</p> </li> <li> <p>\ud544\uc218 \ub77c\uc774\ube0c\ub7ec\ub9ac</p> </li> </ul> <pre><code>pip install -U sentence-transformers qdrant-client&gt;=1.7.1\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#12","title":"1.2 \ucf54\ub4dc \uac1c\uc694","text":"<pre><code>from qdrant_client import QdrantClient, models\nfrom sentence_transformers import SentenceTransformer\n\nencoder = SentenceTransformer(\"all-MiniLM-L6-v2\")\nclient = QdrantClient(\":memory:\")           # \uc778\uba54\ubaa8\ub9ac \ubaa8\ub4dc\ndocs = [...]                                # \ucc45 \uba54\ud0c0\ub370\uc774\ud130\nclient.create_collection(\n    \"my_books\",\n    vectors_config=models.VectorParams(\n        size=encoder.get_sentence_embedding_dimension(),\n        distance=models.Distance.COSINE,\n    ),\n)\nclient.upload_points(\n    \"my_books\",\n    [\n        models.PointStruct(\n            id=i,\n            vector=encoder.encode(d[\"description\"]).tolist(),\n            payload=d,\n        )\n        for i, d in enumerate(docs)\n    ],\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#13","title":"1.3 \uc9c8\uc758 \uc608\uc2dc","text":"<pre><code>hits = client.query_points(\n    collection_name=\"my_books\",\n    query=encoder.encode(\"alien invasion\").tolist(),\n    limit=3,\n).points\n</code></pre> <p>\ud544\ud130\ub9c1 \uc608\uc2dc</p> <pre><code>hits = client.query_points(\n    \"my_books\",\n    query=encoder.encode(\"alien invasion\").tolist(),\n    query_filter=models.Filter(\n        must=[models.FieldCondition(key=\"year\",\n               range=models.Range(gte=2000))]\n    ),\n    limit=1,\n).points\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#2-sentence-transformers-qdrant","title":"2. Sentence Transformers + Qdrant\ub85c \ub274\ub7f4 \uac80\uc0c9 \uc11c\ube44\uc2a4 \uad6c\ucd95","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#21","title":"2.1 \ub370\uc774\ud130 \uc900\ube44","text":"<pre><code>wget https://storage.googleapis.com/generall-shared-data/startups_demo.json\npip install sentence-transformers numpy pandas tqdm\n</code></pre> <pre><code>from sentence_transformers import SentenceTransformer\nimport pandas as pd, numpy as np, json, tqdm\n\nmodel = SentenceTransformer(\"all-MiniLM-L6-v2\", device=\"cuda\")   # GPU \uc5c6\uc73c\uba74 cpu\ndf = pd.read_json(\"startups_demo.json\", lines=True)\nvectors = model.encode(\n    [f\"{r.alt}. {r.description}\" for r in df.itertuples()],\n    show_progress_bar=True,\n)\nnp.save(\"startup_vectors.npy\", vectors, allow_pickle=False)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#22-qdrant","title":"2.2 Qdrant \uc2e4\ud589","text":"<pre><code>docker pull qdrant/qdrant\ndocker run -p 6333:6333 -v $(pwd)/qdrant_storage:/qdrant/storage qdrant/qdrant\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#23","title":"2.3 \ubca1\ud130 \uc5c5\ub85c\ub4dc","text":"<pre><code>from qdrant_client import QdrantClient, models\n\nclient = QdrantClient(\"http://localhost:6333\")\nclient.create_collection(\n    \"startups\",\n    vectors_config=models.VectorParams(size=384, distance=models.Distance.COSINE),\n)\npayload_iter = map(json.loads, open(\"startups_demo.json\"))\nvectors = np.load(\"startup_vectors.npy\")\n\nclient.upload_collection(\n    \"startups\",\n    vectors=vectors,\n    payload=payload_iter,\n    batch_size=256,\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#24-fastapi","title":"2.4 FastAPI \uc11c\ube44\uc2a4","text":"<pre><code>from fastapi import FastAPI\nfrom neural_searcher import NeuralSearcher    # \uc790\uccb4 \ud074\ub798\uc2a4\n\napp = FastAPI()\nsearcher = NeuralSearcher(\"startups\")\n\n@app.get(\"/api/search\")\ndef search(q: str):\n    return {\"result\": searcher.search(q)}\n\n# \uc2e4\ud589: uvicorn service:app --reload\n</code></pre> <p><code>NeuralSearcher</code> \ud074\ub798\uc2a4\ub294 Sentence Transformer\ub85c \ucffc\ub9ac\ub97c \uc784\ubca0\ub529\ud558\uace0 <code>client.query_points</code>\ub85c \uac80\uc0c9\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#3-fastembed-qdrant","title":"3. FastEmbed + Qdrant\ub85c \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 \uc11c\ube44\uc2a4 \uad6c\ucd95","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#31","title":"3.1 \ud658\uacbd \uc124\uc815","text":"<pre><code>pip install \"qdrant-client[fastembed]&gt;=1.14.2\"  # fastembed&gt;=0.6.1 \ud3ec\ud568\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#32","title":"3.2 \uceec\ub809\uc158 \uad6c\uc131","text":"<pre><code>dense_vec_name  = \"dense\"\nsparse_vec_name = \"sparse\"\ndense_model     = \"sentence-transformers/all-MiniLM-L6-v2\"\nsparse_model    = \"prithivida/Splade_PP_en_v1\"\n\nclient.create_collection(\n    \"startups\",\n    vectors_config={\n        dense_vec_name: models.VectorParams(\n            size=client.get_embedding_size(dense_model),\n            distance=models.Distance.COSINE)\n    },\n    sparse_vectors_config={sparse_vec_name: models.SparseVectorParams()},\n)\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#33","title":"3.3 \uc5c5\ub85c\ub4dc \ubc0f \uc778\ud37c\ub7f0\uc2a4","text":"<p><code>client.upload_collection</code>\uc5d0 <code>models.Document(text, model=...)</code>\uc744 \uc0ac\uc6a9\ud558\uba74 FastEmbed\uac00 \uc790\ub3d9\uc73c\ub85c \ubc30\uce58\u00b7\ubcd1\ub82c \uc778\ucf54\ub529 \ud6c4 \uc5c5\ub85c\ub4dc\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#34","title":"3.4 \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 \uad6c\ud604","text":"<pre><code>search_result = client.query_points(\n    collection_name=\"startups\",\n    query=models.FusionQuery(fusion=models.Fusion.RRF),\n    prefetch=[\n        models.Prefetch(\n            query=models.Document(text=q, model=dense_model),\n            using=dense_vec_name,\n        ),\n        models.Prefetch(\n            query=models.Document(text=q, model=sparse_model),\n            using=sparse_vec_name,\n        ),\n    ],\n    limit=5,\n).points\n</code></pre> <p>RRF(Reciprocal Rank Fusion) \ub610\ub294 DBSF(Distribution-Based Score Fusion)\ub85c \ub450 \uacb0\uacfc\ub97c \ud569\uce5c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#4-hnsw","title":"4. \uac80\uc0c9 \ud488\uc9c8 \uce21\uc815 \ubc0f HNSW \ud29c\ub2dd","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#41","title":"4.1 \ud3c9\uac00 \uc9c0\ud45c","text":"<ul> <li> <p>precision@k: \uc0c1\uc704 k\uac1c \uacb0\uacfc \uc911 \uc815\ub2f5 \ube44\uc728</p> </li> <li> <p>\uc804\uccb4 \ud30c\uc774\ud504\ub77c\uc778 \ud3c9\uac00\ub294 MRR, nDCG \ub4f1\uc744 \uc0ac\uc6a9 \uac00\ub2a5</p> </li> <li> <p>ANN \uc54c\uace0\ub9ac\uc998 \uc790\uccb4 \ud3c9\uac00\ub294 precision@k\uac00 \uc801\ud569\ud558\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#42-exact","title":"4.2 Exact \ubaa8\ub4dc\ub85c \uae30\uc900\uac12 \ud655\ubcf4","text":"<pre><code>ann_hits = client.query_points(..., limit=k).points\nknn_hits = client.query_points(\n    ..., limit=k,\n    search_params=models.SearchParams(exact=True)\n).points\nprecision = len({h.id for h in ann_hits} &amp; {h.id for h in knn_hits}) / k\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#43-hnsw","title":"4.3 HNSW \ud30c\ub77c\ubbf8\ud130 \uc870\uc815","text":"<p>\uae30\ubcf8\uac12 <code>m=16</code>, <code>ef_construct=100</code>\uc774\ub2e4. \ud488\uc9c8\uc744 \ub192\uc774\uace0\uc790 \ud55c\ub2e4\uba74:</p> <pre><code>client.update_collection(\n    \"arxiv-titles\",\n    hnsw_config=models.HnswConfigDiff(m=32, ef_construct=200),\n)\n</code></pre> <p>\uc778\ub371\uc2f1 \uc644\ub8cc \ud6c4 precision@k\ub97c \ub2e4\uc2dc \uacc4\uc0b0\ud558\uc5ec \ud5a5\uc0c1 \uc5ec\ubd80\ub97c \ud655\uc778\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#5","title":"5. \uc885\ud569 \ub124\ud2b8\uc6cc\ud0b9\u00b7\uc6b4\uc601 \ud301","text":"<ul> <li> <p>\ucee8\ud14c\uc774\ub108\u00b7\ud074\ub7ec\uc2a4\ud130 \ud658\uacbd\uc5d0\uc11c\ub294 \ud3ec\ud2b8 6333(HTTP), 6334(gRPC), 6335(\ud074\ub7ec\uc2a4\ud130 \ud1b5\uc2e0)\uc744 \ubaa8\ub450 \uc5f4\uc5b4\uc57c \ud55c\ub2e4.</p> </li> <li> <p>\ub2e4\uc911 \ub178\ub4dc\uc77c \uacbd\uc6b0 \uac01 \uc778\uc2a4\ud134\uc2a4\uac00 \ub3d9\uc77c \ud3ec\ud2b8\ub85c \uc0c1\ud638 \ud1b5\uc2e0 \uac00\ub2a5\ud574\uc57c \ud558\uba70, \ud074\ub77c\uc774\uc5b8\ud2b8\ub294 6333 \ub610\ub294 6334\uc5d0 \uc811\uadfc\ud558\uba74 \ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Semantic%20Search%20Tutorials/#6","title":"6. \uacb0\ub860 \ubc0f \ub2e4\uc74c \ub2e8\uacc4","text":"<ul> <li> <p>Sentence Transformers \ub610\ub294 FastEmbed\ub97c \ud1b5\ud574 Dense\u00b7Sparse\u2027Multivector \uc784\ubca0\ub529\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4.</p> </li> <li> <p>Qdrant\ub294 \uba54\ubaa8\ub9ac\u00b7\uc628\ub514\uc2a4\ud06c \uc800\uc7a5\uc18c, HNSW\u00b7Sparse \uc778\ub371\uc2a4\ub97c \uc870\ud569\ud558\uc5ec \uace0\uc131\ub2a5 \ubca1\ud130 \uac80\uc0c9\uc744 \uc81c\uacf5\ud55c\ub2e4.</p> </li> <li> <p>\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9\uc740 RRF\u00b7DBSF \ub4f1 \uc735\ud569 \uae30\ubc95\uc73c\ub85c \uc758\ubbf8\u00b7\ud0a4\uc6cc\ub4dc \uc591\ucabd\uc744 \ubaa8\ub450 \uc7a1\ub294\ub2e4.</p> </li> <li> <p>Exact \ubaa8\ub4dc\uc640 precision@k \uce21\uc815\uc744 \ud1b5\ud574 ANN \uac80\uc0c9 \ud488\uc9c8\uc744 \uc218\uce58\ud654\ud558\uace0, <code>m</code>\u00b7<code>ef_construct</code> \ud30c\ub77c\ubbf8\ud130\ub85c \uc815\ubc00\ud558\uac8c \uc870\uc815\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul> <p>\uc774\uc81c \uac04\ub2e8\ud55c \ub370\ubaa8\ubd80\ud130 \uc2e4\uc11c\ube44\uc2a4\uc6a9 \ub274\ub7f4\u00b7\ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9 API, \uadf8\ub9ac\uace0 \uc131\ub2a5 \ud3c9\uac00\u00b7\ud29c\ub2dd\uae4c\uc9c0 \uc77c\ub828\uc758 \ud750\ub984\uc744 \ubaa8\ub450 \uc775\ud614\ub2e4. \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\ucd94\uc5b4 \ub370\uc774\ud130 \uc804\ucc98\ub9ac, \ud544\ud130 \uc778\ub371\uc2a4, \uba40\ud2f0\ud14c\ub10c\uc2dc, \ubc30\uce58 \uc5c5\ub85c\ub4dc, \uc7ac\ub7ad\ud0b9 \ub4f1\uc744 \uc870\ud569\ud558\uba74 \ubcf4\ub2e4 \uacac\uace0\ud55c \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud560 \uc218 \uc788\uc744 \uac83\uc774\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/","title":"Similarity Search","text":"<p>Qdrant\uc5d0\uc11c\uc758 \uc720\uc0ac\ub3c4 \uac80\uc0c9(Similarity Search)\uc740 \ubca1\ud130 \uc720\uc0ac\ub3c4 \uae30\ubc18 \uac80\uc0c9\uc758 \ud575\uc2ec \uae30\ub2a5\uc774\ub2e4. </p> <p>\uc2e0\uacbd\ub9dd \uae30\ubc18 \uc784\ubca0\ub529 \ubaa8\ub378\uc774 \uc785\ub825 \ub370\uc774\ud130\ub97c \ubca1\ud130\ub85c \ubcc0\ud658\ud55c \ub4a4, \ud574\ub2f9 \ubca1\ud130 \uac04\uc758 \uc720\uc0ac\ub3c4\ub97c \ube44\uad50\ud558\uc5ec \uac00\uc7a5 \uac00\uae4c\uc6b4 \uac1d\uccb4\ub97c \ucc3e\uc544\ub0b8\ub2e4. </p> <p>Qdrant\ub294 \uc774 \uacfc\uc815\uc744 \uace0\uc18d\uc73c\ub85c \ucc98\ub9ac\ud558\uae30 \uc704\ud55c \ub2e4\uc591\ud55c API\uc640 \ucd5c\uc801\ud654 \uae30\ubc95\uc744 \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_1","title":"\uc720\uc0ac\ub3c4 \uac80\uc0c9\uc758 \uac1c\uc694","text":"<p>\ubca1\ud130 \uae30\ubc18 \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc740 k-\ucd5c\uadfc\uc811 \uc774\uc6c3(k-NN) \ubc29\uc2dd\uc5d0 \uae30\ubc18\ud558\uba70, \uc2e4\uc81c \uc720\uc0ac\ud55c \uac1d\uccb4(\ud14d\uc2a4\ud2b8, \uc774\ubbf8\uc9c0, \uc624\ub514\uc624 \ub4f1)\ub294 \ubca1\ud130 \uacf5\uac04\uc0c1\uc5d0\uc11c\ub3c4 \uc11c\ub85c \uac00\uae4c\uc6b4 \uc704\uce58\uc5d0 \uc788\uac8c \ub41c\ub2e4. Qdrant\ub294 \uc774\ub7ec\ud55c \uc720\uc0ac\ub3c4 \uae30\ubc18 \uac80\uc0c9\uc744 \ub2e8\uc77c API(Query API)\ub85c \ud1b5\ud569\ud558\uc5ec \uc81c\uacf5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#query-api","title":"Query API","text":"<p><code>/points/query</code> \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub294 Qdrant\uc5d0\uc11c \ub2e4\uc591\ud55c \uac80\uc0c9 \uae30\ub2a5\uc744 \uc218\ud589\ud558\ub294 \ud575\uc2ec \uc778\ud130\ud398\uc774\uc2a4\uc774\ub2e4. \uc8fc\uc694 \uc9c0\uc6d0 \uae30\ub2a5\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p> <ul> <li> <p>Nearest Neighbors Search: \uc77c\ubc18\uc801\uc778 \ubca1\ud130 \uc720\uc0ac\ub3c4 \uac80\uc0c9 (k-NN)</p> </li> <li> <p>Search by ID: \uae30\uc874\uc5d0 \uc800\uc7a5\ub41c \ud3ec\uc778\ud2b8\uc758 \ubca1\ud130\ub97c \uae30\uc900\uc73c\ub85c \uac80\uc0c9</p> </li> <li> <p>Recommendations: \uae0d\uc815/\ubd80\uc815 \uc608\uc2dc\ub97c \ud65c\uc6a9\ud55c \ucd94\ucc9c</p> </li> <li> <p>Discovery Search: \ucee8\ud14d\uc2a4\ud2b8 \uae30\ubc18 1\ud68c\uc131 \ud559\uc2b5 \uac80\uc0c9</p> </li> <li> <p>Scroll: \ubaa8\ub4e0 \ud3ec\uc778\ud2b8\ub97c \uc870\uac74 \uae30\ubc18\uc73c\ub85c \ud398\uc774\uc9d5 \uc870\ud68c</p> </li> <li> <p>Grouping: \ud2b9\uc815 \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uacb0\uacfc\ub97c \uadf8\ub8f9\ud654</p> </li> <li> <p>Hybrid Search: \ub2e4\uc591\ud55c \uac80\uc0c9 \uc870\uac74\uc744 \uacb0\ud569\ud55c \ud558\uc774\ube0c\ub9ac\ub4dc \uac80\uc0c9</p> </li> <li> <p>Random Sampling: \uc784\uc758 \uc0d8\ud50c\ub9c1</p> </li> <li> <p>Multi-Stage Search: \ub300\uaddc\ubaa8 \uc784\ubca0\ub529\uc744 \uc704\ud55c \uac80\uc0c9 \ucd5c\uc801\ud654</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_2","title":"\uae30\ubcf8 \uc720\uc0ac\ub3c4 \uac80\uc0c9","text":"<pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": [0.2, 0.1, 0.9, 0.7]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#id","title":"ID \uae30\ubc18 \uac80\uc0c9","text":"<pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": \"43cf51e2-8777-4f52-bc74-c2cbde0c8b04\"\n}\n</code></pre> <p>\ud574\ub2f9 ID\uc5d0 \uc800\uc7a5\ub41c \ubca1\ud130\ub97c \uae30\uc900\uc73c\ub85c \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc744 \uc218\ud589\ud55c\ub2e4. <code>using</code> \ud30c\ub77c\ubbf8\ud130\ub97c \uc9c0\uc815\ud558\uba74 Named Vector \uc0ac\uc6a9\uc774 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#metric","title":"\uac80\uc0c9 \uba54\ud2b8\ub9ad(Metric)","text":"<p>Qdrant\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc720\uc0ac\ub3c4 \uba54\ud2b8\ub9ad\uc744 \uc9c0\uc6d0\ud55c\ub2e4.</p> <ul> <li> <p>Dot Product</p> </li> <li> <p>Cosine Similarity (\uae30\ubcf8\uac12)</p> </li> <li> <p>Euclidean Distance</p> </li> <li> <p>Manhattan Distance (v1.7\ubd80\ud130 \uc9c0\uc6d0)</p> </li> </ul> <p>Cosine \uba54\ud2b8\ub9ad\uc740 \ubca1\ud130\ub97c \uc815\uaddc\ud654\ud55c \ud6c4 Dot Product \ubc29\uc2dd\uc73c\ub85c \uacc4\uc0b0\ub418\uba70, \uc774\ub294 SIMD \ucd5c\uc801\ud654\ub97c \ud1b5\ud574 \ube60\ub974\uac8c \uc218\ud589\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_3","title":"\ud544\ud130\ub9c1\uc744 \ud3ec\ud568\ud55c \uac80\uc0c9 \uc608\uc2dc","text":"<pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": [0.2, 0.1, 0.9, 0.79],\n  \"filter\": {\n    \"must\": [\n      { \"key\": \"city\", \"match\": { \"value\": \"London\" } }\n    ]\n  },\n  \"params\": {\n    \"hnsw_ef\": 128,\n    \"exact\": false\n  },\n  \"limit\": 3\n}\n</code></pre> <ul> <li> <p><code>limit</code>: \uacb0\uacfc \uc218 \uc81c\ud55c</p> </li> <li> <p><code>hnsw_ef</code>: HNSW \ud0d0\uc0c9 \uae4a\uc774</p> </li> <li> <p><code>exact</code>: true\ub85c \uc124\uc815 \uc2dc \uc804\uccb4 \uc2a4\uce94\uc744 \uc218\ud589\ud558\uc5ec \uc815\ud655\ud55c \uacb0\uacfc\ub97c \ubc18\ud658</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#named-vector","title":"Named Vector \uac80\uc0c9","text":"<pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": [0.2, 0.1, 0.9, 0.7],\n  \"using\": \"image\",\n  \"limit\": 3\n}\n</code></pre> <p>\uc5ec\ub7ec \uac1c\uc758 Named Vector\uac00 \uc874\uc7ac\ud560 \uacbd\uc6b0 <code>using</code>\uc73c\ub85c \uba85\uc2dc\uc801\uc73c\ub85c \uc9c0\uc815\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#sparse-vector","title":"Sparse Vector \uac80\uc0c9","text":"<pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": {\n    \"indices\": [1, 3, 5, 7],\n    \"values\": [0.1, 0.2, 0.3, 0.4]\n  },\n  \"using\": \"text\"\n}\n</code></pre> <p>\ud76c\uc18c \ubca1\ud130 \uac80\uc0c9\uc740 \ud56d\uc0c1 \uc815\ud655\ud55c \ub9e4\uce6d\uc744 \uc218\ud589\ud558\uba70, Dot Product\ub9cc\uc744 \uc0ac\uc6a9\ud55c\ub2e4. \uc720\uc0ac\ub3c4 \uacc4\uc0b0 \uc18d\ub3c4\ub294 \ucffc\ub9ac \ubca1\ud130\uc758 \ube44\uc81c\ub85c \uac12 \uac1c\uc218\uc5d0 \ube44\ub840\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_4","title":"\uc720\uc0ac\ub3c4 \uc810\uc218 \ud544\ud130\ub9c1","text":"<pre><code>{\n  \"score_threshold\": 0.75\n}\n</code></pre> <p>\uac80\uc0c9 \uacb0\uacfc\uc5d0\uc11c \uc720\uc0ac\ub3c4 \uc810\uc218\uac00 \uae30\uc900 \uc774\ud558\uc778 \uacb0\uacfc\ub294 \uc81c\uc678\ub41c\ub2e4. \uba54\ud2b8\ub9ad\uc5d0 \ub530\ub77c \uc758\ubbf8\ub294 \ub2ec\ub77c\uc9c0\uba70, \uc608\ub97c \ub4e4\uc5b4 \uc720\ud074\ub9ac\ub4dc \uac70\ub9ac\uc758 \uacbd\uc6b0 \uac12\uc774 \ud074\uc218\ub85d \uba40\ub2e4\uace0 \ud310\ub2e8\ud558\uc5ec \uc81c\uac70\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_5","title":"\ubca1\ud130 \ubc0f \ud398\uc774\ub85c\ub4dc \ubc18\ud658","text":"<p>\uae30\ubcf8\uc801\uc73c\ub85c \uac80\uc0c9 \uacb0\uacfc\ub294 ID\uc640 \uc810\uc218\ub9cc\uc744 \ubc18\ud658\ud55c\ub2e4. \ubca1\ud130 \ubc0f \ud398\uc774\ub85c\ub4dc\ub3c4 \ud568\uaed8 \uac00\uc838\uc624\ub824\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uc124\uc815\ud55c\ub2e4.</p> <pre><code>{\n  \"with_vectors\": true,\n  \"with_payload\": true\n}\n</code></pre> <p>\ud2b9\uc815 \ud398\uc774\ub85c\ub4dc\ub9cc \ud3ec\ud568\ud558\uac70\ub098 \uc81c\uc678\ud560 \uc218\ub3c4 \uc788\ub2e4.</p> <pre><code>\"with_payload\": [\"city\", \"town\"]\n</code></pre> <p>\ub610\ub294</p> <pre><code>\"with_payload\": {\n  \"exclude\": [\"city\"]\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_6","title":"\ubc30\uce58 \uac80\uc0c9","text":"<p>\ub2e4\uc218\uc758 \uac80\uc0c9 \ucffc\ub9ac\ub97c \ud55c \ubc88\uc5d0 \uc218\ud589\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/query/batch\n{\n  \"searches\": [\n    { \"query\": [...], \"filter\": {...}, \"limit\": 3 },\n    { \"query\": [...], \"filter\": {...}, \"limit\": 3 }\n  ]\n}\n</code></pre> <p>\ud544\ud130\uac00 \ub3d9\uc77c\ud55c \uacbd\uc6b0 \ub0b4\ubd80\uc801\uc73c\ub85c \uacf5\uc720 \ucd5c\uc801\ud654\ub97c \ud1b5\ud574 \ucc98\ub9ac \uc18d\ub3c4\ub97c \ud5a5\uc0c1\uc2dc\ud0ac \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_7","title":"\uac80\uc0c9 \uacb0\uacfc \ud398\uc774\uc9c0\ub124\uc774\uc158","text":"<pre><code>{\n  \"limit\": 10,\n  \"offset\": 100\n}\n</code></pre> <p>\ud574\ub2f9 \uc124\uc815\uc740 11\ud398\uc774\uc9c0(101\ubc88\uc9f8)\ubd80\ud130 10\uac1c \uacb0\uacfc\ub97c \ubc18\ud658\ud55c\ub2e4. \ub2e4\ub9cc HNSW \uae30\ubc18 \uac80\uc0c9\uc758 \ud2b9\uc131\uc0c1 \ud070 offset\uc740 \uc131\ub2a5 \uc800\ud558\ub97c \ucd08\ub798\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_8","title":"\uadf8\ub8f9 \uae30\ubc18 \uac80\uc0c9","text":"<p><code>document_id</code> \ub4f1 \ud2b9\uc815 \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uacb0\uacfc\ub97c \uadf8\ub8f9\ud654\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/query/groups\n{\n  \"query\": [1.1],\n  \"group_by\": \"document_id\",\n  \"limit\": 4,\n  \"group_size\": 2\n}\n</code></pre> <ul> <li> <p><code>limit</code>: \ucd5c\ub300 \uadf8\ub8f9 \uc218</p> </li> <li> <p><code>group_size</code>: \uac01 \uadf8\ub8f9 \ub0b4 \ud3ec\uc778\ud2b8 \uc218</p> </li> </ul> <p>\ubc30\uc5f4 \ud544\ub4dc\ub97c \uae30\uc900\uc73c\ub85c \uadf8\ub8f9\ud654\ud560 \uacbd\uc6b0, \ud574\ub2f9 \ud3ec\uc778\ud2b8\ub294 \uc5ec\ub7ec \uadf8\ub8f9\uc5d0 \uc911\ubcf5 \ud3ec\ud568\ub420 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_9","title":"\uadf8\ub8f9\ud654 + \ub8e9\uc5c5","text":"<p>\uc911\ubcf5 \ud398\uc774\ub85c\ub4dc\ub97c \uc904\uc774\uae30 \uc704\ud574, \ubb38\uc11c \uc218\uc900 \uba54\ud0c0\ub370\uc774\ud130\ub97c \ubcc4\ub3c4 \uceec\ub809\uc158\uc5d0 \uc800\uc7a5\ud558\uace0 \uadf8\ub8f9\ubcc4\ub85c <code>lookup</code>\uc744 \ud1b5\ud574 \ucc38\uc870\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>\"with_lookup\": {\n  \"collection\": \"documents\",\n  \"with_payload\": [\"title\", \"text\"],\n  \"with_vectors\": false\n}\n</code></pre> <p>\uacb0\uacfc\ub294 \uadf8\ub8f9 \ub0b4\ubd80\uc5d0 <code>lookup</code> \ud544\ub4dc\ub85c \ud3ec\ud568\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_10","title":"\ub79c\ub364 \uc0d8\ud50c\ub9c1","text":"<p>v1.11.0\ubd80\ud130\ub294 \ubb34\uc791\uc704 \ud3ec\uc778\ud2b8 \uc0d8\ud50c\ub9c1\uc774 \uac00\ub2a5\ud558\ub2e4.</p> <pre><code>POST /collections/{collection_name}/points/query\n{\n  \"query\": { \"sample\": \"random\" }\n}\n</code></pre> <p>\ub514\ubc84\uae45, \ud14c\uc2a4\ud2b8, \ud0d0\uc0c9 \ucd08\uae30\ud654 \ub4f1\uc5d0 \uc720\uc6a9\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#query-planning","title":"\ucffc\ub9ac \uacc4\ud68d(Query Planning)","text":"<p>Qdrant\ub294 \uac80\uc0c9 \uc2dc \ucffc\ub9ac \uc870\uac74\uacfc \uc778\ub371\uc2a4 \uc0c1\ud0dc\uc5d0 \ub530\ub77c \uc790\ub3d9\uc73c\ub85c \uc2e4\ud589 \uc804\ub7b5\uc744 \uacb0\uc815\ud55c\ub2e4. \uc774 \uacfc\uc815\uc740 Query Planner\uc5d0 \uc758\ud574 \uc218\ud589\ub41c\ub2e4. \uc8fc\uc694 \uc6d0\uce59\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.</p> <ul> <li> <p>\uc138\uadf8\uba3c\ud2b8(segment) \ub2e8\uc704\ub85c \ub3c5\ub9bd\uc801\uc73c\ub85c \uacc4\ud68d \uc218\ub9bd</p> </li> <li> <p>\ud3ec\uc778\ud2b8 \uc218\uac00 \uc801\uc73c\uba74 \uc804\uccb4 \uc2a4\uce94 \uc0ac\uc6a9</p> </li> <li> <p>\ud544\ud130 \uc870\uac74\uc758 cardinality(\uacb0\uacfc \uc218 \uc608\uce21\uac12)\uc5d0 \ub530\ub77c \uc801\uc808\ud55c \uc778\ub371\uc2a4 \uc120\ud0dd</p> </li> <li> <p>\uac00\ub2a5\ud55c \uacbd\uc6b0 Payload Index \uc6b0\uc120 \uc0ac\uc6a9</p> </li> </ul> <p>\uc774 \uc804\ub7b5\uc740 \uc124\uc815 \ud30c\uc77c\uc744 \ud1b5\ud574 \uc870\uc815 \uac00\ub2a5\ud558\uba70, \uceec\ub809\uc158\ubcc4\ub85c \uac1c\ubcc4 \uc124\uc815\ub3c4 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Similarity%20Search/#_11","title":"\uacb0\ub860","text":"<p>Qdrant\uc758 Similarity Search\ub294 \ub2e8\uc21c\ud55c k-NN \uac80\uc0c9\uc744 \ub118\uc5b4\uc11c, \ud544\ud130\ub9c1, \uc815\ub82c, \uadf8\ub8f9\ud654, \ubc30\uce58 \ucc98\ub9ac \ub4f1 \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \ud3ec\ud568\ud558\uace0 \uc788\ub2e4. </p> <p>\uc815\ud655\uc131\uacfc \uc18d\ub3c4 \uac04\uc758 \uade0\ud615\uc744 \uace0\ub824\ud558\uc5ec \ud544\uc694\ud55c \uac80\uc0c9 \uae30\ub2a5\uc744 \uc870\ud569\ud560 \uc218 \uc788\uc73c\uba70, \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uc124\uacc4\ud560 \ub54c Qdrant\uc758 Query API\ub294 \ub9e4\uc6b0 \uac15\ub825\ud55c \ub3c4\uad6c\uac00 \ub420 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/","title":"Static Embedding \ub2e4\uc2dc \uc8fc\ubaa9\ud574\uc57c \ud560\uae4c","text":"<p>\ucd5c\uadfc \uc790\uc6d0-\uc81c\uc57d \ud658\uacbd\uc5d0\uc11c \uc815\uc801 \uc784\ubca0\ub529(static embedding)\uc774 \uc7ac\uc870\uba85\ub418\uace0 \uc788\ub2e4. \ud2b8\ub79c\uc2a4\ud3ec\uba38 \uacc4\uc5f4 \ubaa8\ub378\uc774 \uc131\ub2a5 \uba74\uc5d0\uc11c \uc6b0\uc704\ub97c \uc810\ud558\uace0 \uc788\uc74c\uc5d0\ub3c4, \uc815\uc801 \uc784\ubca0\ub529\uc740 \uc18d\ub3c4\u00b7\uba54\ubaa8\ub9ac \uc774\uc810\uc744 \uc55e\uc138\uc6cc \uc801\uc9c0 \uc54a\uc740 \ud488\uc9c8 \uc190\uc2e4\ub9cc\uc73c\ub85c\ub3c4 \ucda9\ubd84\ud788 \uc2e4\uc6a9\uc801\uc784\uc744 \ubcf4\uc5ec \uc8fc\uace0 \uc788\ub2e4. Qdrant \uad00\uc810\uc5d0\uc11c \uadf8 \ud65c\uc6a9 \uac00\ub2a5\uc131\uacfc \uc2e4\ud5d8 \uacb0\uacfc\ub97c \uc815\ub9ac\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#1","title":"1. \uc815\uc801 \uc784\ubca0\ub529\uacfc \ud2b8\ub79c\uc2a4\ud3ec\uba38 \uc784\ubca0\ub529\uc758 \ucc28\uc774","text":"\uad6c\ubd84 \ud2b8\ub79c\uc2a4\ud3ec\uba38 \uae30\ubc18 \uc784\ubca0\ub529 \uc815\uc801 \uc784\ubca0\ub529 \ubca1\ud130 \uc0dd\uc131 \ubc29\uc2dd \uc785\ub825 \ubb38\uc7a5 \uc804\uccb4\ub97c \uc778\ucf54\ub529\ud574 \ubb38\ub9e5 \uae30\ubc18 \ubca1\ud130 \uc0b0\ucd9c \uac01 \ud1a0\ud070(\ub610\ub294 \ub2e8\uc5b4)\uc744 \uace0\uc815 \ubca1\ud130\ub85c \ub9e4\ud551, \ubb38\uc7a5 \ubca1\ud130\ub294 \uac04\ub2e8\ud55c \uacb0\ud569(\ud3c9\uade0 \ub4f1) \uc7a5\uc810 \ub3d9\uc74c\uc774\uc758\uc5b4\ub97c \ub9e5\ub77d\uc5d0 \ub530\ub77c \uad6c\ubd84\ucd5c\uace0 \uc218\uc900 \uac80\uc0c9 \uc131\ub2a5 \ubaa8\ub378 \ud30c\ub77c\ubbf8\ud130 \uc218\u00b7\uba54\ubaa8\ub9ac\u00b7\uc5f0\uc0b0\ub7c9\uc774 \uc791\uc74cCPU \ud658\uacbd\uc5d0\uc11c\ub3c4 \uace0\uc18d \ub2e8\uc810 \ucd94\ub860 \uc2dc\uc5d0\ub3c4 GPU \uc758\uc874\uc774 \ub192\uace0 \ube44\uc6a9 \ubd80\ub2f4 \ubb38\ub9e5 \uc815\ubcf4\uac00 \uc81c\ud55c\uc801 \u2192 \ud488\uc9c8 \uc5f4\uc138"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#2","title":"2. \uc815\uc801 \uc784\ubca0\ub529\uc758 \ubd80\ud65c \ubc30\uacbd","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#21-model2vec-2024-10","title":"2.1 model2vec: 2024\ub144 10\uc6d4 \ubc1c\ud45c","text":"<ul> <li> <p>MinishLab\uc758 model2vec \uae30\ubc95</p> <ul> <li> <p>\ud2b8\ub79c\uc2a4\ud3ec\uba38 Sentence-T5\ub97c distillation\ud558\uc5ec \ubaa8\ub378 \ud06c\uae30 1/15, \ucd94\ub860 \uc18d\ub3c4 \ucd5c\ub300 500\ubc30 \ub2ec\uc131</p> </li> <li> <p>MTEB \ubca4\uce58\ub9c8\ud06c\uc5d0\uc11c \uc0c1\uc704 80% \uc774\uc0c1\uc758 \uc131\ub2a5 \uc720\uc9c0</p> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#22-hugging-face","title":"2.2 Hugging Face\uc758 \uacf5\uac1c \ud30c\uc774\ud504\ub77c\uc778","text":"<ul> <li> <p>Tom Aarsen (HF \ube14\ub85c\uadf8, 2024-12)</p> <ul> <li> <p>Sentence Transformers\ub85c \uc0ac\uc6a9\uc790 \ub9de\ucda4\ud615 \uc815\uc801 \ubaa8\ub378\uc744 \uc190\uc27d\uac8c \ud559\uc2b5</p> </li> <li> <p>\uc608\uc2dc \ubaa8\ub378 <code>static-retrieval-mrl-en-v1</code>:</p> <ul> <li> <p>1,024\ucc28\uc6d0, Matryoshka Representation Learning(MRL) \uc801\uc6a9</p> </li> <li> <p>SOTA \ub300\ube44 \uc57d 85% \uc131\ub2a5\uc5d0 \uc218\ubc31 \ubc30 \ube60\ub978 \uc778\ucf54\ub529</p> </li> </ul> </li> </ul> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#3-qdrant","title":"3. Qdrant\uc5d0\uc11c\uc758 \ud65c\uc6a9","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#31","title":"3.1 \ubca1\ud130 \uc800\uc7a5\u00b7\uac80\uc0c9","text":"<pre><code>from sentence_transformers import SentenceTransformer\nfrom qdrant_client import QdrantClient, models\nimport uuid\n\nmodel  = SentenceTransformer(\"sentence-transformers/static-retrieval-mrl-en-v1\")\nclient = QdrantClient(\"http://localhost:6333\")\n\nclient.create_collection(\n    \"my_collection\",\n    vectors_config=models.VectorParams(size=1024, distance=models.Distance.COSINE),\n)\n\nclient.upsert(\n    \"my_collection\",\n    points=[\n        models.PointStruct(\n            id=uuid.uuid4().hex,\n            vector=model.encode(\"Hello, world!\"),\n            payload={\"text\": \"Hello, world!\"}\n        )\n    ],\n)\n</code></pre> <ul> <li> <p>\uac80\uc0c9 \uc18d\ub3c4 \uc790\uccb4\ub294 \ubca1\ud130 \ucc28\uc6d0 \uc218\u00b7\uc778\ub371\uc2a4 \uad6c\uc870\uc5d0 \uc88c\uc6b0\ub418\uba70 \ud2b8\ub79c\uc2a4\ud3ec\uba38\uc640 \ub3d9\uc77c</p> </li> <li> <p>\uc778\ucf54\ub529 \uc18d\ub3c4\ub294 CPU \ud658\uacbd \uae30\uc900 \ucd5c\ub300 \uc218\ubc31 \ubc30 \ud5a5\uc0c1 \u2192 \ub300\uaddc\ubaa8 \ub370\uc774\ud130\uc14b \uc804\ucc98\ub9ac \uc2dc\uac04\u00b7\ube44\uc6a9 \uc808\uac10</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#32-quantization","title":"3.2 \uc591\uc790\ud654(Quantization) \uc2e4\ud5d8","text":"BeIR \uc11c\ube0c\uc14b \uc6d0\ubcf8 \ubca1\ud130 \ubc14\uc774\ub108\ub9ac \uc591\uc790\ud654 \ud6c4 SciFact 0.5935 0.5420 TREC-COVID 0.4428 0.4419 ArguAna 0.4439 0.4216 NFCorpus 0.3004 0.2803 <ul> <li> <p>Binary Quantization \uc801\uc6a9 \uc2dc \uba54\ubaa8\ub9ac\u00b7\uc18d\ub3c4 \uc774\uc810 \ud655\ubcf4</p> </li> <li> <p>\uc77c\ubd80 \ub370\uc774\ud130\uc14b\uc740 \ud488\uc9c8 \uac10\uc18c\uac00 \ubbf8\ubbf8\ud568 \u2192 \uc0ac\uc6a9 \ud658\uacbd\uc5d0 \ub530\ub77c \ucda9\ubd84\ud788 \uc2e4\uc6a9\uc801</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#4","title":"4. \ub3c4\uc785\uc744 \uace0\ub824\ud560 \ub9cc\ud55c \uc0ac\ub840","text":"\uc2dc\ub098\ub9ac\uc624 \uae30\ub300 \ud6a8\uacfc \ubaa8\ubc14\uc77c\u00b7\uc624\ud504\ub77c\uc778 \uc571 \uc791\uc740 \ubaa8\ub378\u00b7\ub0ae\uc740 \uc804\ub825 \uc18c\ubaa8\ub85c \uc628-\ub514\ubc14\uc774\uc2a4 \uc784\ubca0\ub529 \uac00\ub2a5 \ube0c\ub77c\uc6b0\uc800 \ud655\uc7a5(\uc6f9-GPU \ubd88\uac00 \ud658\uacbd) JS/\uc6f9\uc5b4\uc148\ube14\ub9ac\ub85c\ub3c4 \uc2e4\uc2dc\uac04 \uc784\ubca0\ub529 \uc218\ud589 \uc784\ubca0\ub514\ub4dc\u00b7IoT \ud55c\uc815\ub41c CPU\u00b7RAM\uc5d0\uc11c \uc720\uc0ac \ubb38\uc11c \uac80\uc0c9 \uc81c\uacf5 \ub300\uaddc\ubaa8 \ubc30\uce58 \uc804\ucc98\ub9ac \ubca1\ud130 \uc0dd\uc131 \ubcd1\ubaa9 \uc644\ud654, \uc778\ucf54\ub529 \ube44\uc6a9 \ub300\ud3ed \uc808\uac10"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#5","title":"5. \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5\uacfc \ud559\uc2b5","text":"<ul> <li> <p>Sentence Transformers \uc815\uc801 \ud559\uc2b5 \ud30c\uc774\ud504\ub77c\uc778</p> <ul> <li> <p>\ub300\ub7c9\uc758 \ub3c4\uba54\uc778 \ucf54\ud37c\uc2a4\uc640 \uad50\ucc28 \uc5d4\ucf54\ub354 \uc0dd\uc131 \ub77c\ubca8\ub85c \ud540\ud29c\ub2dd \uac00\ub2a5</p> </li> <li> <p>\ud559\uc2b5 \uc2dc\uac04\u00b7\uc790\uc6d0 \uc694\uad6c\uac00 \uc18c\ud615 \ud2b8\ub79c\uc2a4\ud3ec\uba38\ubcf4\ub2e4 \uc791\uc74c \u2192 \uc8fc\uae30\uc801 \uc7ac\ud559\uc2b5 \uc6a9\uc774</p> </li> </ul> </li> <li> <p>Matryoshka Embedding \uc801\uc6a9 \uc2dc, \ubca1\ud130 \ucc28\uc6d0 \ucd95\uc18c(1024 \u2192 256 \ub4f1) \ud6c4\uc5d0\ub3c4 \ud488\uc9c8 \uc720\uc9c0</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Static%20Embedding%20%EB%8B%A4%EC%8B%9C%20%EC%A3%BC%EB%AA%A9%ED%95%B4%EC%95%BC%20%ED%95%A0%EA%B9%8C/#6","title":"6. \uacb0\ub860","text":"<p>\uc815\uc801 \uc784\ubca0\ub529\uc740</p> <ul> <li> <p>\ud658\uacbd \uc81c\uc57d\uc774 \ud06c\uac70\ub098 GPU \ube44\uc6a9\uc744 \ucd5c\uc18c\ud654\ud574\uc57c \ud558\ub294 \uc0c1\ud669\uc5d0\uc11c \ud2b9\ud788 \uc720\uc6a9\ud558\ub2e4.</p> </li> <li> <p>\ucd5c\uc2e0 \uae30\ubc95(model2vec, MRL \ub4f1)\uc774 \uc801\uc6a9\ub418\uba74 \ud488\uc9c8 \uc190\uc2e4 \u2264 15% \uc218\uc900\uc73c\ub85c \uc218-\ubc31 \ubc30 \ube60\ub978 \uc778\ucf54\ub529\uc744 \uc2e4\ud604\ud55c\ub2e4.</p> </li> <li> <p>Qdrant\ub294 \ubcc4\ub3c4 \uc124\uc815 \uc5c6\uc774 \uc815\uc801 \ubca1\ud130\ub97c \uc800\uc7a5\u00b7\uac80\uc0c9\ud560 \uc218 \uc788\uc73c\uba70, \uc591\uc790\ud654\u00b7MRL\uc744 \ud1b5\ud574 \ucd94\uac00 \ucd5c\uc801\ud654\uac00 \uac00\ub2a5\ud558\ub2e4.</p> </li> </ul> <p>\ub530\ub77c\uc11c \u201c\uc18d\ub3c4\u00b7\uacbd\ub7c9\ud654 &gt; \ucd5c\uace0 \uc131\ub2a5\u201d \uc778 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 \uc815\uc801 \uc784\ubca0\ub529\uc744 \uc801\uadf9 \uac80\ud1a0\ud560 \uac00\uce58\uac00 \ucda9\ubd84\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/","title":"Storage","text":"<p>Qdrant\ub294 \uace0\uc131\ub2a5 \ubca1\ud130 \uac80\uc0c9\uc744 \uc9c0\uc6d0\ud558\uae30 \uc704\ud574 \uc138\uadf8\uba3c\ud2b8(segment) \uae30\ubc18\uc758 \uc800\uc7a5 \uad6c\uc870\ub97c \ucc44\ud0dd\ud558\uace0 \uc788\ub2e4. </p> <p>\uac01 \uc138\uadf8\uba3c\ud2b8\ub294 \ub3c5\ub9bd\uc801\uc778 \ubca1\ud130\uc640 \ud398\uc774\ub85c\ub4dc \uc800\uc7a5\uc18c, \uc778\ub371\uc2a4\ub97c \ubcf4\uc720\ud558\uba70, \uc774\ub97c \ud1b5\ud574 \uc77d\uae30/\uc4f0\uae30 \uc131\ub2a5\uacfc \ud655\uc7a5\uc131\uc744 \ub3d9\uc2dc\uc5d0 \ud655\ubcf4\ud55c\ub2e4. </p> <p>\uc774 \uae00\uc5d0\uc11c\ub294 Qdrant\uc758 \ubca1\ud130 \ubc0f \ud398\uc774\ub85c\ub4dc \uc800\uc7a5 \ubc29\uc2dd, \uba54\ubaa8\ub9ac/\ub514\uc2a4\ud06c \uc124\uc815, \uadf8\ub9ac\uace0 \ubc84\uc804 \uad00\ub9ac \ubc29\uc2dd\uc5d0 \ub300\ud574 \uc815\ub9ac\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#1-segment","title":"1. \uc138\uadf8\uba3c\ud2b8(Segment) \uad6c\uc870","text":"<p>Qdrant\uc5d0\uc11c \ud558\ub098\uc758 \uceec\ub809\uc158\uc740 \uc5ec\ub7ec \uac1c\uc758 \uc138\uadf8\uba3c\ud2b8\ub85c \uad6c\uc131\ub41c\ub2e4. \uac01 \uc138\uadf8\uba3c\ud2b8\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uad6c\uc131 \uc694\uc18c\ub97c \ud3ec\ud568\ud55c\ub2e4.</p> <ul> <li> <p>\ubca1\ud130 \uc800\uc7a5\uc18c</p> </li> <li> <p>\ud398\uc774\ub85c\ub4dc \uc800\uc7a5\uc18c</p> </li> <li> <p>\ubca1\ud130 \ubc0f \ud398\uc774\ub85c\ub4dc \uc778\ub371\uc2a4</p> </li> <li> <p>ID \ub9e4\ud37c (\ub0b4\ubd80 ID\uc640 \uc678\ubd80 ID \uac04\uc758 \ub9e4\ud551)</p> </li> </ul> <p>\uc138\uadf8\uba3c\ud2b8\ub294 appendable \ub610\ub294 non-appendable\ub85c \ub098\ub25c\ub2e4.</p> \uc138\uadf8\uba3c\ud2b8 \uc720\ud615 \uc124\uba85 appendable \ub370\uc774\ud130 \ucd94\uac00, \uc218\uc815, \uc0ad\uc81c \uac00\ub2a5 non-appendable \uc77d\uae30\uc640 \uc0ad\uc81c\ub9cc \uac00\ub2a5 (\ubcf4\ud1b5 \uc555\ucd95/\ucd5c\uc801\ud654\ub41c \uc0c1\ud0dc) <p>\ud558\ub098\uc758 \uceec\ub809\uc158\uc5d0\ub294 \ubc18\ub4dc\uc2dc \ucd5c\uc18c \ud558\ub098 \uc774\uc0c1\uc758 <code>appendable</code> \uc138\uadf8\uba3c\ud2b8\uac00 \uc874\uc7ac\ud574\uc57c \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#2-vector-storage","title":"2. \ubca1\ud130 \uc800\uc7a5 \ubc29\uc2dd (Vector Storage)","text":"<p>Qdrant\ub294 \ubca1\ud130\ub97c \uc800\uc7a5\ud560 \ub54c \ub2e4\uc74c \ub450 \uac00\uc9c0 \ubc29\uc2dd \uc911 \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#21-in-memory","title":"2.1 In-Memory \uc800\uc7a5\uc18c","text":"<ul> <li> <p>\ubaa8\ub4e0 \ubca1\ud130\ub97c RAM\uc5d0 \uc0c1\uc8fc\uc2dc\ucf1c \uac00\uc7a5 \ube60\ub978 \uac80\uc0c9 \uc18d\ub3c4\ub97c \uc81c\uacf5\ud55c\ub2e4.</p> </li> <li> <p>\ub514\uc2a4\ud06c\ub294 persistence \uc6a9\ub3c4\ub85c\ub9cc \uc0ac\uc6a9\ub41c\ub2e4.</p> </li> <li> <p>\uba54\ubaa8\ub9ac\uac00 \ucda9\ubd84\ud55c \ud658\uacbd\uc5d0\uc11c \uad8c\uc7a5\ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#22-memmap","title":"2.2 Memmap \uc800\uc7a5\uc18c","text":"<ul> <li> <p>\ub514\uc2a4\ud06c\uc5d0 \uc800\uc7a5\ub41c \ud30c\uc77c\uc744 \uac00\uc0c1 \uba54\ubaa8\ub9ac\ucc98\ub7fc \uc811\uadfc\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4.</p> </li> <li> <p>OS\uc758 \ud398\uc774\uc9c0 \uce90\uc2dc\ub97c \ud65c\uc6a9\ud558\uc5ec \uc131\ub2a5 \uc800\ud558 \uc5c6\uc774 \ub300\uc6a9\ub7c9 \ub370\uc774\ud130 \ucc98\ub9ac\uac00 \uac00\ub2a5\ud558\ub2e4.</p> </li> <li> <p>RAM\uc774 \uc81c\ud55c\uc801\uc778 \ud658\uacbd\uc5d0\uc11c\ub3c4 \ub300\uaddc\ubaa8 \ub370\uc774\ud130\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uac80\uc0c9\ud560 \uc218 \uc788\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#3-memmap","title":"3. Memmap \uc124\uc815 \ubc29\ubc95","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#31","title":"3.1 \uceec\ub809\uc158 \uc0dd\uc131 \uc2dc \uc9c1\uc811 \uc124\uc815","text":"<pre><code>PUT /collections/{collection_name}\n{\n  \"vectors\": {\n    \"size\": 768,\n    \"distance\": \"Cosine\",\n    \"on_disk\": true\n  }\n}\n</code></pre> <p>\uc704 \uc124\uc815\uc740 \ubca1\ud130 \ub370\uc774\ud130\ub97c \uace7\ubc14\ub85c \ub514\uc2a4\ud06c \uae30\ubc18(memmap)\uc73c\ub85c \uc800\uc7a5\ud558\ub3c4\ub85d \ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#32-optimizer","title":"3.2 Optimizer \uae30\ubc18 \ub3d9\uc801 \uc804\ud658","text":"<p>memmap_threshold \uac12\uc744 \uc124\uc815\ud558\uba74 \uc77c\uc815 \ud06c\uae30 \uc774\uc0c1 \uc138\uadf8\uba3c\ud2b8\uac00 \uc790\ub3d9\uc73c\ub85c memmap\uc73c\ub85c \uc804\ud658\ub41c\ub2e4.</p> <pre><code>PUT /collections/{collection_name}\n{\n  \"vectors\": {\n    \"size\": 768,\n    \"distance\": \"Cosine\"\n  },\n  \"optimizers_config\": {\n    \"memmap_threshold\": 20000\n  }\n}\n</code></pre> <ul> <li> <p>RAM\uc774 \uc801\uac70\ub098 \uc4f0\uae30 \ube48\ub3c4\uac00 \ub192\uc740 \ud658\uacbd: <code>memmap_threshold</code> &lt; <code>indexing_threshold</code></p> </li> <li> <p>\uc77c\ubc18\uc801\uc778 \ud658\uacbd: <code>memmap_threshold</code> = <code>indexing_threshold</code></p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#33-hnsw-on-disk","title":"3.3 HNSW \uc778\ub371\uc2a4 on-disk \uc124\uc815","text":"<p>HNSW \uc778\ub371\uc2a4\ub3c4 memmap\uc73c\ub85c \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>PUT /collections/{collection_name}\n{\n  \"vectors\": {\n    \"size\": 768,\n    \"distance\": \"Cosine\",\n    \"on_disk\": true\n  },\n  \"hnsw_config\": {\n    \"on_disk\": true\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#4-payload-storage","title":"4. \ud398\uc774\ub85c\ub4dc \uc800\uc7a5 \ubc29\uc2dd (Payload Storage)","text":"<p>Qdrant\ub294 \ud398\uc774\ub85c\ub4dc \ub370\uc774\ud130\uc758 \uc800\uc7a5\uc18c\ub3c4 \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4.</p> \uc800\uc7a5 \ubc29\uc2dd \uc124\uba85 InMemory \uc11c\ube44\uc2a4 \uc2dc\uc791 \uc2dc \ubaa8\ub4e0 \ud398\uc774\ub85c\ub4dc\ub97c RAM\uc5d0 \uc801\uc7ac OnDisk RocksDB\uc5d0 \uc9c1\uc811 \uc800\uc7a5, RAM \uc0ac\uc6a9\ub7c9 \ucd5c\uc18c\ud654 <ul> <li> <p>InMemory\ub294 \ube60\ub978 \uac80\uc0c9\uc774 \uac00\ub2a5\ud558\uc9c0\ub9cc, \ub300\uc6a9\ub7c9 \ud14d\uc2a4\ud2b8\ub098 \uc774\ubbf8\uc9c0 \ub4f1 \uba54\ubaa8\ub9ac \uc18c\ubaa8\uac00 \ud06c\ub2e4.</p> </li> <li> <p>OnDisk\ub294 RAM\uc744 \uc808\uc57d\ud560 \uc218 \uc788\uc9c0\ub9cc, \ud544\ud130 \uc870\uac74\uc5d0 \ub530\ub77c \uac80\uc0c9 \uc18d\ub3c4\uac00 \ub290\ub824\uc9c8 \uc218 \uc788\ub2e4.</p> </li> </ul> <p>\ud544\ud130\ub9c1 \uc131\ub2a5\uc744 \uc720\uc9c0\ud558\ub824\uba74, \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \ud544\ub4dc\uc5d0 \ub300\ud574 payload index\ub97c \uc124\uc815\ud558\ub294 \uac83\uc774 \uad8c\uc7a5\ub41c\ub2e4. \uc778\ub371\uc2a4\ub97c \uc124\uc815\ud558\uba74 \ud574\ub2f9 \ud544\ub4dc\ub294 RAM\uc5d0 \uc720\uc9c0\ub418\ubbc0\ub85c OnDisk\uc758 \ub2e8\uc810\uc774 \uc644\ud654\ub41c\ub2e4.</p> <p>\uceec\ub809\uc158 \uc0dd\uc131 \uc2dc OnDisk payload \uc124\uc815 \uc608\uc2dc</p> <pre><code>PUT /collections/{collection_name}\n{\n  \"on_disk_payload\": true\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#5-versioning","title":"5. \ubc84\uc804 \uad00\ub9ac (Versioning)","text":"<p>Qdrant\ub294 \ubaa8\ub4e0 \ub370\uc774\ud130 \ubcc0\uacbd\uc744 \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud558\uae30 \uc704\ud574 2\ub2e8\uacc4 \uc800\uc7a5 \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud55c\ub2e4.</p> <ol> <li> <p>Write-Ahead Log (WAL)\uc5d0 \uba3c\uc800 \uae30\ub85d\ud558\uace0, \uc21c\ucc28 \ubc88\ud638(version)\ub97c \ubd80\uc5ec\ud55c\ub2e4.</p> </li> <li> <p>\uc774\ud6c4 \ubcc0\uacbd \uc0ac\ud56d\uc740 \uc138\uadf8\uba3c\ud2b8\uc5d0 \ubc18\uc601\ub41c\ub2e4.</p> </li> <li> <p>WAL\uc5d0 \uae30\ub85d\ub41c \uc2dc\uc810 \uc774\ud6c4\uc758 \ub370\uc774\ud130\ub294 \uc2dc\uc2a4\ud15c \uc7a5\uc560 \ubc1c\uc0dd \uc2dc\uc5d0\ub3c4 \ubcf5\uad6c\uac00 \uac00\ub2a5\ud558\ub2e4.</p> </li> <li> <p>\uac01 \uc138\uadf8\uba3c\ud2b8\ub294 \ucd5c\uc885 \ubcc0\uacbd\ub41c \ubc84\uc804 \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uba70, \uacfc\uac70 \uc21c\uc11c\uc758 \ubcc0\uacbd \uc694\uccad\uc740 \ubb34\uc2dc\ub41c\ub2e4.</p> </li> </ol> <p>\uc774\ub7ec\ud55c \uad6c\uc870\ub294 \uc2dc\uc2a4\ud15c \uc7ac\uc2dc\uc791 \ud6c4\uc5d0\ub3c4 \ub370\uc774\ud130\ub97c \uc77c\uad00\ub418\uac8c \ubcf5\uad6c\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\uc7a5\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Storage/#_1","title":"\uacb0\ub860","text":"<p>Qdrant\ub294 \uc138\uadf8\uba3c\ud2b8 \uae30\ubc18 \uc800\uc7a5 \uad6c\uc870\ub97c \uc911\uc2ec\uc73c\ub85c \ud558\uc5ec, RAM \uc6b0\uc120\uacfc \ub514\uc2a4\ud06c \uae30\ubc18 \uc800\uc7a5\uc18c, \uadf8\ub9ac\uace0 \ub2e4\uc591\ud55c \ucd5c\uc801\ud654 \uc804\ub7b5\uc744 \uc720\uc5f0\ud558\uac8c \uacb0\ud569\ud560 \uc218 \uc788\ub294 \uc800\uc7a5\uc18c \uc124\uacc4\ub97c \uc81c\uacf5\ud55c\ub2e4. \ub300\uaddc\ubaa8 \ub370\uc774\ud130\uc14b\uc5d0\uc11c \uac80\uc0c9 \uc131\ub2a5\uc744 \uc720\uc9c0\ud558\uba74\uc11c\ub3c4 \uc2dc\uc2a4\ud15c \uc790\uc6d0 \uc0ac\uc6a9\uc744 \ucd5c\uc801\ud654\ud558\ub824\uba74 \ub2e4\uc74c \uc694\uc18c\ub97c \uace0\ub824\ud55c \uc124\uacc4\uac00 \uc911\uc694\ud558\ub2e4:</p> <ul> <li> <p>\ubca1\ud130 \uc800\uc7a5\uc18c \uc120\ud0dd: RAM vs. Memmap</p> </li> <li> <p>\ud398\uc774\ub85c\ub4dc \uc800\uc7a5\uc18c \uc120\ud0dd: InMemory vs. OnDisk</p> </li> <li> <p>\ud544\ud130 \uc870\uac74\uc774 \uc790\uc8fc \uc0ac\uc6a9\ub418\ub294 \ud544\ub4dc\uc5d0 \ub300\ud55c payload index \uad6c\uc131</p> </li> <li> <p>\ucd08\uae30 \ub370\uc774\ud130 \uc801\uc7ac \ud6c4 indexing \ubc0f memmap \ucd5c\uc801\ud654 \uc2dc\uc810 \uc870\uc815</p> </li> <li> <p>\uc7a5\uc560 \ubcf5\uad6c \ubc0f \ub370\uc774\ud130 \uc77c\uad00\uc131\uc744 \uc704\ud55c WAL \uae30\ubc18 \ubc84\uc804 \uad00\ub9ac</p> </li> </ul> <p>Qdrant\uc758 \uc800\uc7a5 \uad6c\uc870\ub294 \ub2e8\uc21c\ud55c \uac80\uc0c9 \uc5d4\uc9c4\uc744 \ub118\uc5b4\uc11c, \uc2e4\uc2dc\uac04 \ubca1\ud130 \uae30\ubc18 \uc2dc\uc2a4\ud15c\uc758 \uace0\uac00\uc6a9\uc131\uacfc \uc720\uc5f0\ud55c \ub9ac\uc18c\uc2a4 \uc6b4\uc6a9\uc744 \uac00\ub2a5\ud558\uac8c \ud55c\ub2e4. \ud544\uc694\uc5d0 \ub530\ub77c \ucd5c\uc801\ud654 \uc804\ub7b5\uacfc \uc5f0\uacb0\ud558\uc5ec \uc2dc\uc2a4\ud15c \uc804\uccb4\uc758 \uc131\ub2a5\uc744 \uadf9\ub300\ud654\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/","title":"Vectors","text":"<p>Qdrant\ub294 \ubca1\ud130 \uae30\ubc18 \uac80\uc0c9 \uc5d4\uc9c4\uc73c\ub85c, \ubaa8\ub4e0 \uac80\uc0c9 \uc5f0\uc0b0\uc758 \ud575\uc2ec\uc740 \ubca1\ud130(\ub610\ub294 \uc784\ubca0\ub529)\uc774\ub2e4. \ubca1\ud130\ub294 \uac1d\uccb4 \uac04\uc758 \uc720\uc0ac\ub3c4\ub97c \uc218\uce58\ud654\ud558\uc5ec \ubca1\ud130 \uacf5\uac04 \uc0c1\uc758 \uac70\ub9ac\ub85c \ube44\uad50\ud560 \uc218 \uc788\ub3c4\ub85d \ud55c\ub2e4. </p> <p>\uc774 \uae00\uc5d0\uc11c\ub294 Qdrant\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \ubca1\ud130\uc758 \uac1c\ub150\uacfc \uad6c\uc870, \uadf8\ub9ac\uace0 \ub2e4\uc591\ud55c \ubca1\ud130 \uc720\ud615\uc5d0 \ub300\ud574 \uc124\uba85\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#_1","title":"\ubca1\ud130\ub780 \ubb34\uc5c7\uc778\uac00","text":"<p>\ubca1\ud130\ub294 \uac1d\uccb4\ub97c \uace0\uc815\ub41c \ucc28\uc6d0\uc758 \uc218\uce58 \ubc30\uc5f4\ub85c \ubcc0\ud658\ud55c \ud45c\ud604\uc774\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c \uc2e0\uacbd\ub9dd(Neural Network)\uc744 \ud1b5\ud574 \uac1d\uccb4(\ud14d\uc2a4\ud2b8, \uc774\ubbf8\uc9c0 \ub4f1)\ub97c \ubca1\ud130\ud654\ud558\uac8c \ub418\uba70, \uc774 \ubca1\ud130\ub294 \uac1d\uccb4\uc758 \uc758\ubbf8\ub098 \ud2b9\uc131\uc744 \uc555\ucd95\uc801\uc73c\ub85c \ub2f4\uace0 \uc788\ub2e4.</p> <p>\uc608\ub97c \ub4e4\uc5b4, \uc774\ubbf8\uc9c0 \uceec\ub809\uc158\uc774 \uc788\ub2e4\uace0 \uac00\uc815\ud560 \ub54c \uac01 \uc774\ubbf8\uc9c0\ub97c \ubca1\ud130\ub85c \ubcc0\ud658\ud558\uba74, \uc2dc\uac01\uc801\uc73c\ub85c \uc720\uc0ac\ud55c \uc774\ubbf8\uc9c0\ub294 \ubca1\ud130 \uacf5\uac04 \uc0c1\uc5d0\uc11c\ub3c4 \uc11c\ub85c \uac00\uae4c\uc6b4 \uc704\uce58\uc5d0 \ub193\uc774\uac8c \ub41c\ub2e4.</p> <p>\uc2e0\uacbd\ub9dd\uc740 \ubcf4\ud1b5 \uc720\uc0ac\ud55c \uac1d\uccb4 \uc30d(\ub610\ub294 \uc0bc\uc911\uc30d)\uc744 \ud559\uc2b5 \ub370\uc774\ud130\ub85c \ud558\uc5ec, \uc758\ubbf8\uc0c1 \uc720\uc0ac\ud55c \uc785\ub825\uc740 \uac00\uae4c\uc6b4 \ubca1\ud130\ub85c, \ub2e4\ub978 \uc785\ub825\uc740 \uba40\uc5b4\uc9c4 \ubca1\ud130\ub85c \ub9f5\ud551\ub418\ub3c4\ub85d \ud6c8\ub828\ub41c\ub2e4.</p> <p>\uc774\ub7ec\ud55c \uc131\uc9c8\uc744 \ud65c\uc6a9\ud558\uc5ec \uc720\uc0ac \uac80\uc0c9, \uad70\uc9d1\ud654, \uc774\uc0c1 \ud0d0\uc9c0 \ub4f1\uc758 \ub2e4\uc591\ud55c \ub370\uc774\ud130 \ud0d0\uc0c9\uc774 \uac00\ub2a5\ud574\uc9c4\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#_2","title":"\ubca1\ud130\uc758 \uc885\ub958","text":"<p>Qdrant\ub294 \ud604\ub300\uc758 \uc784\ubca0\ub529 \ubaa8\ub378\ub4e4\uc774 \uc0dd\uc131\ud558\ub294 \ub2e4\uc591\ud55c \ud615\ud0dc\uc758 \ubca1\ud130\ub97c \uc9c0\uc6d0\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#1-dense-vector","title":"1. Dense Vector","text":"<p>Dense Vector\ub294 \uac00\uc7a5 \uc77c\ubc18\uc801\uc778 \ud615\ud0dc\uc758 \ubca1\ud130\ub85c, \uace0\uc815\ub41c \uae38\uc774\uc758 \ubd80\ub3d9\uc18c\uc218\uc810(float) \uc22b\uc790 \ubc30\uc5f4\uc774\ub2e4.</p> <pre><code>[\n  -0.013, 0.020, -0.007, -0.111, ...\n]\n</code></pre> <p>\ub300\ubd80\ubd84\uc758 \uc784\ubca0\ub529 \ubaa8\ub378\uc740 Dense Vector\ub97c \ucd9c\ub825\ud558\ubbc0\ub85c \ubcc4\ub3c4\uc758 \uc804\ucc98\ub9ac \uc5c6\uc774 Qdrant\uc5d0 \uc9c1\uc811 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#2-sparse-vector","title":"2. Sparse Vector","text":"<p>Sparse Vector\ub294 \ub300\ubd80\ubd84\uc758 \uac12\uc774 0\uc778 \ud76c\uc18c \ubca1\ud130\uc774\ub2e4. \uc218\ud559\uc801\uc73c\ub85c\ub294 Dense Vector\uc640 \ub3d9\uc77c\ud558\ub098 \uc800\uc7a5\uacfc \uc778\ub371\uc2f1 \ubc29\uc2dd\uc774 \ub2e4\ub974\ub2e4.</p> <p>Qdrant\uc5d0\uc11c Sparse Vector\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 (index, value) \uc30d\uc758 \ubc30\uc5f4\ub85c \ud45c\ud604\ub41c\ub2e4.</p> <pre><code>{\n  \"indices\": [1, 3, 5, 7],\n  \"values\": [0.1, 0.2, 0.3, 0.4]\n}\n</code></pre> <p>Sparse Vector\ub294 \ubcc4\ub3c4\uc758 \uc800\uc7a5\uc18c\uc640 \uc778\ub371\uc2a4\ub85c \uad00\ub9ac\ub418\ubbc0\ub85c Dense Vector\uc640\ub294 \ubcc4\ub3c4\ub85c \uc124\uc815\ud574\uc57c \ud55c\ub2e4.</p> <p>\uceec\ub809\uc158 \uc0dd\uc131 \uc2dc \ub2e4\uc74c\uacfc \uac19\uc774 \uc815\uc758\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>{\n  \"sparse_vectors\": {\n    \"text\": {}\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#3-multivector","title":"3. MultiVector","text":"<p>Qdrant\ub294 \ud558\ub098\uc758 \ud3ec\uc778\ud2b8\uc5d0 \ub2e4\uc218\uc758 Dense Vector\ub97c \ubc30\uc5f4 \ud615\ud0dc\ub85c \uc800\uc7a5\ud560 \uc218 \uc788\ub294 MultiVector\ub97c \uc9c0\uc6d0\ud55c\ub2e4. \uc774\ub294 \uace0\uc815\ub41c \ubca1\ud130 \ud06c\uae30\ub97c \uac00\uc9c0\uba70, \ud3ec\uc778\ud2b8\ub9c8\ub2e4 \uc11c\ub85c \ub2e4\ub978 \uac1c\uc218\uc758 \ubca1\ud130\ub97c \uc800\uc7a5\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>\"vector\": [\n  [-0.013, 0.020, -0.007, -0.111],\n  [-0.030, -0.055, 0.001, 0.072],\n  [-0.041, 0.014, -0.032, -0.062]\n]\n</code></pre> <p>\uc8fc\ub85c \ub2e4\uc74c\uacfc \uac19\uc740 \uc2dc\ub098\ub9ac\uc624\uc5d0\uc11c \uc0ac\uc6a9\ub41c\ub2e4.</p> <ul> <li> <p>\ud558\ub098\uc758 \uac1d\uccb4\uc5d0 \ub300\ud574 \ub2e4\uc591\ud55c \uc2dc\uc810/\uac01\ub3c4\uc758 \ud45c\ud604\uc774 \ud544\uc694\ud55c \uacbd\uc6b0</p> </li> <li> <p>ColBERT \ub4f1 Late Interaction \ubc29\uc2dd\uc758 \ud14d\uc2a4\ud2b8 \uc784\ubca0\ub529 \ubaa8\ub378 \uc0ac\uc6a9 \uc2dc</p> </li> </ul> <p>MultiVector\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 \uceec\ub809\uc158 \uc0dd\uc131 \uc2dc <code>multivector_config</code>\ub97c \uc815\uc758\ud574\uc57c \ud558\uba70, \ud604\uc7ac\ub294 <code>max_sim</code> \ube44\uad50 \ud568\uc218\ub97c \uc9c0\uc6d0\ud55c\ub2e4.</p> <pre><code>{\n  \"vectors\": {\n    \"size\": 128,\n    \"distance\": \"Cosine\",\n    \"multivector_config\": {\n      \"comparator\": \"max_sim\"\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#4-named-vectors","title":"4. Named Vectors","text":"<p>Qdrant\uc5d0\uc11c\ub294 \ud3ec\uc778\ud2b8\ub2f9 \uc5ec\ub7ec \uac1c\uc758 \ubca1\ud130\ub97c \uc774\ub984(Named)\uc744 \ubd99\uc5ec \uad6c\ubd84\ud560 \uc218 \uc788\ub2e4. \uc608\ub97c \ub4e4\uc5b4 \uc774\ubbf8\uc9c0 \ubca1\ud130\uc640 \ud14d\uc2a4\ud2b8 \ubca1\ud130\ub97c \ub3d9\uc2dc\uc5d0 \uc800\uc7a5\ud558\uace0 \uac80\uc0c9\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>{\n  \"vectors\": {\n    \"image\": {\n      \"size\": 4,\n      \"distance\": \"Dot\"\n    },\n    \"text\": {\n      \"size\": 5,\n      \"distance\": \"Cosine\"\n    }\n  },\n  \"sparse_vectors\": {\n    \"text-sparse\": {}\n  }\n}\n</code></pre> <p>\ud3ec\uc778\ud2b8 \uc0bd\uc785 \uc2dc\uc5d0\ub3c4 \uac01\uac01\uc758 \uc774\ub984\uc73c\ub85c \uad6c\ubd84\ud558\uc5ec \ubca1\ud130\ub97c \uc800\uc7a5\ud55c\ub2e4.</p> <pre><code>{\n  \"id\": 1,\n  \"vector\": {\n    \"image\": [0.9, 0.1, 0.1, 0.2],\n    \"text\": [0.4, 0.7, 0.1, 0.8, 0.1],\n    \"text-sparse\": {\n      \"indices\": [1, 3, 5, 7],\n      \"values\": [0.1, 0.2, 0.3, 0.4]\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#_3","title":"\ubca1\ud130 \ub370\uc774\ud130 \ud0c0\uc785","text":"<p>Qdrant\ub294 \ubca1\ud130\uc758 \uc815\ubc00\ub3c4\uc640 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\uc744 \uace0\ub824\ud558\uc5ec \ub2e4\uc591\ud55c \ub370\uc774\ud130 \ud0c0\uc785\uc744 \uc9c0\uc6d0\ud55c\ub2e4.</p> \ub370\uc774\ud130 \ud0c0\uc785 \uc124\uba85 float32 (\uae30\ubcf8\uac12) 32\ube44\ud2b8 \ubd80\ub3d9\uc18c\uc218\uc810, \ub300\ubd80\ubd84\uc758 \uc784\ubca0\ub529\uc5d0 \uc801\ud569 float16 \uc808\ubc18 \ud06c\uae30\uc758 \uba54\ubaa8\ub9ac \uc0ac\uc6a9, \uc815\ubc00\ub3c4 \uc190\uc2e4\uc740 \ubbf8\ubbf8 uint8 0~255 \ubc94\uc704\uc758 \uc815\uc218\ud615, \uc591\uc790\ud654(Quantization)\ub41c \ubca1\ud130 \uc800\uc7a5 \uc2dc \uc0ac\uc6a9"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#float16","title":"\uc608: float16 \uc0ac\uc6a9 \uc124\uc815","text":"<pre><code>{\n  \"vectors\": {\n    \"size\": 128,\n    \"distance\": \"Cosine\",\n    \"datatype\": \"float16\"\n  },\n  \"sparse_vectors\": {\n    \"text\": {\n      \"index\": {\n        \"datatype\": \"float16\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#uint8","title":"\uc608: uint8 \uc0ac\uc6a9 \uc124\uc815","text":"<pre><code>{\n  \"vectors\": {\n    \"size\": 128,\n    \"distance\": \"Cosine\",\n    \"datatype\": \"uint8\"\n  },\n  \"sparse_vectors\": {\n    \"text\": {\n      \"index\": {\n        \"datatype\": \"uint8\"\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#quantization","title":"\ubca1\ud130 \uc591\uc790\ud654 (Quantization)","text":"<p>\ubca1\ud130\uc758 \ub370\uc774\ud130 \ud0c0\uc785 \ubcc0\uacbd \uc678\uc5d0\ub3c4, Qdrant\ub294 \uc591\uc790\ud654\ub41c(Quantized) \ubca1\ud130\ub97c \uc6d0\ubcf8 \ubca1\ud130\uc640 \ud568\uaed8 \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4. \uc774 \uc591\uc790\ud654 \ubca1\ud130\ub294 \ud6c4\ubcf4\ub97c \ube60\ub974\uac8c \ucd94\ub824\ub0b4\ub294 \ub370 \uc0ac\uc6a9\ub418\uac70\ub098, \uacbd\uc6b0\uc5d0 \ub530\ub77c \uc9c1\uc811 \uac80\uc0c9\uc5d0\ub3c4 \uc0ac\uc6a9\ub420 \uc218 \uc788\ub2e4.</p> <p>\uc591\uc790\ud654\ub294 \uc790\ub3d9 \ucd5c\uc801\ud654(optimization) \ub2e8\uacc4\uc5d0\uc11c \ubc31\uadf8\ub77c\uc6b4\ub4dc\ub85c \uc218\ud589\ub41c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#_4","title":"\ubca1\ud130 \uc800\uc7a5 \ubc29\uc2dd","text":"<p>Qdrant\ub294 \ubca1\ud130 \uc800\uc7a5 \uc704\uce58\ub97c \uba54\ubaa8\ub9ac \ub610\ub294 \ub514\uc2a4\ud06c \uc911 \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4. RAM \uae30\ubc18 \uc800\uc7a5\uc740 \ube60\ub978 \uac80\uc0c9 \uc18d\ub3c4\ub97c \ubcf4\uc7a5\ud558\uc9c0\ub9cc, \ub514\uc2a4\ud06c \uc800\uc7a5\uc740 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\uc744 \uc904\uc77c \uc218 \uc788\ub2e4.</p> <p>\uad6c\uccb4\uc801\uc778 \ubca1\ud130 \uc800\uc7a5 \uc804\ub7b5\uc740 \uc800\uc7a5 \uc124\uc815(Storage section)\uc5d0\uc11c \ucd94\uac00\ub85c \uc124\uc815\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/Vectors/#_5","title":"\ub9c8\ubb34\ub9ac","text":"<p>Qdrant\ub294 \ub2e4\uc591\ud55c \uc720\ud615\uc758 \ubca1\ud130\uc640 \ub370\uc774\ud130 \ud0c0\uc785\uc744 \uc9c0\uc6d0\ud558\uc5ec \ud14d\uc2a4\ud2b8, \uc774\ubbf8\uc9c0, \uba40\ud2f0\ubaa8\ub2ec \ub370\uc774\ud130 \ub4f1 \ubcf5\ud569\uc801\uc778 \ubca1\ud130 \ud45c\ud604\uc744 \uc720\uc5f0\ud558\uac8c \ub2e4\ub8f0 \uc218 \uc788\ub3c4\ub85d \uc124\uacc4\ub418\uc5b4 \uc788\ub2e4. </p> <p>Dense, Sparse, MultiVector \ub4f1 \ubaa9\uc801\uc5d0 \ub9de\ub294 \ubca1\ud130 \uad6c\uc870\ub97c \uc120\ud0dd\ud558\uace0, float16, uint8 \ub4f1\uc758 \ub370\uc774\ud130 \ud0c0\uc785\uacfc \uc870\ud569\ud558\uba74 \uc131\ub2a5\uacfc \ub9ac\uc18c\uc2a4 \ud6a8\uc728\uc131\uc744 \uadf9\ub300\ud654\ud560 \uc218 \uc788\ub2e4.</p> <p>Qdrant\ub97c \ub3c4\uc785\ud55c \ubca1\ud130 \uac80\uc0c9 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud560 \ub54c, \ubca1\ud130 \uad6c\uc131\uacfc \uc800\uc7a5 \uc804\ub7b5\uc744 \uc801\uc808\ud788 \uc120\ud0dd\ud558\ub294 \uac83\uc774 \ub9e4\uc6b0 \uc911\uc694\ud55c \uc124\uacc4 \ud3ec\uc778\ud2b8\uac00 \ub420 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/","title":"\uac1c\ubc1c \ubc0f \ud14c\uc2a4\ud2b8 \ud658\uacbd \uc124\uc815","text":"<p>Qdrant\ub294 \uace0\uc131\ub2a5 \ubca1\ud130 \uac80\uc0c9\uc744 \uc704\ud55c \uc624\ud508\uc18c\uc2a4 \uac80\uc0c9 \uc5d4\uc9c4\uc73c\ub85c, Docker \uae30\ubc18\uc758 \uac04\ud3b8\ud55c \uc2e4\ud589\ubd80\ud130 \uc9c1\uc811 \ube4c\ub4dc\uae4c\uc9c0 \ub2e4\uc591\ud55c \uac1c\ubc1c \ud658\uacbd\uc5d0\uc11c \ud14c\uc2a4\ud2b8 \ubc0f \uc6b4\uc6a9\uc774 \uac00\ub2a5\ud558\ub2e4. </p> <p>\ub610\ud55c \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub294 \ubb3c\ub860, \ubd84\uc0b0 \ud074\ub7ec\uc2a4\ud130\ub85c \ud655\uc7a5\ud558\uae30 \uc704\ud55c \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131\ub3c4 \uba85\ud655\ud788 \uc815\uc758\ub418\uc5b4 \uc788\ub2e4.</p> <p>\uc774 \uae00\uc5d0\uc11c\ub294 Qdrant\ub97c \uac1c\ubc1c\u00b7\ud14c\uc2a4\ud2b8 \uc6a9\ub3c4\ub85c \uc2e4\ud589\ud558\uace0 \uad00\ub9ac\ud558\ub294 \ubc29\ubc95\uacfc, \ud544\uc218 \ud3ec\ud2b8\ub97c \ud3ec\ud568\ud55c \ub124\ud2b8\uc6cc\ud06c \uc124\uc815\uc5d0 \ub300\ud574 \uc815\ub9ac\ud55c\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#1-docker","title":"1. Docker\ub85c \uc2e4\ud589\ud558\uae30","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#11","title":"1.1 \uae30\ubcf8 \uc2e4\ud589","text":"<p>\uac00\uc7a5 \uac04\ub2e8\ud55c \uc2e4\ud589 \ubc29\uc2dd\uc740 Docker\ub97c \uc774\uc6a9\ud55c \ucee8\ud14c\uc774\ub108 \uc2e4\ud589\uc774\ub2e4.</p> <pre><code>docker pull qdrant/qdrant\ndocker run -p 6333:6333 \\\n           -v $(pwd)/qdrant_data:/qdrant/storage \\\n           qdrant/qdrant\n</code></pre> <ul> <li> <p>Qdrant \ub370\uc774\ud130\ub294 <code>./qdrant_data</code> \ub514\ub809\ud1a0\ub9ac\uc5d0 \uc800\uc7a5\ub41c\ub2e4.</p> </li> <li> <p>\ud3ec\ud2b8 <code>6333</code>\uc740 REST API, \uc0c1\ud0dc \ud655\uc778, \uba54\ud2b8\ub9ad \uc218\uc9d1\uc5d0 \uc0ac\uc6a9\ub41c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#12","title":"1.2 \uc0ac\uc6a9\uc790 \uc124\uc815 \ud30c\uc77c \uc801\uc6a9","text":"<pre><code>docker run -p 6333:6333 \\\n           -v $(pwd)/qdrant_data:/qdrant/storage \\\n           -v $(pwd)/custom_config.yaml:/qdrant/config/production.yaml \\\n           qdrant/qdrant\n</code></pre> <p>\ub610\ub294 \uba85\uc2dc\uc801\uc73c\ub85c \uc124\uc815 \uacbd\ub85c\ub97c \uc9c0\uc815\ud558\uc5ec \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>docker run -p 6333:6333 \\\n           -v $(pwd)/qdrant_data:/qdrant/storage \\\n           -v $(pwd)/custom_config.yaml:/qdrant/config/custom_config.yaml \\\n           qdrant/qdrant \\\n           ./qdrant --config-path config/custom_config.yaml\n</code></pre>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#2-docker-compose","title":"2. Docker Compose\ub85c \uc2e4\ud589\ud558\uae30","text":"<p>Docker Compose\ub97c \ud1b5\ud574 \uc880 \ub354 \uad6c\uc870\ud654\ub41c \ubc29\uc2dd\uc73c\ub85c Qdrant\ub97c \uc2e4\ud589\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#21-compose","title":"2.1 Compose \uc608\uc2dc (\ub2e8\uc77c \ub178\ub4dc)","text":"<pre><code>services:\n  qdrant:\n    image: qdrant/qdrant:latest\n    container_name: qdrant\n    restart: always\n    ports:\n      - 6333:6333  # HTTP API\n      - 6334:6334  # gRPC API\n      - 6335:6335  # \ud074\ub7ec\uc2a4\ud130 \ud1b5\uc2e0\uc6a9\n    expose:\n      - 6333\n      - 6334\n      - 6335\n    configs:\n      - source: qdrant_config\n        target: /qdrant/config/production.yaml\n    volumes:\n      - ./qdrant_data:/qdrant/storage\n\nconfigs:\n  qdrant_config:\n    content: |\n      log_level: INFO\n</code></pre> <p><code>configs</code> \uae30\ub2a5\uc740 Docker Compose v2.23.1 \uc774\uc0c1, Docker Engine v25.0.0 \uc774\uc0c1\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud558\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#3-networking","title":"3. \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131 (Networking)","text":"<p>Qdrant\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8 \ubc0f \ubd84\uc0b0 \ud658\uacbd\uc5d0\uc11c\uc758 \uc5f0\uacb0\uc744 \uc704\ud574 \ucd1d 3\uac1c\uc758 \ud3ec\ud2b8\uac00 \ud544\uc694\ud558\ub2e4.</p> \ud3ec\ud2b8 \ubc88\ud638 \uc6a9\ub3c4 6333 RESTful HTTP API, \uc0c1\ud0dc \ud655\uc778, Prometheus \uba54\ud2b8\ub9ad \uc218\uc9d1 6334 gRPC API 6335 \ud074\ub7ec\uc2a4\ud130 \ub178\ub4dc \uac04 \ud1b5\uc2e0 (\ubd84\uc0b0 \ud658\uacbd)"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#_1","title":"\ubd84\uc0b0 \ud074\ub7ec\uc2a4\ud130 \ud658\uacbd\uc5d0\uc11c\ub294 \ub2e4\uc74c\uc744 \ub9cc\uc871\ud574\uc57c \ud55c\ub2e4.","text":"<ul> <li> <p>\ubaa8\ub4e0 Qdrant \ub178\ub4dc\ub294 \ud3ec\ud2b8 6333, 6334, 6335\ub97c \ud1b5\ud574 \uc11c\ub85c \ud1b5\uc2e0\ud560 \uc218 \uc788\uc5b4\uc57c \ud55c\ub2e4.</p> </li> <li> <p>\uc678\ubd80 \ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \ud3ec\ud2b8 6333 (HTTP) \ub610\ub294 6334 (gRPC)\ub97c \ud1b5\ud574 \uc811\uadfc\ud560 \uc218 \uc788\uc5b4\uc57c \ud55c\ub2e4.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#4-rust","title":"4. \uc18c\uc2a4 \ube4c\ub4dc (Rust \uae30\ubc18)","text":"<p>Qdrant\ub294 Rust\ub85c \uc791\uc131\ub418\uc5b4 \uc788\uc73c\uba70, \uc9c1\uc811 \ubc14\uc774\ub108\ub9ac\ub85c \ube4c\ub4dc\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#41","title":"4.1 \uc0ac\uc804 \uc900\ube44","text":"<ul> <li> <p>Rust toolchain \uc124\uce58 (<code>rustup</code>)</p> </li> <li> <p>OS\ubcc4 \ud544\uc218 \ub77c\uc774\ube0c\ub7ec\ub9ac \uc124\uce58 (Dockerfile \ucc38\uace0)</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#42","title":"4.2 \ube4c\ub4dc \uba85\ub839","text":"<pre><code>cargo build --release --bin qdrant\n</code></pre> <ul> <li>\ube4c\ub4dc \uacb0\uacfc \ubc14\uc774\ub108\ub9ac\ub294 <code>./target/release/qdrant</code>\uc5d0 \uc704\uce58\ud55c\ub2e4.</li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#5","title":"5. \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac","text":"<p>Qdrant\ub294 \ub2e4\uc591\ud55c \uc5b8\uc5b4\uc5d0 \ub300\ud55c \uacf5\uc2dd \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc81c\uacf5\ud55c\ub2e4.</p> \uc5b8\uc5b4 \ud328\ud0a4\uc9c0 / \ub9c1\ud06c Python <code>qdrant-client</code> (PyPI) TypeScript <code>@qdrant/js-client-rest</code> Go <code>github.com/qdrant/go-client</code> Java Gradle/Maven\uc6a9 Qdrant \ud074\ub77c\uc774\uc5b8\ud2b8 Rust <code>qdrant-client</code> crate C# (.NET) <code>Qdrant.Client</code> (NuGet)"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/Qdrant/%EC%9D%B4%EB%A1%A0/%EA%B0%9C%EB%B0%9C%20%EB%B0%8F%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95/#_2","title":"\uacb0\ub860","text":"<p>Qdrant\ub294 Docker, Docker Compose, Rust \ube4c\ub4dc \ub4f1 \ub2e4\uc591\ud55c \ubc29\uc2dd\uc73c\ub85c \uac1c\ubc1c \ud658\uacbd\uc744 \uc27d\uac8c \uad6c\uc131\ud560 \uc218 \uc788\uc73c\uba70, \uba40\ud2f0 \ud3ec\ud2b8 \uad6c\uc131\uacfc \ud074\ub7ec\uc2a4\ud130 \ud1b5\uc2e0\uc744 \uace0\ub824\ud55c \ub124\ud2b8\uc6cc\ud06c \uc124\uc815\uc744 \ud1b5\ud574 \ud504\ub85c\ub355\uc158 \ud655\uc7a5\uc5d0\ub3c4 \uc720\uc5f0\ud558\uac8c \ub300\uc751\ud560 \uc218 \uc788\ub2e4.</p> <ul> <li> <p>\ub2e8\uc77c \uac1c\ubc1c \ud658\uacbd: Docker \ub2e8\uc77c \uc2e4\ud589 \ub610\ub294 Compose</p> </li> <li> <p>\ud074\ub7ec\uc2a4\ud130 \ud658\uacbd: \ud3ec\ud2b8 6333/6334/6335 \uc624\ud508 \ubc0f \ub178\ub4dc \uac04 \uc5f0\uacb0 \ud544\uc694</p> </li> <li> <p>\uace0\uc131\ub2a5 \uac80\uc0c9: gRPC \ud3ec\ud2b8\ub97c \ud1b5\ud55c \ube60\ub978 \ud074\ub77c\uc774\uc5b8\ud2b8 \ud1b5\uc2e0 \uac00\ub2a5</p> </li> <li> <p>\uc720\uc5f0\ud55c \uc124\uc815: \ucee4\uc2a4\ud140 \uad6c\uc131 \ud30c\uc77c \ubc0f \ub2e4\uc911 \uc5b8\uc5b4 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc5f0\ub3d9</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/","title":"\uc0ac\uc6a9\uc790 \uc0ac\uc804 \ub4f1\ub85d \ubc29\uc2dd\uc5d0 \ub530\ub978 \uc2dc\uc2a4\ud15c \ubd80\ud558 \ud14c\uc2a4\ud2b8 \uacb0\uacfc","text":"<p>\ub775\uc0f5 \uac80\uc0c9\uc5d4\uc9c4\uc5d0\uc11c \uc0ac\uc6a9\uc790 \uc815\uc758 \uc0ac\uc804(<code>user_dictionary</code>) \uc801\uc6a9 \ubc29\uc2dd\uc5d0 \ub530\ub77c \uac80\uc0c9 \uc131\ub2a5 \ubc0f \uc2dc\uc2a4\ud15c \ubd80\ud558\uc5d0 \uc720\uc758\ubbf8\ud55c \ucc28\uc774\uac00 \ubc1c\uc0dd\ud568\uc744 \ud655\uc778\ud558\uc600\uc2b5\ub2c8\ub2e4. \ud2b9\ud788 \uae30\uc874\uc5d0\ub294 OpenSearch \uc778\ub371\uc2a4 \uc124\uc815(<code>settings.user_dictionary_rules</code>)\uc5d0 \uc0ac\uc804 \ub370\uc774\ud130\ub97c \uc9c1\uc811 \uc785\ub825\ud558\uc600\uc73c\ub098, \ub300\uaddc\ubaa8 \uc0ac\uc804(\uc57d 60,000\uac74) \ubc18\uc601 \uc774\ud6c4 \uc131\ub2a5 \uc800\ud558 \ubc0f \uc2dc\uc2a4\ud15c \ubd88\uc548\uc815 \uc774\uc288\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.</p> <p>\uc774\uc5d0 <code>.txt \uc678\ubd80 \ud30c\uc77c \ucc38\uc870 \ubc29\uc2dd</code>\uc73c\ub85c \ubcc0\uacbd \uc2dc \uc131\ub2a5 \uac1c\uc120 \uac00\ub2a5\uc131\uc744 \uac80\uc99d\ud558\uae30 \uc704\ud574, \ub3d9\uc77c \uc870\uac74\uc5d0\uc11c \ubca4\uce58\ub9c8\ud06c \ud14c\uc2a4\ud2b8\ub97c \uc9c4\ud589\ud558\uc600\uc2b5\ub2c8\ub2e4.</p>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/#2","title":"2. \ud14c\uc2a4\ud2b8 \uc870\uac74","text":"\ud56d\ubaa9 \uac12 \uc694\uccad \uc218\ub7c9 10,000\uac74 \ub3d9\uc2dc \uc694\uccad \uc218 500 Thread \ube44\uad50 \ubc29\uc2dd settings \uc9c1\uc811 \uc785\ub825 \ubc29\uc2dd vs .txt \ud30c\uc77c \ucc38\uc870 \ubc29\uc2dd \ud14c\uc2a4\ud2b8 \ud658\uacbd \ub3d9\uc77c \ud074\ub7ec\uc2a4\ud130, \ub3d9\uc77c \uac80\uc0c9 API"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/#3","title":"3. \uc131\ub2a5 \ube44\uad50 \uacb0\uacfc","text":"\ud56d\ubaa9 settings \ubc29\uc2dd .txt \ubc29\uc2dd \ucc28\uc774 \ubd84\uc11d (.txt \uae30\uc900) \ucd1d \uc2e4\ud589 \uc2dc\uac04 (\ucd08) 20.64 11.68 \u25bc 8.96\ucd08 \uac10\uc18c (43.4%) TPS (\ucd08\ub2f9 \uc694\uccad \uc218) 484.44 856.08 \u25b2 +76.7% \ud5a5\uc0c1 OpenSearch Took \ud3c9\uade0 (ms) 754.76 288.85 \u25bc 61.7% \uac10\uc18c OpenSearch Took P99 (ms) 6873.0 1336.0 \u25bc \ub9e4\uc6b0 \ud070 \ucc28\uc774 \uc804\uccb4 \uc751\ub2f5 \uc2dc\uac04 \ud3c9\uade0 (ms) 1016.61 565.37 \u25bc 44.4% \uac10\uc18c Query Profile \ud3c9\uade0 (ms) 6.80 1.55 \u25bc 77.2% \uac10\uc18c"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/#4","title":"4. \uac1c\uc120 \ubc29\ud5a5 \ubc0f \uc81c\uc548","text":""},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/#_1","title":"\uad8c\uace0 \uc0ac\ud56d","text":"<ul> <li> <p>\uc0ac\uc6a9\uc790 \uc815\uc758 \uc0ac\uc804\uc740 settings \uc9c1\uc811\uc785\ub825 \ub300\uc2e0 <code>.txt \ud30c\uc77c \ucc38\uc870 \ubc29\uc2dd</code>\uc73c\ub85c \uc6b4\uc601 \uc804\ud658 \ud544\uc694.</p> </li> <li> <p>OpenSearch \ucee8\ud14c\uc774\ub108 \ub0b4 <code>/usr/share/opensearch/config/userdict.txt</code> \uacbd\ub85c \ub4f1 \ud65c\uc6a9 \uad8c\uc7a5.</p> </li> </ul>"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/#_2","title":"\uc801\uc6a9 \uc791\uc5c5 \ub0b4\uc5ed","text":"\uad6c\ubd84 \uc791\uc5c5 \ub0b4\uc6a9 \ube44\uace0 1 \uac80\uc0c9 API(search-nest) \uc11c\ubc84\uc640 OpenSearch \uc11c\ubc84 \uac04 \ud1b5\uc2e0 \ud655\uc778 \ubc29\ud654\ubcbd \ubc0f \ubcf4\uc548 \uadf8\ub8f9 \uc810\uac80, \ud544\uc694\uc2dc \ub0b4\ubd80 \ud504\ub85d\uc2dc/VPN \uad6c\uc131 2 \uc0ac\uc6a9\uc790 \uc0ac\uc804 \uc801\uc6a9 \ubc29\uc2dd \ubcc0\uacbd \uae30\uc874 <code>settings.user_dictionary_rules</code> \uc81c\uac70 \u2192 <code>tokenizer</code> \ub0b4 <code>user_dictionary</code> \uacbd\ub85c \uc124\uc815\uc73c\ub85c \uad50\uccb4. \ubc30\ud3ec \ud544\uc694"},{"location":"E.%EA%B2%80%EC%83%89%EC%97%94%EC%A7%84/%EA%B2%80%EC%A6%9D/%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%82%AC%EC%A0%84%20%EB%93%B1%EB%A1%9D%20%EB%B0%A9%EC%8B%9D%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EB%B6%80%ED%95%98%20%ED%85%8C%EC%8A%A4%ED%8A%B8%20%EA%B2%B0%EA%B3%BC/#5","title":"5. \uacb0\ub860","text":"<p><code>.txt \ucc38\uc870 \ubc29\uc2dd</code>\uc740 \ub300\uaddc\ubaa8 \uc0ac\uc804 \ud658\uacbd\uc5d0\uc11c\ub3c4 \uc131\ub2a5 \uc800\ud558 \uc5c6\uc774 \uc548\uc815\uc801\uc778 \uc6b4\uc601\uc774 \uac00\ub2a5\ud558\uba70, \ud074\ub7ec\uc2a4\ud130 \ub9ac\ub85c\ub4dc\ub098 \ub178\ub4dc \uc7ac\ubc30\uce58 \ub4f1\uc5d0\ub3c4 \uc601\ud5a5\uc774 \uc801\uc2b5\ub2c8\ub2e4. \uc7a5\uae30\uc801\uc778 \uad00\uc810\uc5d0\uc11c \uac80\uc0c9 \ud488\uc9c8 \uc720\uc9c0\uc640 \uc6b4\uc601 \ud6a8\uc728\uc131\uc744 \ub3d9\uc2dc\uc5d0 \ud655\ubcf4\ud560 \uc218 \uc788\ub294 \ubc29\uc548\uc73c\ub85c \ud310\ub2e8\ub429\ub2c8\ub2e4.</p>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/","title":"macOS\uc5d0\uc11c USB \ud3ec\ub9f7 \uc2e4\ud328 \uc2dc \ud574\uacb0 \ubc29\ubc95","text":"<p>macOS\uc758 \ub514\uc2a4\ud06c \uc720\ud2f8\ub9ac\ud2f0(Disk Utility)\ub97c \uc774\uc6a9\ud574 USB\ub97c \ud3ec\ub9f7\ud558\ub824\uace0 \ud560 \ub54c, \uac04\ud639 \ud3ec\ub9f7\uc774 \uc2e4\ud328\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\ub2e4. \ud2b9\ud788 \u201c\ud30c\ud2f0\uc158 \ub9f5\uc744 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. (-69874)\u201d\ub77c\ub294 \uc624\ub958\uc640 \ud568\uaed8 \ub514\uc2a4\ud06c\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\ub2e4. \uc774\ub7ec\ud55c \uacbd\uc6b0 \ud130\ubbf8\ub110\uc744 \ud1b5\ud574 \ubb38\uc81c\ub97c \ud574\uacb0\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#1","title":"1. \uc2e4\ud328 \uc99d\uc0c1","text":"<p>\ub514\uc2a4\ud06c \uc720\ud2f8\ub9ac\ud2f0\uc5d0\uc11c \"\ub514\uc2a4\ud06c \uc9c0\uc6b0\uae30\"\ub97c \uc2e4\ud589\ud588\uc9c0\ub9cc \ub2e4\uc74c\uacfc \uac19\uc740 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\ub2e4.</p> <pre><code>'\ub514\uc2a4\ud06c \uc9c0\uc6b0\uace0 \uc0dd\uc131 \uc911'\n\uc9c0\uc6b0\uae30 \uc791\uc5c5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \uacc4\uc18d\ud558\ub824\uba74 \uc644\ub8cc\ub97c \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.\n\ud30c\ud2f0\uc158 \ub9f5\uc744 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. (-69874)\n</code></pre> <p>\uc774 \uacbd\uc6b0 GUI \ubc29\uc2dd\uc73c\ub85c\ub294 \ub354 \uc774\uc0c1 \uc9c4\ud589\ud560 \uc218 \uc5c6\uc73c\ubbc0\ub85c, \ud130\ubbf8\ub110\uc5d0\uc11c \uc218\ub3d9\uc73c\ub85c \ub514\uc2a4\ud06c\ub97c \ud3ec\ub9f7\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ud574\uacb0\ud560 \uc218 \uc788\ub2e4.</p>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#2","title":"2. \ud130\ubbf8\ub110\uc744 \ud1b5\ud55c \ud3ec\ub9f7 \uc808\ucc28","text":""},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#1_1","title":"(1) \ub514\uc2a4\ud06c \ubaa9\ub85d \ud655\uc778","text":"<p>\uba3c\uc800 \ud130\ubbf8\ub110\uc744 \uc5f4\uace0 \uc5f0\uacb0\ub41c \ub514\uc2a4\ud06c \ubaa9\ub85d\uc744 \ud655\uc778\ud55c\ub2e4.</p> <pre><code>diskutil list\n</code></pre> <p>\uc774 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uba74 <code>/dev/disk4</code>, <code>/dev/disk5</code> \ub4f1 \ub2e4\uc591\ud55c \ub514\uc2a4\ud06c\uac00 \ucd9c\ub825\ub418\uba70, USB \uc7a5\uce58\uc5d0 \ud574\ub2f9\ud558\ub294 \ub514\uc2a4\ud06c \ubc88\ud638\ub97c \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \uc6a9\ub7c9\uc774\ub098 \uc774\ub984 \ub4f1\uc744 \ubcf4\uace0 \ud310\ub2e8\ud55c\ub2e4.</p>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#2_1","title":"(2) \ub514\uc2a4\ud06c \uc5b8\ub9c8\uc6b4\ud2b8","text":"<p>\ub514\uc2a4\ud06c\uac00 \ub9c8\uc6b4\ud2b8\ub41c \uc0c1\ud0dc\uc5d0\uc11c\ub294 \ud3ec\ub9f7\uc774 \ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c, \uc6b0\uc120 \uc5b8\ub9c8\uc6b4\ud2b8\ub97c \uc218\ud589\ud55c\ub2e4.</p> <pre><code>diskutil unmountDisk /dev/disk4\n</code></pre> <p><code>Unmount of all volumes on disk4 was successful</code> \uba54\uc2dc\uc9c0\uac00 \ucd9c\ub825\ub418\uba74 \uc131\uacf5\uc801\uc73c\ub85c \uc5b8\ub9c8\uc6b4\ud2b8\ub41c \uac83\uc774\ub2e4.</p>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#3","title":"(3) \ub514\uc2a4\ud06c \ud3ec\ub9f7","text":"<p>\uc774\uc81c \ud574\ub2f9 \ub514\uc2a4\ud06c\ub97c FAT32 \ud615\uc2dd(MS-DOS)\uacfc MBR \ud30c\ud2f0\uc158 \ub9f5\uc73c\ub85c \ud3ec\ub9f7\ud55c\ub2e4.</p> <pre><code>diskutil eraseDisk MS-DOS \"USB\" MBR /dev/disk4\n</code></pre> <ul> <li> <p><code>\"USB\"</code>\ub294 \ud3ec\ub9f7 \ud6c4 \ub514\uc2a4\ud06c\uc5d0 \ud45c\uc2dc\ub420 \uc774\ub984\uc774\ub2e4. \uc790\uc720\ub86d\uac8c \ubcc0\uacbd \uac00\ub2a5\ud558\ub2e4.</p> </li> <li> <p><code>MS-DOS</code>\ub294 FAT32 \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc744 \uc758\ubbf8\ud558\uba70, <code>MBR</code>\uc740 \ub9c8\uc2a4\ud130 \ubd80\ud2b8 \ub808\ucf54\ub4dc \ubc29\uc2dd\uc758 \ud30c\ud2f0\uc158\uc774\ub2e4.</p> </li> </ul> <p>\uc791\uc5c5\uc774 \uc644\ub8cc\ub418\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uba54\uc2dc\uc9c0\uac00 \ucd9c\ub825\ub41c\ub2e4.</p> <pre><code>Finished erase on disk4\n</code></pre> <p>\uc774\ub85c\uc368 USB \ud3ec\ub9f7\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub41c \uac83\uc774\ub2e4.</p>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#3_1","title":"3. \ud3ec\ub9f7 \uc131\uacf5 \uc5ec\ubd80 \ud655\uc778","text":"<p>Finder\uc5d0\uc11c USB\uac00 <code>\"USB\"</code>\ub77c\ub294 \uc774\ub984\uc73c\ub85c \uc790\ub3d9 \ub9c8\uc6b4\ud2b8\ub418\uba70 \uc815\uc0c1\uc801\uc73c\ub85c \uc778\uc2dd\ub418\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4. \ud130\ubbf8\ub110\uc5d0\uc11c \ub2e4\uc74c \uba85\ub839\uc5b4\ub85c\ub3c4 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.</p> <pre><code>diskutil info /Volumes/USB\n</code></pre> <p>\ucd9c\ub825 \uacb0\uacfc\uc5d0\uc11c \ub2e4\uc74c\uacfc \uac19\uc740 \ud56d\ubaa9\uc744 \ud655\uc778\ud558\uba74 \ub41c\ub2e4.</p> <ul> <li> <p><code>File System: MS-DOS (FAT32)</code></p> </li> <li> <p><code>Writable: Yes</code></p> </li> </ul>"},{"location":"F.%EA%B8%B0%ED%83%80/macOS%EC%97%90%EC%84%9C%20USB%20%ED%8F%AC%EB%A7%B7%20%EC%8B%A4%ED%8C%A8%20%EC%8B%9C%20%ED%95%B4%EA%B2%B0%20%EB%B0%A9%EB%B2%95/#4","title":"4. \ub9c8\ubb34\ub9ac","text":"<p>macOS\uc5d0\uc11c \ub514\uc2a4\ud06c \uc720\ud2f8\ub9ac\ud2f0\ub97c \ud1b5\ud55c \ud3ec\ub9f7\uc774 \uc2e4\ud328\ud558\ub354\ub77c\ub3c4, \ud130\ubbf8\ub110\uc744 \ud65c\uc6a9\ud558\uba74 \ub300\ubd80\ubd84\uc758 \ubb38\uc81c\ub97c \ud574\uacb0\ud560 \uc218 \uc788\ub2e4. \ud2b9\ud788 <code>diskutil</code> \uba85\ub839\uc5b4\ub294 \ub514\uc2a4\ud06c \uad00\ub9ac\uc5d0 \ub9e4\uc6b0 \uac15\ub825\ud55c \ub3c4\uad6c\uc774\ubbc0\ub85c \uc775\uc219\ud574\ub450\uba74 \ub2e4\uc591\ud55c \uc0c1\ud669\uc5d0 \uc720\uc6a9\ud558\uac8c \ud65c\uc6a9\ud560 \uc218 \uc788\ub2e4.</p>"}]}