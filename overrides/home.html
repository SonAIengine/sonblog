{% extends "main.html" %}

{% block tabs %}
  {{ super() }}
{% endblock %}

{% block content %}
<section class="hero">
  <div class="hero-inner">
    <h1>SON BLOG</h1>
    <p class="hero-subtitle">AI Engineer · 손성준</p>
    <p class="hero-desc">LLM Serving · RAG · Rust Search Engine · K8s · Embedding Optimization</p>
    <a href="portfolio/" class="hero-portfolio-link">Portfolio</a>
    <p class="hero-emails">sonsj97@plateer.com · sonsj97@naver.com</p>
  </div>
  <span class="hero-stats">{{ post_counts.total }} posts</span>
</section>

<section class="home-cards">
  <a href="full-stack/" class="home-card">
    <h2>Full Stack</h2>
    <p>Python, PoC, 프론트엔드, 백엔드 개발</p>
    <span class="home-card-count">{{ post_counts.full_stack }} posts</span>
  </a>
  <a href="search-engine/" class="home-card">
    <h2>Search Engine</h2>
    <p>Rust 커머스 검색 엔진, OpenSearch, Qdrant, 시맨틱 검색</p>
    <span class="home-card-count">{{ post_counts.search_engine }} posts</span>
  </a>
  <a href="ai/" class="home-card">
    <h2>AI</h2>
    <p>GPU 모델 서빙, 임베딩 최적화, 파인튜닝, XGEN 플랫폼</p>
    <span class="home-card-count">{{ post_counts.ai }} posts</span>
  </a>
  <a href="devops/" class="home-card">
    <h2>DevOps</h2>
    <p>K8s, ArgoCD, Jenkins, Docker, 인프라 구성</p>
    <span class="home-card-count">{{ post_counts.devops }} posts</span>
  </a>
  <a href="graph/" class="home-card home-card--graph">
    <div class="home-card--graph-bg">
      <svg class="graph-bg-svg" viewBox="0 0 400 120" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
        <defs>
          <radialGradient id="glow1" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#7c3aed" stop-opacity="0.6"/>
            <stop offset="100%" stop-color="#7c3aed" stop-opacity="0"/>
          </radialGradient>
          <radialGradient id="glow2" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#06b6d4" stop-opacity="0.5"/>
            <stop offset="100%" stop-color="#06b6d4" stop-opacity="0"/>
          </radialGradient>
        </defs>
        <!-- glow halos -->
        <ellipse cx="200" cy="60" rx="80" ry="50" fill="url(#glow1)" opacity="0.4"/>
        <ellipse cx="320" cy="40" rx="50" ry="35" fill="url(#glow2)" opacity="0.3"/>
        <!-- edges -->
        <line x1="200" y1="60" x2="100" y2="25" stroke="#a78bfa" stroke-width="1" opacity="0.5"/>
        <line x1="200" y1="60" x2="300" y2="20" stroke="#a78bfa" stroke-width="1" opacity="0.5"/>
        <line x1="200" y1="60" x2="80" y2="85" stroke="#67e8f9" stroke-width="0.8" opacity="0.4"/>
        <line x1="200" y1="60" x2="330" y2="90" stroke="#67e8f9" stroke-width="0.8" opacity="0.4"/>
        <line x1="200" y1="60" x2="200" y2="105" stroke="#f9a8d4" stroke-width="0.8" opacity="0.4"/>
        <line x1="200" y1="60" x2="155" y2="95" stroke="#f9a8d4" stroke-width="0.8" opacity="0.4"/>
        <line x1="200" y1="60" x2="250" y2="95" stroke="#f9a8d4" stroke-width="0.8" opacity="0.4"/>
        <line x1="100" y1="25" x2="300" y2="20" stroke="#a78bfa" stroke-width="0.6" opacity="0.25"/>
        <line x1="80" y1="85" x2="330" y2="90" stroke="#fbbf24" stroke-width="0.6" opacity="0.25"/>
        <line x1="60" y1="50" x2="100" y2="25" stroke="#a78bfa" stroke-width="0.6" opacity="0.3"/>
        <line x1="360" y1="35" x2="300" y2="20" stroke="#67e8f9" stroke-width="0.6" opacity="0.3"/>
        <!-- satellite nodes -->
        <circle cx="100" cy="25" r="4.5" fill="#a78bfa" opacity="0.9"/>
        <circle cx="300" cy="20" r="4.5" fill="#a78bfa" opacity="0.9"/>
        <circle cx="80" cy="85" r="4" fill="#67e8f9" opacity="0.85"/>
        <circle cx="330" cy="90" r="4" fill="#67e8f9" opacity="0.85"/>
        <circle cx="200" cy="105" r="3.5" fill="#f9a8d4" opacity="0.8"/>
        <circle cx="155" cy="95" r="3.5" fill="#f9a8d4" opacity="0.8"/>
        <circle cx="250" cy="95" r="3.5" fill="#f9a8d4" opacity="0.8"/>
        <circle cx="60" cy="50" r="3" fill="#a78bfa" opacity="0.7"/>
        <circle cx="360" cy="35" r="3" fill="#67e8f9" opacity="0.7"/>
        <circle cx="40" cy="100" r="2.5" fill="#fbbf24" opacity="0.6"/>
        <circle cx="370" cy="100" r="2.5" fill="#fbbf24" opacity="0.6"/>
        <!-- center node (pulse) -->
        <circle cx="200" cy="60" r="10" fill="#7c3aed" opacity="0.15" class="graph-pulse-outer"/>
        <circle cx="200" cy="60" r="7" fill="#7c3aed" opacity="0.9"/>
        <circle cx="200" cy="60" r="3.5" fill="#c4b5fd"/>
      </svg>
    </div>
    <div class="home-card--graph-content">
      <div class="home-card--graph-label">Interactive</div>
      <h2>Knowledge Graph</h2>
      <p>{{ graph_metadata.total_posts }}개 포스트 &middot; {{ graph_metadata.total_tags }}개 태그</p>
      <span class="home-card--graph-cta">탐색하기 &rarr;</span>
    </div>
  </a>
</section>

<section class="home-recent">
  <h2>Recent Posts</h2>
  <div class="recent-list">
    {% for post in recent_posts %}
    <a href="{{ post.url }}" class="recent-item">
      <span class="recent-category">{{ post.category }}</span>
      <span class="recent-title">{{ post.title }}</span>
      <span class="recent-date">{{ post.date.strftime("%Y.%m.%d") }}</span>
    </a>
    {% endfor %}
  </div>
</section>
{% endblock %}
